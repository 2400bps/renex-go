{"version":3,"sources":["lib/errors.ts","lib/wallets/web3browser.ts","actions/popup/popupActions.ts","components/popups/LedgerPopup.tsx","lib/wallets/ledger.tsx","lib/wallets/privateKey.tsx","lib/wallets/trezor.tsx","lib/wallets/wallet.ts","components/Loading.tsx","lib/network.ts","lib/wallets/keystore.tsx","components/popups/KeystorePopup.tsx","lib/web3.ts","lib/conversion.ts","actions/alert/alertActions.ts","lib/market.ts","lib/record.ts","reducers/types.ts","actions/alert/pendingAlertActions.ts","components/popups/ApprovalPopup.tsx","reducers/typesSdk.ts","actions/trader/balanceActions.ts","actions/balances/balancesActions.ts","actions/inputs/inputsActions.ts","actions/orderbook/traderBookActions.ts","actions/trader/walletActions.ts","actions/trader/migrationActions.ts","components/popups/SigningPopup.tsx","actions/settlement/atomicActions.tsx","components/AtomicNotice.tsx","components/Console.tsx","components/TradeTokenBanner.tsx","components/popups/OpenOrderPopup.tsx","actions/trader/orderActions.ts","components/InfoLabel.tsx","components/SubmittedTradesTable.tsx","components/ViewBalancesTable.tsx","components/popups/MigrationPopup.tsx","lib/history.ts","actions/trader/accountActions.ts","components/Alerts.tsx","actions/market/marketActions.ts","actions/orderbook/hiddenBookActions.ts","actions/sdk/sdkActions.ts","components/BackgroundTasks.tsx","components/ErrorBoundary.tsx","components/BalanceBanner.tsx","components/Heading.tsx","components/BalanceHistory.tsx","components/Blocky.tsx","components/Header.tsx","components/MarketBanner.tsx","components/ViewAtomicBalances.tsx","components/ViewBalances.tsx","components/pages/Balances.tsx","components/SubmittedTrades.tsx","components/ExecutedTrades.tsx","components/HiddenOrderbook.tsx","lib/balances.ts","components/NewOrderInputField.tsx","components/NewOrderInputForm.tsx","components/NewOrderInputs.tsx","components/Select.tsx","components/SelectMarket.tsx","components/WrapBitcoin.tsx","components/NewOrder.tsx","components/pages/Exchange.tsx","components/popups/SelectWeb3Account.tsx","components/popups/VerificationPopup.tsx","components/WalletItem.tsx","components/Wallets.tsx","components/pages/Home.tsx","components/pages/LoggingOut.tsx","components/pages/Orders.tsx","components/Popup.tsx","actions/trader/termsActions.ts","components/popups/TermsPopup.tsx","components/App.tsx","reducers/rootReducer.ts","reducers/alert/alertReducer.ts","reducers/balances/balancesReducer.ts","reducers/orderbook/hiddenBookReducer.ts","reducers/inputs/inputsReducer.ts","reducers/market/marketReducer.ts","reducers/popup/popupReducer.ts","reducers/orderbook/traderBookReducer.ts","reducers/trader/traderReducer.ts","reducers/sdk/sdkReducer.ts","store/persistConfig.ts","store/configureStore.ts","index.tsx","tokens sync /^/.//.*$","tokens/btc.svg","tokens/dgx.svg","tokens/eth.svg","tokens/omg.svg","tokens/ren.svg","tokens/tusd.svg","tokens/wbtc.png","tokens/wbtc.svg","tokens/zrx.svg"],"names":["_captureException_","error","details","Sentry","scope","category","setTag","level","setLevel","Object","keys","forEach","key","setExtra","response","data","console","_captureBackgroundException_","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","_captureInteractionException_","_captureComponentException_","errorInfo","description","getInjectedWeb3Provider","_ref","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","window","ethereum","enable","abrupt","t0","Error","web3","currentProvider","stop","this","apply","arguments","MetaMask","name","slug","enabled","getWeb3Provider","_getWeb3Provider","_callee2","provider","_context2","sent","__webpack_require__","d","__webpack_exports__","setPopup","clearPopup","typesafe_actions__WEBPACK_IMPORTED_MODULE_0__","createStandardAction","derivationRegex","RegExp","options","value","label","LedgerPopup","_React$Component","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","validatePath","test","handleChange","derivation","setState","handleUnlock","asyncToGenerator","regenerator_default","e","_this$props","checkConnection","resolve","_value","preventDefault","state","loading","t1","t2","message","match","shownToUser","_x","inherits","createClass","_this$state","react","className","onSubmit","react_select_esm","onChange","isValidNewOption","type","Loading","React","createProvider","engine","ProviderEngine","newDerivation","slice","ledger","createLedgerSubprovider","TransportU2F","create","networkId","networkData","ethNetworkId","accountsLength","path","addProvider","NonceSubprovider","FetchSubprovider","rpcUrl","INFURA_URL","start","args","accounts","getAccounts","Web3","length","Ledger","_callee3","address","_context3","PopupPromise","_ref2","reject","store","dispatch","popup","LedgerPopup_LedgerPopup","onCancel","ErrorCanceledByUser","_x3","_x4","_x2","PrivateKey","getReadOnlyProvider","Trezor","Wallet","ErrorVerificationFailed","WalletList","List","Keystore","fn","Promise","reason","WalletDetails","Map","set","react__WEBPACK_IMPORTED_MODULE_0__","alt","concat","NETWORK","infura","INFURA_KEY","keystore","password","version","wallet","privateKey","walletProvider","_ref3","innerResolve","react__WEBPACK_IMPORTED_MODULE_3__","_components_popups_KeystorePopup__WEBPACK_IMPORTED_MODULE_9__","Crypto","crypto","parseInt","ethereumjsWallet","Buffer","warn","getAddressesString","getAddress","toString","WalletSubprovider","KeystorePopup","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","handleInput","event","element","target","current","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","handleUpload","files","f","reader","FileReader","onload","eInner","JSON","parse","result","readAsText","undefined","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_home_noah_github_go_src_github_com_republicprotocol_renex_go_modules_renex_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_7__","placeholder","_components_Loading__WEBPACK_IMPORTED_MODULE_8__","eth","getNetwork","net","getNetworkType","includesAddress","addressIn","toLowerCase","then","map","acc","includes","TimeMagnitude","setAlert","clearAlert","naturalTime","expiry","diff","days","countDown","moment","duration","unix","asDays","hours","asHours","minutes","asMinutes","seconds","asSeconds","suffix","Math","round","showingSeconds","floor","sleep","ms","setTimeout","Pair","getTimeMagnitude","isBefore","Day","Hour","Minute","Second","getStep","step","isZero","BigNumber","toFixed","digits","log10","_significantDigits","n","simplify","roundDown","isEqualTo","c","exp","toNumber","pow","exponentiatedBy","div","ceil","significantDigits","slicedToArray","times","getPriceStep","price","getVolumeStep","volume","Pairs","OrderedMap","BTC_ETH","code","orderSettlement","OrderSettlement","RenExAtomic","quoteToken","Token","BTC","baseToken","ETH","BTC_WBTC","WBTC","fixedPrice","ETH_REN","REN","ETH_DGX","DGX","ETH_TUSD","TUSD","ETH_ZRX","ZRX","ETH_OMG","OMG","TokenDetails","UnknownToken","symbol","icon","pairs","cmcID","coingeckoID","settlements","offChain","RenEx","tokens","getPrice","quoteCode","baseCode","quoteDetails","baseDetails","url","percentChange","get","fetch","json","market_data","current_price","price_change_percentage_24h_in_currency","RenExTokens","filter","token","indexOf","toList","RenExAtomicTokens","Record","_Immutable$Record","_class","inner","Immutable","esm_get","prototype","InputsData","_Record","market","orderInputs","side","OrderSide","BUY","pricepoint","minVolume","HiddenBookData","_Record2","hiddenOrders","TraderBookData","_Record3","traderOrders","cancelling","BalanceHistory","_Record4","updateIndex","balanceHistory","TraderData","_Record5","stringify","agreedToTerms","str","seenMigrationMap","atomicBalances","usableAtomicBalances","atomicAddresses","atomConnectionStatus","AtomicConnectionStatus","NotConnected","legacyBalances","accountLegacyBalances","usableLegacyBalances","sdk","RenExSDK","providers","HttpProvider","AlertType","LabelLevel","SDKData","_Record6","supportedTokens","supportedAtomicTokens","supportedMarkets","minEthTradeVolume","darknodeFeePercent","wrappingFeePercent","UnknownMarketPrice","MarketPriceData","_Record7","marketPrices","Alert","_Record8","alertType","Warning","AlertData","_Record9","pendingAlerts","alert","PopupData","_Record10","stack","addPendingAlert","removePendingAlerts","ApprovalPopup","_isMounted","logCount","catch","errorMessage","_this2","closePopup","title","onClick","newApprovalPopup","onCancelAction","ApprovalPopup_ApprovalPopup","dismissible","OrderInputsAllRecord","OrderType","LIMIT","nonce","BN","MatchDetailsRecord","orderID","matchedID","receivedVolume","spentVolume","fee","receivedToken","spentToken","ComputedOrderDetailsRecord","spendToken","receiveToken","receiveVolume","spendVolume","date","feeAmount","feeToken","TraderOrderRecordDefault","id","trader","status","OrderStatus","NOT_SUBMITTED","matchDetails","computedOrderDetails","transactionHash","TraderOrderRecord","BalanceActionRecord","action","BalanceActionType","Withdraw","amount","time","TransactionStatus","Pending","txHash","traderOrderToRecord","traderOrder","updateLegacyBalance","updateLegacyBalances","updateUsableLegacyBalances","updateUsableLegacyBalance","updateAccountLegacyBalance","updateAccountLegacyBalances","updateAtomicBalances","updateAtomicAddresses","updateUsableAtomicBalances","withdraw","balances","usableBalances","currencyCode","amountBigNumber","balance","parseFloat","lte","gt","close","transactionCall","awaitConfirmation","withdrawResult","balanceAction","balanceActionRecord","storeBalanceActions","getLegacyBalances","updateBalancesHistory","checkAll","valueSeq","toArray","balanceActionStatus","fetchBalanceActionStatus","Replaced","Done","tokenDetails","Deposit","Success","method","_ref4","_callee4","accountBalances","allTokenBalances","_context4","fetchSupportedTokens","fetchBalances","free","total","nondeposited","tokenBalance","used","plus","ids","keySeq","pendingAlert","getAtomicBalances","_ref5","_callee5","_context5","atom","isConnected","fetchSupportedAtomicTokens","all","fetchAddresses","atomicTokenAddresses","index","tokenBalancesMap","totalBalance","setMarket","setOrder","addOrders","updateOrderStatus","updateOrderCancelling","defaultOrderFilter","checkAllOrders","order","OPEN","CONFIRMED","checkOrderStatuses","toCheck","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_loop","_iterator","_step","_ret","orderStatus","v","fetchOrderStatus","SETTLED","fetchMatchDetails","t3","t4","Symbol","iterator","done","delegateYield","return","finish","storeWallet","seenMigration","SigningPopup","callSign","sign","signing","_componentDidMount","item","updateAtomConnectionStatus","refreshAtomConnectionStatus","refreshStatus","authorizeSwapper","_atomConnectedAddress","authorize","SigningPopup_SigningPopup","AtomicNoticeClass","retryAuthorize","handleLinkAtom","actions","retryConnect","resetStatus","atomAction","linkError","linkPending","reconnect","disabled","href","NotAuthorized","AtomNotAuthorized","ChangedSwapper","InvalidSwapper","ConnectedLocked","ConnectedUnlocked","AtomicNotice","connect","bindActionCreators","NUMERATOR","DENOMINATOR","OFFSET","Console","bottomElement","render","enhanced","role","onClickHandler","logs","ref","updateBottomElement","componentDidMount","scrollToBottom","componentWillReceiveProps","forceUpdate","scrollIntoView","behavior","_event","TradeTokenBanner","leftArrow","spendTokenIcon","require","receiveTokenIcon","src","OpenOrderPopupClass","renderConfirm","feePercent","_symbol$split","split","_symbol$split2","spendTokenDetails","receiveTokenDetails","baseTokenDetails","quoteTokenDetails","baseVolume","minBaseVolume","quoteVolume","feeVolume","minus","feeTokenDetails","TradeTokenBanner_TradeTokenBanner","onConfirm","renderOpening","Console_Console","simpleConsole","confirmed","log","push","skipConfirm","OpenOrderPopup","newOpenOrderPopup","openOrder","minimumVolume","orderType","onSuccess","onError","marketPair","pricepointBN","volumeBN","minimumVolumeBN","openOrderCall","onDismiss","openOrderResult","cancelOrder","_callee8","_context8","orderCancelling","cancelOrderCall","_ref6","_callee7","_ref7","promiEvent","_context7","on","CANCELED","_ref9","_callee6","_context6","_x5","InfoLabel","onMouseEnter","_event$currentTarget$","currentTarget","getBoundingClientRect","top","left","width","height","children","iconType","Info","style","SubmittedTradesTableClass","context","timeout","rerender","highlightLatest","receivedOrders","relevantRows","nextProps","size","clearTimeout","_this3","amountToShow","magnitude","reduce","val","min","generateRows","colSpan","_this4","_this$props2","atomConnected","reverse","spendDetails","receiveDetails","fstSymbol","SELL","sndSymbol","receive","spend","format","FAILED_TO_SETTLE","SLASHED","renderOrderStatus","InfoLabel_InfoLabel","handleCancel","bind","SubmittedTradesTable","traderBook","ViewBalancesTableClass","pendingWithdrawal","currency","withdrawAmount","withdrawing","balanceHistorySize","list","_TokenDetails$get","usableBalance","link","lockedBalance","lockedBalanceRender","readableUsableBalanceText","image","TOKEN_URL","etherscan","rel","ViewBalancesTable","orderFilter","MigrationPopupClass","renderWelcome","renderAtomicNotice","previous","renderCancelOrders","showLater","renderWithdraw","pages","page","MigrationPopup","history","createBrowserHistory","storeAddress","storeURL","logout","updateProvider","setAddress","reload","location","replace","login","web3Provider","ethNetwork","setUser","fetchTraderOrders","fetchBalanceActions","balanceActions","redirect","lookForLogout","getWeb3","account","join","AlertsClass","DEFAULT_TIME","alertIntervalTimeout","handleClose","clearInterval","Alerts","updatePrices","setHiddenOrders","getHiddenOrders","fetchOrderbook","limit","storeSDK","storeSDKData","BackgroundTasksClass","setupLoopsTimeout","callGetLegacyBalancesTimeout","callHiddenOrdersTimeout","callUpdatePricesTimeout","callLookForLogoutTimeout","callConnectToAtomTimeout","callUpdateAtomStatusTimeout","callGetAtomicBalancesTimeout","callCheckOrderStatusesTimeout","callCheckRenExExecutionTimeout","callUpdateBalancesHistoryTimeout","setupLoops","callLookForLogout","callGetLegacyBalances","callUpdateAtomStatus","callGetAtomicBalances","callHiddenOrders","callUpdateBalancesHistory","count","_this$props3","newCount","callUpdatePrices","_ref8","pair","_ref10","callCheckOrderStatuses","_ref11","_callee10","_this$props4","_context10","_callee9","_context9","_callee11","_ref14","_ref15","_context11","fetchDarknodeFeePercent","fetchWrappingFeePercent","fetchMinEthTradeVolume","fetchMarkets","BackgroundTasks","ErrorBoundary","componentDidCatch","reportFeedback","whiteSpace","componentStack","_catch_","ErrorBoundary_ErrorBoundary","BalanceBannerClass","atomic","atomicTokens","listBalances","balanceText","err","BalanceBanner","inputs","Heading","BalanceHistoryClass","highlightTimeout","datesRerenderTimeout","receivedBalances","Heading_Heading","rows","TX_URL","readableAmount","currentMoment","actionType","charAt","toUpperCase","Failed","blockies","randSeed","rand","t","createColor","h","s","l","buildOpts","opts","newOpts","scale","seed","random","i","charCodeAt","seedRand","color","bgColor","spotColor","renderIcon","optsIn","canvas","imageData","dataWidth","mirrorWidth","y","row","x","r","rowItem","createImageData","sqrt","cc","getContext","fillStyle","fillRect","col","document","createElement","Blocky","blocky","getOpts","setCanvas","data-tip","HeaderClass","showDropdown","dropdownVisible","copied","hideDropdown","copyToClipboard","childNodes","getAttribute","dummy","body","appendChild","setAttribute","select","execCommand","removeChild","handleLogOut","withMenu","pathname","loggedIn","Link","to","onMouseLeave","Blocky_Blocky","data-addr","substring","Header","withRouter","MarketBannerClass","listPairs","pairDetails","marketPrice","fstDetails","sndDetails","updateMarket","MarketBanner","ViewAtomicBalancesClass","balanceReadable","usable","usableReadable","ViewAtomicBalances","ViewBalancesClass","ViewBalances","_state","Balances","BalanceHistory_BalanceHistory","SubmittedTradesClass","recent","SubmittedTrades","ExecutedTradesClass","executedOrders","receivedTokenDetails","spentTokenDetails","receiveAmountReadable","paidAmountReadable","ExecutedTrades","HiddenOrderStatusDisplay","_HiddenOrderStatusDis","defineProperty","HiddenOrderbookClass","HiddenOrderbook","hiddenBook","removeExcessDigits","readableIn","readable","integerValue","ROUND_FLOOR","readableToBalance","balanceIn","balanceBN","balanceToReadable","NewOrderInputField","_this$props$form","form","errors","dirty","ticker","hint","handleBlur","notice","_this$props$field","field","onBlur","objectWithoutProperties","react_default","assign","calculateStep","stepFunction","Component","NewOrderInputFormClass","preRender","values","settlementType","marketDetails","priorityTokenDetails","nonPriorityTokenDetails","sellAmount","priorityVolume","buyAmount","pricepointRender","initialMarketPrice","Fragment","prioritySymbol","NewOrderInputField_NewOrderInputField","setAndUpdateValues","volumeRender","fillVolume","renderMinVolume","allOrNothing","renderPriorityVolume","_this$state2","nonPriorityVolume","_this$props5","priorityToken","nonPriorityToken","_e$target","_e$target2","_this$props6","setValues","calculateNewState","_this$props7","validateForm","marketChanged","initialMarketPriceChanged","pricepointBigNumber","absoluteMinVolume","calculateAbsoluteMinTradeVolume","_this$props9","isSubmitting","isValid","_this$state3","formik_esm","oldState","valueIn","newState","objectSpread","_newState","_this$props10","_sdk$utils","utils","normalizePrice","normalizeVolume","volumeBigNumber","minVolumeBigNumber","lt","max","blur","_this$props11","coerceValues","NewOrderInputForm","OuterForm","handleSubmit","formikBag","setSubmitting","resetForm","immediateOrCancel","fillOrKill","LIMIT_IOC","validate","minEthereumTradeVolume","sellToken","whichVolume","sellBalance","sellVolume","sellTokenDetails","priorityVolumeBigNumber","nonPriorityDetails","volumeString","handleMoreOptions","checked","dividedBy","showMoreOptions","defaultMarketPrice","initialValues","NewOrderInputs","CustomControl","cx","getStyles","isDisabled","isFocused","innerRef","innerProps","menuIsOpen","emotion","css","control","control--is-disabled","control--is-focused","control--menu-is-open","CustomValue","option","filename","single-value","single-value--is-disabled","CustomOption","isSelected","option--is-disabled","option--is-focused","option--is-selected","SelectMarketClass","listCurrencies","Array","from","Set","first","fstCode","_TokenDetails$get2","sndCode","leftCurrencies","rightCurrencies","find","components","SingleValue","Option","Control","isClearable","backspaceRemovesValue","SelectMarket","WrapBitcoinClass","enableWrap","disableWrap","checkDisable","inputValue","swap","unwrap","res","btcTokenDetails","wbtcTokenDetails","isNaN","isFinite","spendBalance","WrapBitcoin","NewOrderClass","newOrder","settlement","NewOrder","ExchangeClass","params","Exchange","SelectWeb3AccountClass","referrer","attemptVerification","onSelectAccount","selectedAccountIndex","Axios","post","ingress","verified","data-item","SelectWeb3Account","VerificationPopupClass","handler","openWyreHandler","open","Wyre","Widget","accountId","WYRE_KEY","auth","operation","onExit","callbackURL","protocol","host","KYBER_KEY","VerificationPopup","WalletItemClass","handleSelectWallet","walletDetails","providerAccounts","cancel","canceled","ethNetworkLabel","getParameterByName","WalletItem","WalletsClass","listWallets","Wallets","fixedName","results","exec","decodeURIComponent","HomeClass","checkingVerification","kyberVerification","kyberUID","handleForwardLogin","es_Redirect","authCode","redirectURL","request","grant_type","redirect_uri","client_id","uid","lowerCaseAddresses","active_wallets","kyc_status","Home","LoggingOut","Orders","PopupClass","_this$props$popups$la","popups","last","popupDetails","Popup","agreeToTerms","TermsPopupClass","handleScroll","scrollHeight","scrollTop","clientHeight","scrollBottom","handleAgreement","onScroll","TermsPopup","ScrollToTop","ScrollToTopWithoutRouter","prevProps","scrollTo","AppClass","withAccount","component","checkingReLogin","LoggingOut_LoggingOut","Redirect","handleReLogin","Router","Route","exact","App","rootReducer","combineReducers","getType","alertActions","payload","pendingAlertActions","_action$payload","alertID","delete","balancesActions","hiddenBookActions","inputsActions","marketActions","popupActions","documentElement","classList","add","stackItem","remove","pop","traderBookActions","toAdd","accountActions","accountBalance","atomicActions","termsActions","migrationActions","walletActions","sdkActions","assert","traderTransform","createTransform","inboundState","serialize","outboundState","deserialize","whitelist","persistConfig","storage","transforms","middlewares","thunk","config","reducer","persistedReducer","persistReducer","src_store","src_persistor","createStore","applyMiddleware","persistor","persistStore","configureStore","dsn","SENTRY_DSN","release","RENEX_VERSION","environment","network","ReactDOM","es","integration_react","getElementById","./btc.svg","./dgx.svg","./eth.svg","./omg.svg","./ren.svg","./tusd.svg","./wbtc.png","./wbtc.svg","./zrx.svg","webpackContext","req","webpackContextResolve","module","exports","p"],"mappings":"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","file":"static/js/main.a4d6b792.chunk.js","sourcesContent":["// tslint:disable: no-any\n\nimport * as Sentry from \"@sentry/browser\";\n\ninterface Details {\n    description?: string;\n    category?: string;\n    level?: Sentry.Severity;\n}\n\ninterface Described {\n    description: string;\n}\n\ninterface ShownToUser {\n    shownToUser: string;\n}\n\nconst _captureException_ = <X extends Details>(error: any, details: X) => {\n    Sentry.withScope(scope => {\n        // Category\n        if (details.category) {\n            scope.setTag(\"category\", details.category);\n        }\n\n        // Level\n        if (details.level) {\n            scope.setLevel(details.level);\n        }\n\n        // Extra information\n        Object.keys(details)\n            .forEach(key => {\n                scope.setExtra(key, details[key]);\n            });\n\n        // If there's a server response, log it\n        if (error && error.response && error.response.data) {\n            scope.setExtra(\"serverResponse\", error.response.data);\n        }\n\n        console.error(error);\n        Sentry.captureException(error);\n    });\n};\n\n// Background exceptions are thrown in background loops and actions\nexport const _captureBackgroundException_ = <X extends Details & Described>(error: any, details?: X) => {\n    _captureException_(error, { ...details, category: \"background_exception\" });\n};\n\n// Interaction exceptions are thrown as a direct result of a user interaction\nexport const _captureInteractionException_ = <X extends Details & Described & ShownToUser>(error: any, details?: X) => {\n    _captureException_(error, { ...details, category: \"interaction_exception\" });\n};\n\n// Component exceptions are thrown from an ErrorBoundary\nexport const _captureComponentException_ = (error: any, errorInfo: React.ErrorInfo) => {\n    _captureException_(error, { ...errorInfo, description: \"Error caught in Error Boundary. See Component stack trace.\", category: \"component_exception\" });\n};\n","import { Provider } from \"web3/providers\";\n\nimport { WalletDetail } from \"../../lib/wallets/wallet\";\n\nconst ErrorNoMetaMask = \"Please ensure you have MetaMask installed\";\nconst ErrorMetaMaskAccessRejected = \"Please allow RenEx to access your MetaMask wallet\";\n\nexport const getInjectedWeb3Provider = async (): Promise<Provider> => {\n    if (window.ethereum) {\n        try {\n            await window.ethereum.enable();\n            return window.ethereum;\n        } catch (error) {\n            throw new Error(ErrorMetaMaskAccessRejected);\n        }\n    } else if (window.web3) {\n        return window.web3.currentProvider;\n    }\n    throw new Error(ErrorNoMetaMask);\n};\n\nexport const MetaMask: WalletDetail = {\n    name: \"MetaMask\",\n    slug: \"metamask\",\n    description: \"Sign in using the MetaMask extension or a Web3 browser\",\n    enabled: true,\n    getWeb3Provider: async (): Promise<[Provider, string[] | null]> => {\n        const provider = await getInjectedWeb3Provider();\n        return [provider, null];\n    },\n};\n","import { createStandardAction } from \"typesafe-actions\";\n\nexport interface SetPopupPayload { popup: React.ReactNode; dismissible?: boolean; onCancel(): void; }\nexport const setPopup = createStandardAction(\"SET_POPUP\")<SetPopupPayload>();\n\nexport const clearPopup = createStandardAction(\"CLEAR_POPUP\")();\n","import * as React from \"react\";\n\nimport { Creatable } from \"react-select\";\nimport { Provider } from \"web3/providers\";\n\nimport { Loading } from \"../../components/Loading\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\n\ninterface OptionType {\n    label: string;\n    value: string;\n}\n\ninterface Props {\n    address?: string;\n    checkConnection(args: { derivation: string }): Promise<[Provider, string[]]>;\n    resolve(args: [Provider, string[] | null]): void;\n    reject(reason: Error): void;\n}\n\ninterface State {\n    loading: boolean;\n    error: string | null;\n    // tslint:disable-next-line:no-any\n    derivation: OptionType;\n}\n\n// \"44'/1'\", \"44'/60'\", \"44'/61'\"\nconst derivationRegex = new RegExp(/^m\\/(44'\\/(?:0?1|60|61)')(\\/\\d\\d?'?)*$/);\n\nconst options: OptionType[] = [\n    { value: \"m/44'/60'/0'/0\", label: \"Default Derivation - m/44'/60'/0'/0\" },\n    // { value: \"m/44'/60'/0'/0/0\", label: \"Ledger Live App - m/44'/60'/0'/0/0\" },\n    { value: \"m/44'/1'/0'/0\", label: \"Testnet - m/44'/1'/0'/0\" },\n];\n\n/**\n * LedgerPopup is a popup component that prompts a user to login using their\n * Ledger hardware wallet\n */\nexport class LedgerPopup extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            loading: false,\n            error: null,\n            derivation: options[0],\n        };\n    }\n\n    public componentDidMount() {\n        //\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { error, loading } = this.state;\n        // const { address } = this.props;\n\n        return (\n            <div className=\"popup ledger\">\n                <div>\n                    <h2>Connect to Ledger Wallet</h2>\n\n                    <div className=\"ledger--instructions\">\n                        <p>Before connecting to your Ledger, make sure you have:</p>\n                        <ol>\n                            <li>Connected and unlocked your Ledger</li>\n                            <li>Opened the Ethereum app on the device</li>\n                            <li>Enabled browser and data support</li>\n                        </ol>\n                    </div>\n\n                    {error !== null ? <p className=\"red\">{error}</p> : null}\n                    <form onSubmit={this.handleUnlock}>\n\n                        <Creatable\n                            value={this.state.derivation}\n                            onChange={this.handleChange}\n                            options={options}\n                            isValidNewOption={this.validatePath}\n                        />\n\n                        <button type=\"submit\">{loading === true ? <Loading /> : \"Connect\"}</button>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n\n    private readonly validatePath = (value: string): boolean => {\n        return derivationRegex.test(value);\n    }\n\n    // tslint:disable-next-line:no-any\n    private readonly handleChange = (derivation: any) => {\n        this.setState({ derivation });\n    }\n\n    private readonly handleUnlock = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        const { checkConnection, resolve } = this.props;\n        const { derivation } = this.state;\n\n        this.setState({ loading: true });\n\n        try {\n            const value = derivation.value;\n            if (!value) {\n                throw new Error(\"Invalid derivation\");\n            }\n            resolve(await checkConnection({ derivation: value }));\n        } catch (error) {\n            if (error.message.match(/invalid transport instance/)) {\n                error = new Error(\"Unable to connect to Ledger.\");\n            } else {\n                _captureInteractionException_(error, {\n                    description: \"Error in LedgerPopup.checkConnection\",\n                    shownToUser: \"In LedgerPopup as message box\",\n                });\n                error = new Error(error ? error.message || error : \"Unable to connect to Ledger.\");\n            }\n            this.setState({ loading: false, error: error.message });\n            return;\n        }\n    }\n}\n","import * as React from \"react\";\n\nimport TransportU2F from \"@ledgerhq/hw-transport-u2f\";\nimport createLedgerSubprovider from \"@ledgerhq/web3-subprovider\";\nimport Web3 from \"web3\";\nimport ProviderEngine from \"web3-provider-engine\";\nimport FetchSubprovider from \"web3-provider-engine/subproviders/fetch\";\nimport NonceSubprovider from \"web3-provider-engine/subproviders/nonce-tracker\";\n\nimport { HttpProvider, Provider } from \"web3/providers\";\n\nimport { setPopup } from \"../../actions/popup/popupActions\";\nimport { LedgerPopup } from \"../../components/popups/LedgerPopup\";\nimport { store } from \"../../index\";\nimport { INFURA_URL, networkData } from \"../../lib/network\";\nimport { ErrorCanceledByUser, PopupPromise, WalletDetail } from \"../../lib/wallets/wallet\";\nimport { getAccounts } from \"../../lib/web3\";\n\ninterface ProviderEngine extends HttpProvider {\n    /**\n     * Starts the engine's block tracking\n     */\n    start(): void;\n\n    /**\n     * Stops the engine's block tracking\n     */\n    stop(): void;\n\n    /**\n     * Adds a provider to the engine\n     */\n    addProvider(provider: Provider): void;\n}\n\nconst createProvider = (derivation: string): ProviderEngine => {\n    const engine: ProviderEngine = new ProviderEngine();\n    const getTransport = () => TransportU2F.create();\n\n    let newDerivation = derivation;\n\n    // Remove m/ from start\n    if (newDerivation.slice(0, 2) === \"m/\") {\n        newDerivation = newDerivation.slice(2);\n    }\n\n    const ledger = createLedgerSubprovider(getTransport, {\n        networkId: networkData.ethNetworkId,\n        accountsLength: 5,\n        path: newDerivation,\n    });\n    engine.addProvider(ledger);\n    engine.addProvider(new NonceSubprovider());\n    engine.addProvider(new FetchSubprovider({ rpcUrl: INFURA_URL }));\n    engine.start();\n\n    return engine;\n};\n\nconst checkConnection = async (args: {\n    /**\n     * The BIP32 derivation string\n     */\n    derivation: string;\n}): Promise<[ProviderEngine, string[]]> => {\n    const engine = createProvider(args.derivation);\n    const accounts = await getAccounts(new Web3(engine));\n    if (!accounts || accounts.length === 0) {\n        throw new Error(\"Unable to read accounts.\");\n    }\n\n    return [engine, accounts];\n};\n\nexport const Ledger: WalletDetail = {\n    name: \"Ledger\",\n    slug: \"ledger\",\n    description: \"Sign in using your Ledger hardware wallet\",\n    enabled: true,\n    // create a web3 with the ledger device\n    getWeb3Provider: async (address?: string) => PopupPromise<[Provider, string[] | null]>(async (resolve, reject) => {\n\n        store.dispatch(setPopup(\n            {\n                popup: <LedgerPopup resolve={resolve} reject={reject} address={address} checkConnection={checkConnection} />,\n                onCancel: () => { reject(new Error(ErrorCanceledByUser)); }\n            }\n        ));\n    }),\n};\n","import { getReadOnlyProvider, WalletDetail } from \"../../lib/wallets/wallet\";\n\nexport const PrivateKey: WalletDetail = {\n    name: \"Private Key\",\n    slug: \"key\",\n    description: \"\",\n    enabled: false,\n    getWeb3Provider: () => [getReadOnlyProvider(), null],\n};\n","import { getReadOnlyProvider, WalletDetail } from \"../../lib/wallets/wallet\";\n\n// Unimplemented\nexport const Trezor: WalletDetail = {\n    name: \"Trezor\",\n    slug: \"trezor\",\n    description: \"Sign using your hardware wallet\",\n    enabled: false,\n    getWeb3Provider: () => [getReadOnlyProvider(), null],\n};\n","import ProviderEngine from \"web3-provider-engine\";\nimport FetchSubprovider from \"web3-provider-engine/subproviders/fetch\";\n\nimport { List, Map } from \"immutable\";\nimport { Provider } from \"web3/providers\";\n\nimport { clearPopup } from \"../../actions/popup/popupActions\";\nimport { store } from \"../../index\";\nimport { INFURA_URL } from \"../../lib/network\";\nimport { Keystore } from \"../../lib/wallets/keystore\";\nimport { Ledger } from \"../../lib/wallets/ledger\";\nimport { PrivateKey } from \"../../lib/wallets/privateKey\";\nimport { Trezor } from \"../../lib/wallets/trezor\";\nimport { MetaMask } from \"../../lib/wallets/web3browser\";\n\nexport const ErrorCanceledByUser = \"Transaction canceled\";\nexport const ErrorVerificationFailed = \"Trader verification failed\";\n\nexport enum Wallet {\n    MetaMask,\n    Ledger,\n    Trezor,\n    Keystore,\n    PrivateKey,\n}\n\n// This defines the order in which the wallets are rendered\nexport const WalletList = List([Wallet.MetaMask, Wallet.Ledger, Wallet.Keystore, Wallet.Trezor, Wallet.PrivateKey]);\n\nexport interface WalletDetail {\n    name: string;\n    slug: string; // Slug is used as class name for specifying icons in _wallets.scss\n    description: string;\n    enabled: boolean;\n    getWeb3Provider(address?: string): Promise<[Provider, string[] | null]> | [Provider, string[] | null];\n}\n\nexport const getReadOnlyProvider = (): Provider => {\n    const engine = new ProviderEngine();\n    engine.addProvider(new FetchSubprovider({ rpcUrl: INFURA_URL }));\n    engine.start();\n\n    return engine;\n};\n\nexport const PopupPromise = async <T>(fn: (resolve: (value?: T | PromiseLike<T>) => void, reject: (reason?: Error) => void) => void): Promise<T> => {\n    return new Promise((resolve, reject) => {\n\n        const innerReject: (reason?: Error) => void = (reason) => {\n            store.dispatch(clearPopup());\n            reject(reason);\n        };\n        const innerResolve: (value?: T | PromiseLike<T>) => void = (reason) => {\n            store.dispatch(clearPopup());\n            resolve(reason);\n        };\n        fn(innerResolve, innerReject);\n    });\n};\n\nexport const WalletDetails: Map<Wallet, WalletDetail> = Map<Wallet, WalletDetail>()\n    .set(Wallet.MetaMask, MetaMask)\n    .set(Wallet.Ledger, Ledger)\n    .set(Wallet.Keystore, Keystore)\n    .set(Wallet.Trezor, Trezor)\n    .set(Wallet.PrivateKey, PrivateKey);\n","import * as React from \"react\";\n\n/**\n * Loading is a visual component that renders a spinning animation\n */\nexport const Loading: React.StatelessComponent<Props> = (props: Props) => {\n    const { alt } = props;\n    return (\n        <div className={`loading lds-dual-ring ${alt ? \"alt\" : \"\"}`} />\n    );\n};\n\ninterface Props {\n    // tslint:disable-next-line:react-unused-props-and-state\n    alt?: boolean;\n}\n","import { NetworkData } from \"@renex/renex\";\n\nexport const networkData: NetworkData = window.NETWORK;\n\nexport const INFURA_URL = `${networkData.infura}/${window.INFURA_KEY}`;\n","import * as ethereumjsWallet from \"ethereumjs-wallet\";\nimport * as React from \"react\";\n\nimport WalletSubprovider from \"ethereumjs-wallet/provider-engine\";\nimport ProviderEngine from \"web3-provider-engine\";\nimport FetchSubprovider from \"web3-provider-engine/subproviders/fetch\";\nimport NonceSubprovider from \"web3-provider-engine/subproviders/nonce-tracker\";\n\nimport { Provider } from \"web3/providers\";\n\nimport { setPopup } from \"../../actions/popup/popupActions\";\nimport { KeystorePopup } from \"../../components/popups/KeystorePopup\";\nimport { store } from \"../../index\";\nimport { INFURA_URL } from \"../../lib/network\";\nimport { ErrorCanceledByUser, PopupPromise, WalletDetail } from \"../../lib/wallets/wallet\";\n\nconst KeystoreUnlockError = \"Unable to retrieve account from keystore\";\nconst UnsupportedKeystoreError = \"Unsupported keystore format\";\nconst KeystorePasswordError = \"Unable to unlock keystore - the password may be wrong\";\n\nexport const Keystore: WalletDetail = {\n    name: \"Keystore File\",\n    slug: \"keystore\",\n    description: \"Sign in using a Keystore JSON file\",\n    enabled: true,\n    // create a web3 with the ledger device\n    getWeb3Provider: async (address?: string) => PopupPromise<[Provider, string[] | null]>(async (resolve, reject) => {\n\n        // tslint:disable-next-line:no-any promise-must-complete\n        const { keystore, password } = await new Promise(async (innerResolve: (value: { keystore: any; password: string }) => void) => {\n            store.dispatch(setPopup(\n                {\n                    popup: <KeystorePopup resolve={innerResolve} reject={reject} address={address} />,\n                    onCancel: () => { reject(new Error(ErrorCanceledByUser)); }\n                }\n            ));\n        });\n\n        if (keystore.Crypto && !keystore.crypto) {\n            keystore.crypto = keystore.Crypto;\n        }\n\n        const version = parseInt(keystore.version, 10);\n\n        // tslint:disable-next-line:no-any\n        let wallet: any;\n        try {\n            if (version === 1) {\n                wallet = ethereumjsWallet.fromV1(keystore, password);\n            } else if (version === 3) {\n                wallet = ethereumjsWallet.fromV3(keystore, password);\n            } else if (keystore.privateKey) {\n                let privateKey = keystore.privateKey;\n                if (privateKey.slice(0, 2) === \"0x\") {\n                    privateKey = privateKey.slice(2);\n                }\n                wallet = ethereumjsWallet.fromPrivateKey(new Buffer(privateKey, \"hex\"));\n            } else {\n                throw new Error(UnsupportedKeystoreError);\n            }\n\n            if (!wallet) {\n                throw new Error(KeystoreUnlockError);\n            }\n        } catch (error) {\n            console.warn(error);\n            if (error.message === \"Not a V3 wallet\" ||\n                error.message === \"Not a V1 wallet\") {\n                reject(new Error(UnsupportedKeystoreError));\n            } else if (error.message === UnsupportedKeystoreError) {\n                reject(error);\n            } else if (error.message === KeystoreUnlockError) {\n                reject(error);\n            } else {\n                reject(new Error(KeystorePasswordError));\n            }\n\n            return;\n        }\n\n        wallet.getAddressesString = (() => `0x${\n            wallet\n                .getAddress()\n                .toString(\"hex\")\n            }`\n        );\n\n        const walletProvider = new WalletSubprovider(wallet, {});\n\n        const engine = new ProviderEngine();\n        engine.addProvider(walletProvider);\n        engine.addProvider(new NonceSubprovider());\n        engine.addProvider(new FetchSubprovider({ rpcUrl: INFURA_URL }));\n        engine.start();\n        resolve([engine, null]);\n    }),\n};\n","import * as React from \"react\";\n\nimport { Loading } from \"../../components/Loading\";\n\n/**\n * KeystorePopup is a popup component that prompts a user for a JSON file and a\n * password\n */\nexport class KeystorePopup extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            error: null,\n            keystore: null,\n            loading: false,\n            password: \"\",\n        };\n    }\n\n    public componentDidMount() {\n        //\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { error, password, loading } = this.state;\n        const { address } = this.props;\n\n        return (\n            <div className=\"popup keystore\">\n                <div>\n                    <h2>\n                        {address ?\n                            `Log in to ${address}` :\n                            \"Select an account:\"\n                        }\n                    </h2>\n                    <form onSubmit={this.handleUnlock}>\n                        <input type=\"file\" name=\"files[]\" placeholder=\"Upload\" onChange={this.handleUpload} />\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            placeholder=\"Password (optional)\"\n                            value={password}\n                            onChange={this.handleInput}\n                        />\n                        <button type=\"submit\">{loading === true ? <Loading /> : \"Unlock\"}</button>\n                    </form>\n                    {error !== null ? <p className=\"red\">{error}</p> : null}\n                </div>\n            </div>\n        );\n    }\n\n    private readonly handleInput = (event: React.FormEvent<HTMLInputElement>): void => {\n        const element = (event.target as HTMLInputElement);\n        this.setState((current) => ({ ...current, [element.name]: element.value }));\n    }\n\n    private readonly handleUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target.files === null || event.target.files.length === 0) {\n            return;\n        }\n        const f = event.target.files[0];\n\n        const reader = new FileReader();\n\n        // Closure to capture the file information.\n        reader.onload = ((_file) => {\n            // tslint:disable-next-line:no-any\n            return (eInner: any) => {\n                // tslint:disable-next-line:no-any\n                let key: any | null;\n                try {\n                    key = JSON.parse(eInner.target.result);\n                } catch (error) {\n                    this.setState({ error: \"Please select a valid Keystore file\" });\n                    return;\n                }\n                this.setState({ error: null, keystore: key });\n            };\n        })(f);\n\n        // Read in the image file as a data URL.\n        reader.readAsText(f);\n    }\n\n    private readonly handleUnlock = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        if (!this.state.keystore) {\n            console.error(\"Invalid keystore\");\n\n            return;\n        }\n        this.setState({ loading: true });\n\n        const keystore = this.state.keystore;\n        const password: string = (this.state.password === undefined) ?\n            \"\" :\n            this.state.password;\n\n        this.props.resolve({\n            keystore,\n            password,\n        });\n    }\n}\n\ninterface Props {\n    address?: string;\n    resolve(value: { keystore: object; password: string }): void;\n    reject(reason: Error): void;\n}\n\ninterface State {\n    error: string | null;\n    keystore: object | null;\n    loading: boolean;\n    password: string | undefined;\n}\n","import Web3 from \"web3\";\n\nexport const getAccounts = async (web3: Web3): Promise<string[]> => {\n    return web3.eth.getAccounts();\n};\n\nexport const getNetwork = async (web3: Web3): Promise<string> => {\n    // tslint:disable-next-line:no-any\n    return (web3.eth.net as any).getNetworkType();\n};\n\nexport const includesAddress = async (web3: Web3, addressIn: string): Promise<boolean> => {\n    const address = addressIn.toLowerCase();\n    return getAccounts(web3)\n        .then((accounts: string[]) => {\n            return accounts.map(acc => acc.toLowerCase())\n                .includes(address);\n        });\n};\n","import moment from \"moment\";\n\nimport BigNumber from \"bignumber.js\";\n\n/**\n * Converts a timestamp to the number of hours, minutes or seconds from now,\n * showing \"Expired\" if the timestamp has already passed.\n *\n * TODO: Make countdown schedule rerender (based on time unit)\n *\n * @param expiry the time to countdown to as a unix timestamp in seconds\n * @returns a JSX span element with the time remaining and a unit\n */\nexport const naturalTime = (expiry: number, options: { message: string; suffix?: string; countDown: boolean; showingSeconds?: boolean }): string => {\n    let diff;\n    if (!options.countDown) {\n        diff = moment.duration(moment().diff(moment.unix(expiry)));\n    } else {\n        diff = moment.duration(moment.unix(expiry).diff(moment()));\n    }\n    let days = diff.asDays();\n    let hours = diff.asHours();\n    let minutes = diff.asMinutes();\n    let seconds = diff.asSeconds();\n\n    const suffix = options.suffix ? ` ${options.suffix}` : \"\";\n\n    if (days > 2) {\n        days = Math.round(days);\n        return `${days} ${days === 1 ? \"day\" : \"days\"}${suffix}`;\n    }\n    if (hours >= 1) {\n        // Round to the closest hour\n        hours = Math.round(hours);\n        return `${hours} ${hours === 1 ? \"hour\" : \"hours\"}${suffix}`;\n    } else if (minutes >= 1) {\n        minutes = Math.round(minutes);\n        return `${minutes} ${minutes === 1 ? \"minute\" : \"minutes\"}${suffix}`;\n    } else if (options.showingSeconds && seconds >= 1) {\n        seconds = Math.floor(seconds);\n        return `${seconds} ${seconds === 1 ? \"second\" : \"seconds\"}${suffix}`;\n    } else {\n        return `${options.message}`;\n    }\n};\n\n// Sleep for specified number of milliseconds\n// tslint:disable-next-line: no-string-based-set-timeout\nexport const sleep = async (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\nexport const second = 1000;\n\nexport enum TimeMagnitude {\n    Second = 1 * second,\n    Minute = 60 * second,\n    Hour = 3600 * second,\n    Day = 86400 * second,\n}\n\n// Returns the the time units in which a time will be represented in by naturalTime\nexport const getTimeMagnitude = (expiry: number, showingSeconds = false): TimeMagnitude => {\n    let diff;\n    if (moment.unix(expiry).isBefore(moment())) {\n        diff = moment.duration(moment().diff(moment.unix(expiry)));\n    } else {\n        diff = moment.duration(moment.unix(expiry).diff(moment()));\n    }\n    const days = diff.asDays();\n    const hours = diff.asHours();\n    const minutes = diff.asMinutes();\n\n    if (days > 2) {\n        return TimeMagnitude.Day;\n    }\n    if (hours >= 1) {\n        return TimeMagnitude.Hour;\n    } else if (minutes >= 1 || !showingSeconds) {\n        return TimeMagnitude.Minute;\n    } else {\n        return TimeMagnitude.Second;\n    }\n};\n\nconst significantDigits = (n: BigNumber, digits: number, simplify: boolean = false, roundDown: boolean = true) => {\n    if (n.isEqualTo(0)) {\n        return [0, 0];\n    }\n    let exp = Math.floor(Math.log10(n.toNumber())) - (digits - 1);\n    const pow = new BigNumber(10).exponentiatedBy(new BigNumber(exp).toNumber());\n\n    let c;\n    if (roundDown) {\n        c = Math.floor(n.div(pow.toNumber())\n            .toNumber());\n    } else {\n        c = Math.ceil(n.div(pow.toNumber())\n            .toNumber());\n    }\n\n    if (simplify) {\n        while (c % 10 === 0 && c !== 0) {\n            c = c / 10;\n            exp += 1;\n        }\n    }\n    return [c, exp];\n};\n\n/**\n * getStep adjusts the specified step to the correct order of magnitude, so\n * when the user is dealing with small or large values, the step scales\n * accordingly\n */\nexport const getStep = (value: BigNumber, step: number): string => {\n    if (value.isZero()) {\n        return new BigNumber(step).toFixed();\n    }\n\n    const digits = -Math.floor(Math.log10(step)) + 1;\n\n    const [, exp] = significantDigits(value, digits, false);\n    const e = new BigNumber(10).pow(exp + (digits - 1));\n    return new BigNumber(step)\n        .times(e)\n        .toFixed();\n};\n\nexport const getPriceStep = (price: BigNumber): string => {\n    return getStep(price, 0.005);\n};\n\nexport const getVolumeStep = (volume: BigNumber): string => {\n    return getStep(volume, 0.2);\n};\n","import { createStandardAction } from \"typesafe-actions\";\n\nimport { Alert } from \"../../reducers/types\";\n\n/**\n * Adds a new alert to the alert stack.\n */\nexport const setAlert = createStandardAction(\"SET_ALERT\")<{\n    /**\n     * The alert to be added to the alert stack.\n     */\n    alert: Alert;\n}>();\n\n/**\n * Remove the top alert from the alert stack.\n */\nexport const clearAlert = createStandardAction(\"CLEAR_ALERT\")();\n","import BigNumber from \"bignumber.js\";\n\nimport { List, Map, OrderedMap } from \"immutable\";\n\nimport { OrderSettlement, Token, TokenCode } from \"@renex/renex\";\n\nimport { networkData } from \"./network\";\n\nexport interface PairDetails {\n    code: Pair;\n    orderSettlement: OrderSettlement;\n    quoteToken: TokenCode;\n    baseToken: TokenCode;\n    category?: TokenCode; // Force the pair to be shown under a specific token\n    fixedPrice?: BigNumber;\n}\n\nexport enum Pair {\n    BTC_WBTC = 0x0000000000000002,\n    BTC_ETH = 0x0000000000000001,\n    ETH_DGX = 0x0000000100000100,\n    ETH_TUSD = 0x0000000100000101,\n    ETH_REN = 0x0000000100010000,\n    ETH_ZRX = 0x0000000100010001,\n    ETH_OMG = 0x0000000100010002,\n}\n\nexport const Pairs: OrderedMap<Pair, PairDetails> = OrderedMap<Pair, PairDetails>()\n    // RenExAtomic:\n    .set(Pair.BTC_ETH, {\n        code: Pair.BTC_ETH,\n        orderSettlement: OrderSettlement.RenExAtomic,\n        quoteToken: Token.BTC,\n        baseToken: Token.ETH,\n        category: Token.BTC,\n    })\n    .set(Pair.BTC_WBTC, {\n        code: Pair.BTC_WBTC,\n        orderSettlement: OrderSettlement.RenExAtomic,\n        quoteToken: Token.BTC,\n        baseToken: Token.WBTC,\n        category: Token.BTC,\n        fixedPrice: new BigNumber(1),\n    })\n    // RenEx:\n    .set(Pair.ETH_REN, {\n        code: Pair.ETH_REN,\n        orderSettlement: OrderSettlement.RenExAtomic,\n        quoteToken: Token.ETH,\n        baseToken: Token.REN,\n    })\n    .set(Pair.ETH_DGX, {\n        code: Pair.ETH_DGX,\n        orderSettlement: OrderSettlement.RenExAtomic,\n        quoteToken: Token.ETH,\n        baseToken: Token.DGX,\n    })\n    .set(Pair.ETH_TUSD, {\n        code: Pair.ETH_TUSD,\n        orderSettlement: OrderSettlement.RenExAtomic,\n        quoteToken: Token.ETH,\n        baseToken: Token.TUSD,\n    })\n    .set(Pair.ETH_ZRX, {\n        code: Pair.ETH_ZRX,\n        orderSettlement: OrderSettlement.RenExAtomic,\n        quoteToken: Token.ETH,\n        baseToken: Token.ZRX,\n    })\n    .set(Pair.ETH_OMG, {\n        code: Pair.ETH_OMG,\n        orderSettlement: OrderSettlement.RenExAtomic,\n        quoteToken: Token.ETH,\n        baseToken: Token.OMG,\n    });\n\nexport interface TokenDetail {\n    name: string;\n    // tslint:disable-next-line:no-reserved-keywords\n    symbol: string;\n    icon: string;\n    address: string;\n    pairs: OrderedMap<TokenCode, Pair>;\n    digits: number;\n    cmcID: number; // CoinMarketCap ID\n    coingeckoID: string; // CoinCap ID\n    settlements: OrderSettlement[];\n    offChain?: boolean; // Off-chain implies that fees must be paid in the other token\n}\n\nexport let TokenDetails: Map<TokenCode, TokenDetail> = Map();\n\nexport const UnknownToken: TokenDetail = {\n    name: \"Unknown\",\n    symbol: \"???\",\n    icon: \"\",\n    address: \"0x0000000000000000000000000000000000000000\",\n    pairs: OrderedMap(),\n    digits: 0,\n    cmcID: 0,\n    coingeckoID: \"\",\n    settlements: [],\n    offChain: false,\n};\n\nTokenDetails = TokenDetails.set(Token.BTC, {\n    name: \"Bitcoin\",\n    symbol: \"BTC\",\n    icon: \"btc.svg\",\n    address: \"\",\n    pairs: OrderedMap<Token, Pair>()\n        .set(Token.ETH, Pair.BTC_ETH)\n        .set(Token.WBTC, Pair.BTC_WBTC),\n    digits: 8,\n    cmcID: 1,\n    coingeckoID: \"bitcoin\",\n    settlements: [OrderSettlement.RenExAtomic],\n    offChain: true,\n});\n\nTokenDetails = TokenDetails.set(Token.ETH, {\n    name: \"Ethereum\",\n    symbol: \"ETH\",\n    icon: \"eth.svg\",\n    address: \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\",\n    pairs: OrderedMap<TokenCode, Pair>()\n        .set(Token.DGX, Pair.ETH_DGX)\n        .set(Token.TUSD, Pair.ETH_TUSD)\n        .set(Token.REN, Pair.ETH_REN)\n        .set(Token.OMG, Pair.ETH_OMG)\n        .set(Token.ZRX, Pair.ETH_ZRX)\n    ,\n    digits: 18,\n    cmcID: 1027,\n    coingeckoID: \"ethereum\",\n    settlements: [OrderSettlement.RenEx, OrderSettlement.RenExAtomic],\n});\n\nTokenDetails = TokenDetails.set(Token.WBTC, {\n    name: \"Wrapped Bitcoin\",\n    symbol: \"WBTC\",\n    icon: \"wbtc.svg\",\n    address: \"\",\n    pairs: OrderedMap<Token, Pair>(),\n    digits: 8,\n    cmcID: 1, // for now, we use bitcoin price because WBTC isn't tracked yet\n    coingeckoID: \"bitcoin\",\n    settlements: [OrderSettlement.RenExAtomic],\n    offChain: true,\n});\n\nTokenDetails = TokenDetails.set(Token.DGX, {\n    name: \"Digix Gold Token\",\n    symbol: \"DGX\",\n    icon: \"dgx.svg\",\n    address: networkData.tokens.DGX,\n    pairs: OrderedMap<TokenCode, Pair>(),\n    digits: 9,\n    cmcID: 2739,\n    coingeckoID: \"digix-gold\",\n    settlements: [OrderSettlement.RenEx, OrderSettlement.RenExAtomic],\n});\n\nTokenDetails = TokenDetails.set(Token.REN, {\n    name: \"Republic Protocol\",\n    symbol: \"REN\",\n    icon: \"ren.svg\",\n    address: networkData.tokens.REN,\n    pairs: OrderedMap<TokenCode, Pair>(),\n    digits: 18,\n    cmcID: 2539,\n    coingeckoID: \"republic-protocol\",\n    settlements: [OrderSettlement.RenEx, OrderSettlement.RenExAtomic],\n});\n\nTokenDetails = TokenDetails.set(Token.TUSD, {\n    name: \"TrueUSD\",\n    symbol: \"TUSD\",\n    icon: \"tusd.svg\",\n    address: networkData.tokens.TUSD,\n    pairs: OrderedMap<TokenCode, Pair>(),\n    digits: 18,\n    cmcID: 2563,\n    coingeckoID: \"true-usd\",\n    settlements: [OrderSettlement.RenEx, OrderSettlement.RenExAtomic],\n});\n\nTokenDetails = TokenDetails.set(Token.OMG, {\n    name: \"OmiseGo\",\n    symbol: \"OMG\",\n    icon: \"omg.svg\",\n    address: networkData.tokens.OMG,\n    pairs: OrderedMap<Token, Pair>(),\n    digits: 18,\n    cmcID: 1808,\n    coingeckoID: \"omisego\",\n    settlements: [OrderSettlement.RenEx, OrderSettlement.RenExAtomic],\n});\n\nTokenDetails = TokenDetails.set(Token.ZRX, {\n    name: \"0x\",\n    symbol: \"ZRX\",\n    icon: \"zrx.svg\",\n    address: networkData.tokens.ZRX,\n    pairs: OrderedMap<TokenCode, Pair>(),\n    digits: 18,\n    cmcID: 1896,\n    coingeckoID: \"0x\",\n    settlements: [OrderSettlement.RenEx, OrderSettlement.RenExAtomic],\n});\n\n/**\n * Retrieves the current pricepoint for two currencies.\n * @param fstCode The first currency.\n * @param sndCode The second currency.\n * @returns An array containing the price with respect to the currencies, and the 24 hour percent change.\n */\nexport const getPrice = async (quoteCode: TokenCode, baseCode: TokenCode): Promise<[number, number]> => {\n    const quoteDetails = TokenDetails.get(quoteCode, undefined);\n    const baseDetails = TokenDetails.get(baseCode, undefined);\n\n    if (quoteDetails === undefined || baseDetails === undefined) {\n        return [0, 0];\n    }\n\n    const url = `https://api.coingecko.com/api/v3/coins/${baseDetails.coingeckoID}?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false`;\n    const response = await fetch(url);\n    const data = await response.json();\n    let price: number | null = data.market_data.current_price[quoteDetails.symbol.toLowerCase()];\n    let percentChange: number | null = data.market_data.price_change_percentage_24h_in_currency[quoteDetails.symbol.toLowerCase()];\n    if (percentChange === null) {\n        percentChange = 0;\n    }\n    if (price === null) {\n        price = 0;\n    }\n    return [price, percentChange];\n};\n\nexport const RenExTokens = (tokens: List<TokenCode>) => tokens\n    .filter((token: TokenCode | undefined) => {\n        // If token is not found, use UnknownToken which has no settlements\n        return token !== undefined &&\n            TokenDetails.get(token, UnknownToken).settlements\n                .indexOf(OrderSettlement.RenEx) !== -1;\n    })\n    .toList();\n\nexport const RenExAtomicTokens = (tokens: List<TokenCode>) => tokens\n    .filter((token: TokenCode | undefined) => {\n        // If token is not found, use UnknownToken which has no settlements\n        return token !== undefined &&\n            TokenDetails.get(token, UnknownToken).settlements\n                .indexOf(OrderSettlement.RenExAtomic) !== -1;\n    })\n    .toList();\n","// tslint:disable\nimport * as Immutable from \"immutable\";\n\n/**\n * Create a new class that can be instantiated. All instances of the class\n * will be immutable, and will be guaranteed to have all properties of the\n * interface T. Default values for these properties can be specified. Using\n * the getter and setter methods are type safe.\n *\n * @param data An object defining the default value for instances of the\n *             class that will be returned.\n *\n * @return A class that can be used to instantiate immutable objects.\n */\nexport const Record = <T>(data: Pick<T, keyof T>) => {\n    // The returned class inherits from the Immutable.Record class, using the\n    // data argument to specify the default property values.\n    return class extends Immutable.Record(data as any) {\n        public constructor(inner?: Partial<T>) {\n            super(Immutable.fromJS(inner || {}));\n        }\n        /**\n         * A type safe getter.\n         *\n         * @param key The name of the property to get. It must be a property that\n         *            exists in T.\n         *\n         * @return The value associated with the property.\n         */\n        public get<K extends string & keyof T, V extends T[K]>(key: K): V {\n            return super.get(key);\n        }\n        /**\n         * A type safe setter.\n         *\n         * @param key The name of the property to set. It must be a property that\n         *            exists in T.\n         *\n         * @return A new instance that has all of the property values of the\n         *         original instance, except for the property value that was set.\n         */\n        public set<K extends (string & keyof T) & never /* FIXME */, V extends T[K]>(key: K, value: V): this {\n            return super.set(key, value) as this;\n        }\n        /**\n         * A type safe merge.\n         *\n         * @param inner An object of properties, and associated values, that will\n         *              be set.\n         *\n         * @return A new instance that has all of the property values of the\n         *         original instance, except for the property values that were\n         *         merged.\n         */\n        public merge<K extends keyof T, V extends T[K]>(inner: Partial<T> | {\n            [key in K]: V;\n        }): this {\n            return super.merge(inner as any) as this;\n        }\n    } as any as RecordInterface<T>;\n};\n\n// An interface to which the return class will be cast.\ntype RecordInterface<T> = new (inner?: Partial<T>) => Props<T> & Methods<T>;\n\n// An interface of the properties that the class will have.\ntype Props<T> = {\n    readonly [P in keyof T]: T[P];\n};\n// An interface of the methods that the class will have.\ninterface Methods<T> {\n    get<K extends keyof T, V extends T[K]>(key: K): V;\n    set<K extends keyof T, V extends T[K]>(key: K, value: V): this;\n    merge<K extends keyof T, V extends T[K]>(inner: Partial<T> | {\n        [key in K]: V;\n    }): this;\n    toJS(): any;\n}\n","// tslint:disable: no-object-literal-type-assertion\n\nimport RenExSDK, { AtomicConnectionStatus, MarketDetails, Order, OrderSide, TokenCode } from \"@renex/renex\";\nimport BigNumber from \"bignumber.js\";\nimport Web3 from \"web3\";\n\nimport { List, Map, OrderedMap } from \"immutable\";\n\nimport { _captureBackgroundException_, _captureInteractionException_ } from \"../lib/errors\";\nimport { Pair } from \"../lib/market\";\nimport { INFURA_URL, networkData } from \"../lib/network\";\nimport { Record } from \"../lib/record\";\nimport { Wallet } from \"../lib/wallets/wallet\";\nimport { BalanceActionRecord, TraderOrderRecord } from \"../reducers/typesSdk\";\n\ninterface Serializable<T> {\n    serialize(): string;\n    deserialize(str: string): T;\n}\n\nexport interface ApplicationData {\n    hiddenBook: HiddenBookData;\n    traderBook: TraderBookData;\n    balanceHistory: BalanceHistory;\n    trader: TraderData;\n    sdk: SDKData;\n    marketPrices: MarketPriceData;\n    inputs: InputsData;\n    alert: AlertData;\n    popup: PopupData;\n}\n\n// There are some issues with storing prices and volumes as BigNumbers/numbers\n// regarding rerendering, e.g. 0.0 being converted to 0 before the user has the\n// chance to finish typing a decimal number. Hence they are stored as strings.\nexport interface OrderInputs {\n    side: OrderSide;\n    pricepoint: string;\n    volume: string;\n    minVolume: string;\n}\n\nexport class InputsData extends Record({\n    market: Pair.ETH_REN,\n    orderInputs: {\n        side: OrderSide.BUY,\n        pricepoint: \"\",\n        volume: \"\",\n        minVolume: \"\",\n    } as OrderInputs,\n}) { }\n\nexport class HiddenBookData extends Record({\n    hiddenOrders: null as List<Order> | null,\n}) { }\n\nexport class TraderBookData extends Record({\n    traderOrders: OrderedMap<string, TraderOrderRecord>(),\n    cancelling: Map<string, boolean>(),\n}) { }\n\nexport class BalanceHistory extends Record({\n    updateIndex: 0,\n    balanceHistory: OrderedMap<string, BalanceActionRecord>(),\n}) { }\n\nexport class TraderData extends Record({\n    address: null as string | null,\n    url: null as string | null,\n    agreedToTerms: false,\n    seenMigrationMap: Map<string, boolean>(),\n\n    wallet: null as Wallet | null,\n\n    // Atomic\n    atomicBalances: OrderedMap<TokenCode, BigNumber | null>(),\n    usableAtomicBalances: OrderedMap<TokenCode, BigNumber | null>(),\n    atomicAddresses: OrderedMap<TokenCode, string>(),\n    atomConnectionStatus: AtomicConnectionStatus.NotConnected,\n\n    // Legacy\n    legacyBalances: OrderedMap<TokenCode, BigNumber | null>(),\n    accountLegacyBalances: OrderedMap<TokenCode, BigNumber | null>(),\n    usableLegacyBalances: OrderedMap<TokenCode, BigNumber | null>(),\n\n}) implements Serializable<TraderData> {\n    public serialize(): string {\n        return JSON.stringify({\n            address: this.address,\n            agreedToTerms: this.agreedToTerms,\n        });\n    }\n\n    public deserialize(str: string): TraderData {\n        // tslint:disable-next-line:no-this-assignment\n        let next = this;\n        try {\n            const data = JSON.parse(str);\n            next = next.set(\"address\", data.address);\n            next = next.set(\"agreedToTerms\", data.agreedToTerms);\n        } catch (error) {\n            _captureBackgroundException_(error, {\n                description: \"cannot deserialize local storage\",\n            });\n        }\n        return next;\n    }\n}\n\nwindow.sdk = new RenExSDK(new Web3.providers.HttpProvider(INFURA_URL), networkData);\n\nexport class SDKData extends Record({\n    sdk: window.sdk,\n    supportedTokens: List<TokenCode>(),\n    supportedAtomicTokens: List<TokenCode>(),\n    supportedMarkets: List<MarketDetails>(),\n    minEthTradeVolume: new BigNumber(0),\n    darknodeFeePercent: new BigNumber(0),\n    wrappingFeePercent: new BigNumber(0),\n}) { }\n\nexport interface MarketPrice {\n    price: number;\n    percentChange: number;\n}\n\nexport const UnknownMarketPrice: MarketPrice = {\n    price: 0,\n    percentChange: 0,\n};\n\nexport class MarketPriceData extends Record({\n    marketPrices: OrderedMap<Pair, MarketPrice>(),\n}) { }\n\nexport enum AlertType {\n    Error = \"error\",\n    Warning = \"warning\",\n    Success = \"success\"\n}\n\nexport enum LabelLevel {\n    Info = \"info\",\n    Warning = \"warning\"\n}\n\nexport class Alert extends Record({\n    alertType: AlertType.Warning,\n    message: \"\", // TODO: Allow for links\n}) { }\n\nexport class AlertData extends Record({\n    pendingAlerts: Map<string, () => Promise<void>>(),\n    alert: { message: \"\" } as Alert\n}) { }\n\nexport interface PopupDetails {\n    popup: React.ReactNode | null;\n    dismissible: boolean;\n    onCancel(): void;\n}\n\nexport class PopupData extends Record({\n    stack: List<PopupDetails>(),\n}) { }\n","import { createStandardAction } from \"typesafe-actions\";\n\nexport const addPendingAlert = createStandardAction(\"ADD_PENDING_ALERT\")<{\n    id: string;\n    method(): Promise<void>;\n}>();\n\nexport const removePendingAlerts = createStandardAction(\"REMOVE_PENDING_ALERTS\")<{ ids: string[] }>();\n","import * as React from \"react\";\n\nimport { SimpleConsole } from \"@renex/renex\";\n\nimport { SetPopupPayload } from \"../../actions/popup/popupActions\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\nimport { ErrorCanceledByUser } from \"../../lib/wallets/wallet\";\n\n/**\n * ApprovalPopup is a popup component that prompts the user to approve a\n * series of Ethereum transactions\n */\nclass ApprovalPopup extends React.Component<Props, State> {\n\n    /**\n     * _isMounted is used to prevent setting state after the component has been\n     * unmounted.\n     */\n    private _isMounted: boolean = false;\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            error: null,\n            logCount: 0,\n        };\n    }\n\n    public componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    public async componentDidMount() {\n        this._isMounted = true;\n\n        const { call } = this.props;\n\n        await call()\n            .catch((error) => {\n\n                let errorMessage;\n                if (error.message.match(\"User denied transaction signature\")) {\n                    errorMessage = ErrorCanceledByUser;\n                } else {\n                    _captureInteractionException_(error, {\n                        description: \"Error in ApprovalPopup.call()\",\n                        shownToUser: this._isMounted ? \"In ApprovalPopup message box\" : \"No, unmounted\",\n                    });\n                    errorMessage = error.message || error;\n                }\n\n                if (this._isMounted) {\n                    this.setState({ error: errorMessage });\n                }\n            });\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { error } = this.state;\n        const { closePopup } = this.props;\n\n        let title = <h2>Creating transaction...</h2>;\n        let message = <p>Please wait. Do not close this window.</p>;\n        if (error) {\n            switch (error) {\n                case ErrorCanceledByUser:\n                    title = <h2>Transaction canceled</h2>;\n                    message = <p />;\n                    break;\n                default:\n                    title = <h2 className=\"red\">Unable to complete transaction</h2>;\n                    message = <p>{error}</p>;\n            }\n        }\n        return <div className=\"popup approve\">\n            {title}\n            {message}\n            {error &&\n                <div className=\"popup--buttons\">\n                    <button onClick={closePopup}>Close</button>\n                </div>\n            }\n        </div>;\n    }\n}\n\ninterface Props {\n    /**\n     * The function to call after the user has approved the transaction.\n     */\n    call(): Promise<void>;\n\n    /**\n     * A callback to call if the user cancels the transaction.\n     */\n    closePopup(): void;\n}\n\ninterface State {\n    error: string | null;\n    logCount: number;\n}\n\nexport const newApprovalPopup = (call: (simpleConsole?: SimpleConsole) => Promise<void>, onCancelAction: () => void): SetPopupPayload => ({\n    popup: <ApprovalPopup closePopup={onCancelAction} call={call} />,\n    dismissible: false,\n    onCancel: onCancelAction,\n});\n","import BigNumber from \"bignumber.js\";\n\nimport { BalanceAction, BalanceActionType, ComputedOrderDetails, MatchDetails, OrderInputsAll, OrderSettlement, OrderSide, OrderStatus, OrderType, TraderOrder, TransactionStatus } from \"@renex/renex\";\nimport BN from \"bn.js\";\n\nimport { Record } from \"../lib/record\";\n\nclass OrderInputsAllRecord extends Record({\n    symbol: \"\",\n    baseToken: \"\",\n    quoteToken: \"\",\n    side: OrderSide.BUY,\n    price: new BigNumber(0),\n    volume: new BigNumber(0),\n    minVolume: new BigNumber(0),\n    type: OrderType.LIMIT,\n    orderSettlement: OrderSettlement.RenEx,\n    nonce: new BN(0),\n    expiry: 0,\n}) implements OrderInputsAll { }\n\nexport class MatchDetailsRecord extends Record({\n    orderID: \"\",\n    matchedID: \"\",\n\n    receivedVolume: new BigNumber(0),\n    spentVolume: new BigNumber(0),\n    fee: new BigNumber(0),\n    receivedToken: \"\",\n    spentToken: \"\",\n}) implements MatchDetails { }\n\nclass ComputedOrderDetailsRecord extends Record({\n    spendToken: \"\",\n    receiveToken: \"\",\n    receiveVolume: new BigNumber(0),\n    spendVolume: new BigNumber(0),\n    date: 0,\n    feeAmount: new BigNumber(0),\n    feeToken: \"\",\n    orderSettlement: OrderSettlement.RenEx,\n    nonce: new BN(0),\n}) implements ComputedOrderDetails { }\n\nconst TraderOrderRecordDefault = {\n    id: \"\",\n    trader: \"\",\n    status: OrderStatus.NOT_SUBMITTED,\n    matchDetails: undefined as MatchDetailsRecord | undefined,\n\n    computedOrderDetails: new ComputedOrderDetailsRecord(),\n    orderInputs: new OrderInputsAllRecord(),\n    transactionHash: \"\",\n};\nexport class TraderOrderRecord extends Record(TraderOrderRecordDefault) implements TraderOrder { }\n// TODO: Does Typescript have a way of getting this without explicitly defining it?\ntype TraderOrderRecordInner = typeof TraderOrderRecordDefault;\n\nexport class BalanceActionRecord extends Record({\n    action: BalanceActionType.Withdraw,\n    amount: new BigNumber(0),\n    time: 0,\n    status: TransactionStatus.Pending,\n    token: \"\",\n    trader: \"\",\n    txHash: \"\",\n    nonce: undefined as number | undefined,\n}) implements BalanceAction { }\n\nexport const traderOrderToRecord = (traderOrder: TraderOrder): TraderOrderRecord => {\n    const inner: TraderOrderRecordInner = {\n        id: traderOrder.id,\n        trader: traderOrder.trader,\n        status: traderOrder.status,\n        matchDetails: traderOrder.matchDetails ? new MatchDetailsRecord(traderOrder.matchDetails) : undefined,\n\n        computedOrderDetails: new ComputedOrderDetailsRecord(traderOrder.computedOrderDetails),\n        orderInputs: new OrderInputsAllRecord(traderOrder.orderInputs),\n        transactionHash: traderOrder.transactionHash,\n    };\n    return new TraderOrderRecord(inner);\n};\n","import BigNumber from \"bignumber.js\";\n\nimport RenExSDK, { TokenCode } from \"@renex/renex\";\n\nimport { OrderedMap } from \"immutable\";\nimport { Dispatch } from \"redux\";\nimport { createStandardAction } from \"typesafe-actions\";\n\nimport { setAlert } from \"../../actions/alert/alertActions\";\nimport { getLegacyBalances, storeBalanceActions } from \"../../actions/balances/balancesActions\";\nimport { clearPopup, setPopup } from \"../../actions/popup/popupActions\";\nimport { newApprovalPopup } from \"../../components/popups/ApprovalPopup\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\nimport { Alert } from \"../../reducers/types\";\nimport { BalanceActionRecord } from \"../../reducers/typesSdk\";\n\nexport const ETH_REQUIRED = \"0.1\";\n\nconst FAILED_WITHDRAWAL_ERROR = \"Unable to withdraw funds\";\n\n// Legacy balances\nexport const updateLegacyBalance = createStandardAction(\"UPDATE_LEGACY_BALANCE\")<{ token: TokenCode; balance: BigNumber | null }>();\nexport const updateLegacyBalances = createStandardAction(\"UPDATE_LEGACY_BALANCES\")<{ balances: OrderedMap<TokenCode, BigNumber | null> }>();\nexport const updateUsableLegacyBalances = createStandardAction(\"UPDATE_USABLE_LEGACY_BALANCES\")<{ usableBalances: OrderedMap<TokenCode, BigNumber | null> }>();\nexport const updateUsableLegacyBalance = createStandardAction(\"UPDATE_USABLE_LEGACY_BALANCE\")<{ token: TokenCode; usableBalance: BigNumber | null }>();\nexport const updateAccountLegacyBalance = createStandardAction(\"UPDATE_ACCOUNT_LEGACY_BALANCE\")<{ token: TokenCode; accountBalance: BigNumber | null }>();\nexport const updateAccountLegacyBalances = createStandardAction(\"UPDATE_ACCOUNT_LEGACY_BALANCES\")<{ accountBalances: OrderedMap<TokenCode, BigNumber | null> }>();\n\n// Atomic Balance\nexport const updateAtomicBalances = createStandardAction(\"UPDATE_ATOMIC_BALANCES\")<{ atomicBalances: OrderedMap<TokenCode, BigNumber | null> }>();\nexport const updateAtomicAddresses = createStandardAction(\"UPDATE_ATOMIC_ADDRESSES\")<{ atomicAddresses: OrderedMap<TokenCode, string> }>();\nexport const updateUsableAtomicBalances = createStandardAction(\"UPDATE_USABLE_ATOMIC_BALANCES\")<{ usableAtomicBalances: OrderedMap<TokenCode, BigNumber | null> }>();\n\nexport const WITHDRAW_DELAY = 5;\n\nexport const withdraw = (\n    sdk: RenExSDK,\n    balances: OrderedMap<TokenCode, BigNumber | null>,\n    usableBalances: OrderedMap<TokenCode, BigNumber | null>,\n    amount: string,\n    currencyCode: TokenCode,\n) => async (dispatch: Dispatch) => {\n    if (amount === null || balances === null || currencyCode === null || parseFloat(amount) <= 0 || sdk === null) {\n        throw new Error(FAILED_WITHDRAWAL_ERROR);\n    }\n\n    const amountBigNumber = new BigNumber(amount);\n    if (amountBigNumber.lte(new BigNumber(0))) {\n        dispatch(setAlert({\n            alert: new Alert({ message: \"Please enter valid input\" })\n        }));\n        return;\n    }\n\n    // Check if user has sufficient balance to withdraw.\n    const balance = usableBalances.get(currencyCode, undefined);\n    if (balance === undefined || balance === null) {\n        throw new Error(\"Unable to read balance of token while withdrawing\");\n    }\n    if (amountBigNumber.gt(balance)) {\n        throw new Error(\"Insufficient balance while withdrawing\");\n    }\n\n    return new Promise((resolve: () => void) => {\n\n        const close = () => {\n            dispatch(clearPopup());\n            resolve();\n        };\n        const transactionCall = async () => {\n            return sdk.withdraw(amountBigNumber, currencyCode, { awaitConfirmation: false })\n                .then(async withdrawResult => {\n                    const { balanceAction } = withdrawResult;\n                    const balanceActionRecord = new BalanceActionRecord(balanceAction);\n                    dispatch(storeBalanceActions([balanceActionRecord]));\n                    // Reload balances before closing popup\n                    await getLegacyBalances(sdk)(dispatch);\n                    close();\n                });\n        };\n\n        dispatch(setPopup(newApprovalPopup(transactionCall, close)));\n    });\n};\n","import BigNumber from \"bignumber.js\";\n\nimport RenExSDK, { BalanceActionType, TokenCode, TransactionStatus } from \"@renex/renex\";\n\nimport { OrderedMap } from \"immutable\";\nimport { Dispatch } from \"redux\";\nimport { createStandardAction } from \"typesafe-actions\";\n\nimport { second, sleep } from \"../../lib/conversion\";\nimport { _captureBackgroundException_ } from \"../../lib/errors\";\nimport { TokenDetails, UnknownToken } from \"../../lib/market\";\nimport { Alert, AlertData, AlertType } from \"../../reducers/types\";\nimport { BalanceActionRecord } from \"../../reducers/typesSdk\";\nimport { setAlert } from \"../alert/alertActions\";\nimport { addPendingAlert, removePendingAlerts } from \"../alert/pendingAlertActions\";\nimport {\n    updateAccountLegacyBalances,\n    updateAtomicAddresses,\n    updateAtomicBalances,\n    updateLegacyBalances,\n    updateUsableAtomicBalances,\n    updateUsableLegacyBalances\n} from \"../trader/balanceActions\";\n\n/**\n * Updates a withdrawal or deposit in the store (stored based on its tx hash)\n * @param payload - The payload should contain\n * the withdrawal or deposit object\n */\nexport const storeBalanceActions = createStandardAction(\"PUSH_BALANCE\")<BalanceActionRecord[]>();\n\n/**\n * Checks if any pending deposits or withdrawals have been confirmed\n * @param web3 - Web3 instance to use\n * @param balanceHistory - The Balance History state\n */\nexport const updateBalancesHistory = (\n    sdk: RenExSDK,\n    balanceHistory: OrderedMap<string, BalanceActionRecord>,\n    checkAll = false\n) => async (dispatch: Dispatch) => {\n    // If `checkAll` is true, check all balance history items\n    let filter = (balanceAction: BalanceActionRecord | undefined) => balanceAction !== undefined && balanceAction.status === TransactionStatus.Pending;\n    if (checkAll) {\n        filter = () => true;\n    }\n\n    balanceHistory\n        .filter(filter)\n        .valueSeq()\n        .toArray()\n        .map(async (balanceAction: BalanceActionRecord) => {\n            try {\n                let balanceActionStatus = await sdk.fetchBalanceActionStatus(balanceAction.txHash);\n\n                // If the transaction has been replaced, check again after a\n                // delay. This should not be a common occurrence.\n                if (balanceActionStatus === TransactionStatus.Replaced) {\n                    await sleep(5 * second);\n                    balanceActionStatus = await sdk.fetchBalanceActionStatus(balanceAction.txHash);\n                }\n\n                if (balanceActionStatus !== balanceAction.status) {\n                    if (balanceActionStatus === TransactionStatus.Done) {\n                        const alert = async () => {\n                            const tokenDetails = TokenDetails.get(balanceAction.token, UnknownToken);\n                            dispatch(setAlert({\n                                alert: new Alert({\n                                    message: `${balanceAction.amount} ${tokenDetails.symbol} has been successfully ${balanceAction.action === BalanceActionType.Deposit ? \"deposited\" : \"withdrawn\"}`,\n                                    alertType: AlertType.Success,\n                                }),\n                            }));\n                        };\n                        dispatch(addPendingAlert({ id: balanceAction.txHash, method: alert }));\n                    }\n                    dispatch(storeBalanceActions([balanceAction.set(\"status\", balanceActionStatus)]));\n                }\n            } catch (error) {\n                _captureBackgroundException_(\n                    error,\n                    { description: \"Error in updateBalancesHistory action\" },\n                );\n            }\n        });\n};\n\nexport const getLegacyBalances = (sdk: RenExSDK, pendingAlerts?: AlertData[\"pendingAlerts\"]) => async (dispatch: Dispatch) => {\n    // getBalances should not throw any errors\n\n    // Token balances\n    try {\n        let usableBalances = OrderedMap<TokenCode, BigNumber | null>();\n        let balances = OrderedMap<TokenCode, BigNumber | null>();\n        let accountBalances = OrderedMap<TokenCode, BigNumber | null>();\n\n        const supportedTokens = await sdk.fetchSupportedTokens();\n        const allTokenBalances = await sdk.fetchBalances(supportedTokens);\n        supportedTokens.forEach((token: TokenCode) => {\n            let free = null;\n            let total = null;\n            let nondeposited = null;\n            const tokenBalance = allTokenBalances.get(token);\n            if (tokenBalance) {\n                free = tokenBalance.free;\n                if (tokenBalance.free !== null && tokenBalance.used !== null) {\n                    total = tokenBalance.free.plus(tokenBalance.used);\n                }\n                nondeposited = tokenBalance.nondeposited;\n            }\n            usableBalances = usableBalances.set(token, free);\n            balances = balances.set(token, total);\n            accountBalances = accountBalances.set(token, nondeposited);\n        });\n        dispatch(updateUsableLegacyBalances({ usableBalances }));\n        dispatch(updateAccountLegacyBalances({ accountBalances }));\n        dispatch(updateLegacyBalances({ balances }));\n    } catch (error) {\n        _captureBackgroundException_(error, { description: \"Error in getBalances action\" });\n    }\n\n    // If there are pending alerts (e.g. Orders settled, withdrawals confirmed)\n    // call them now and clear them\n    if (pendingAlerts) {\n        dispatch(removePendingAlerts({\n            ids: pendingAlerts\n                .keySeq()\n                .toArray()\n        }));\n        pendingAlerts.map((pendingAlert: () => Promise<void>, key) => {\n            pendingAlert()\n                .catch((error) => {\n                    _captureBackgroundException_(\n                        error,\n                        { description: `Error in getBalances action for pending alert ${key}` }\n                    );\n                });\n        });\n    }\n};\n\nexport const getAtomicBalances = (sdk: RenExSDK) => async (dispatch: Dispatch) => {\n    if (!sdk.atom.isConnected()) {\n        _captureBackgroundException_(null, { description: `Cannot get atomic balances. Swapperd is not connected.` });\n\n        return;\n    }\n    try {\n        const supportedTokens = await sdk.fetchSupportedAtomicTokens();\n        await Promise.all([\n            // Update the addresses\n            sdk.atom.fetchAddresses(supportedTokens)\n                .then(atomicTokenAddresses => {\n                    let atomicAddresses = OrderedMap<TokenCode, string>();\n                    supportedTokens.map((token, index) => {\n                        atomicAddresses = atomicAddresses.set(token, atomicTokenAddresses[index]);\n                    });\n                    dispatch(updateAtomicAddresses({ atomicAddresses }));\n                })\n                .catch((error) => {\n                    _captureBackgroundException_(\n                        error,\n                        { description: \"balancesActions.getAtomicBalances.fetchAddresses\" });\n                }),\n            // Update the atomic balances\n            sdk.atom.fetchBalances(supportedTokens)\n                .then(tokenBalancesMap => {\n                    let atomicBalances = OrderedMap<TokenCode, BigNumber | null>();\n                    let usableAtomicBalances = OrderedMap<TokenCode, BigNumber | null>();\n                    supportedTokens.forEach(token => {\n                        const tokenBalance = tokenBalancesMap.get(token);\n                        if (tokenBalance) {\n                            let totalBalance: BigNumber | null = null;\n                            if (tokenBalance.free !== null && tokenBalance.used !== null) {\n                                totalBalance = tokenBalance.free.plus(tokenBalance.used);\n                            }\n                            atomicBalances = atomicBalances.set(token, totalBalance);\n                            usableAtomicBalances = usableAtomicBalances.set(token, tokenBalance.free);\n                        }\n                    });\n                    dispatch(updateAtomicBalances({ atomicBalances }));\n                    dispatch(updateUsableAtomicBalances({ usableAtomicBalances }));\n                })\n                .catch((error) => {\n                    _captureBackgroundException_(\n                        error,\n                        { description: \"balancesActions.getAtomicBalances.fetchBalances\" });\n                }),\n        ]);\n    } catch (error) {\n        _captureBackgroundException_(error, { description: \"Error in getAtomicBalances action\" });\n    }\n};\n","import { createStandardAction } from \"typesafe-actions\";\n\nimport { Pair } from \"../../lib/market\";\nimport { OrderInputs } from \"../../reducers/types\";\n\n/**\n * Updates the current market (token pair, e.g. ETH/REN)\n */\nexport const setMarket = createStandardAction(\"SET_MARKET\")<{\n    /**\n     * The market being set.\n     */\n    market: Pair;\n}>();\n\n/**\n * Updates the NewOrder inputs\n */\nexport const setOrder = createStandardAction(\"SET_ORDER\")<{\n    /**\n     * The order inputs being set.\n     */\n    orderInputs: OrderInputs;\n}>();\n","import { OrderedMap } from \"immutable\";\nimport { Dispatch } from \"redux\";\nimport { createStandardAction } from \"typesafe-actions\";\n\nimport RenExSDK, { OrderStatus } from \"@renex/renex\";\n\nimport { setAlert } from \"../../actions/alert/alertActions\";\nimport { addPendingAlert } from \"../../actions/alert/pendingAlertActions\";\nimport { _captureBackgroundException_ } from \"../../lib/errors\";\nimport { Alert, AlertType } from \"../../reducers/types\";\nimport { MatchDetailsRecord, TraderOrderRecord } from \"../../reducers/typesSdk\";\n\nexport const syncTraderOrders = createStandardAction(\"SYNC_TRADER_ORDERS\")<{ traderOrders: OrderedMap<string, TraderOrderRecord> }>();\n\nexport const addOrders = createStandardAction(\"ADD_ORDERS\")<TraderOrderRecord[]>();\n\nexport const updateOrderStatus = createStandardAction(\"UPDATE_ORDER\")<{ orderID: string; orderStatus: OrderStatus }>();\n\nexport const updateOrderCancelling = createStandardAction(\"UPDATE_ORDER_CANCELLING\")<{ orderID: string; orderCancelling: boolean }>();\n\nexport const cancelLocalOrder = createStandardAction(\"CANCEL_LOCAL_ORDER\")<{ orderID: string }>();\n\n/**\n * Filter for orders that don't need to be checked - based on network and status\n */\nexport const defaultOrderFilter = (checkAllOrders: boolean) => ((order: TraderOrderRecord | undefined) => {\n    if (order === undefined) {\n        return false;\n    }\n\n    if (!checkAllOrders) {\n        if (order.status !== OrderStatus.OPEN &&\n            order.status !== OrderStatus.NOT_SUBMITTED &&\n            order.status !== OrderStatus.CONFIRMED\n        ) {\n            return false;\n        }\n    }\n\n    return true;\n});\n\nexport const checkOrderStatuses = (\n    sdk: RenExSDK,\n    traderOrders: OrderedMap<string, TraderOrderRecord>,\n    checkAllOrders = false,\n) => async (dispatch: Dispatch) => {\n\n    // Filter if order is for different network or trader\n    const toCheck = traderOrders\n        .valueSeq()\n        .filter(defaultOrderFilter(checkAllOrders))\n        .toArray();\n\n    for (let order of toCheck) {\n        if (order === undefined) { return; }\n\n        // Check the status of the order in the orderbook.\n        let orderStatus;\n        try {\n            orderStatus = await sdk.fetchOrderStatus(order.id);\n        } catch (error) {\n            _captureBackgroundException_(\n                error as Error,\n                { description: \"Error in checkOrderStatuses action\" },\n            );\n            continue;\n        }\n\n        // If the order is settled and doesn't have match details, get them now\n        if (!order.matchDetails && orderStatus === OrderStatus.SETTLED) {\n            order = order.set(\"matchDetails\", new MatchDetailsRecord(await sdk.fetchMatchDetails(order.id)));\n            order = order.set(\"status\", OrderStatus.SETTLED);\n\n            // Only update order after the balances have been updated\n            const alert = async () => {\n                dispatch(addOrders([order]));\n\n                dispatch(setAlert({\n                    alert: new Alert({\n                        alertType: AlertType.Success,\n                        // TODO: Replace with execution details\n                        message: \"Your order has successfully been settled\",\n                    })\n                }));\n            };\n            dispatch(addPendingAlert({ id: `settled: ${order.id}`, method: alert }));\n\n        } else if (order.status !== orderStatus) {\n            dispatch(updateOrderStatus({ orderID: order.id, orderStatus }));\n        }\n    }\n};\n","import { createStandardAction } from \"typesafe-actions\";\n\nimport { Wallet } from \"../../lib/wallets/wallet\";\n\nexport const storeWallet = createStandardAction(\"STORE_WALLET\")<{ wallet: Wallet | null }>();\n","import { createStandardAction } from \"typesafe-actions\";\n\nexport const seenMigration = createStandardAction(\"SEEN_MIGRATION\")<{ address: string; seenMigration: boolean }>();\n","import * as React from \"react\";\n\nimport { Loading } from \"../../components/Loading\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\n\n/**\n * SigningPopup is a popup component for prompting for a user's ethereum\n * signature\n */\nexport class SigningPopup extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            error: null,\n            signing: true,\n        };\n    }\n\n    public async componentDidMount() {\n        this.callSign()\n            .catch(null);\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { signing, error } = this.state;\n        const { data } = this.props;\n        return <div className=\"popup sign\">\n            <h2>Approve signature</h2>\n            <p className=\"sign--data\">{data.map((item, key) => <span key={key} className=\"monospace sign--datum\">{item}</span>)}</p>\n            {signing ?\n                <>\n                    <Loading />\n                </> :\n                <>\n                    {error ? <p className=\"red\">{error}</p> : null}\n                    <button className=\"sign--button\" onClick={this.callSign}>Try again</button>\n                </>\n            }\n        </div>;\n    }\n\n    private readonly callSign = async () => {\n        const { sign } = this.props;\n\n        this.setState({ signing: true, error: null });\n\n        try {\n            await sign();\n        } catch (error) {\n            _captureInteractionException_(error, {\n                description: \"Error in SigningPopup.callSign\",\n                shownToUser: \"In SigningPopup message box\",\n            });\n            this.setState({ error: error.message || error });\n        }\n        this.setState({ signing: false });\n    }\n}\n\ninterface Props {\n    data: string[];\n    sign(): Promise<void>;\n}\n\ninterface State {\n    error: string | null;\n    signing: boolean;\n}\n","import * as React from \"react\";\n\nimport RenExSDK, { AtomicConnectionStatus } from \"@renex/renex\";\n\nimport { Dispatch } from \"redux\";\n\nimport { SigningPopup } from \"../../components/popups/SigningPopup\";\n\nimport { createStandardAction } from \"typesafe-actions\";\nimport { clearPopup, setPopup } from \"../../actions/popup/popupActions\";\n\nexport const updateAtomConnectionStatus = createStandardAction(\"UPDATE_ATOM_CONNECTION_STATUS\")<{ atomConnectionStatus: AtomicConnectionStatus }>();\n\nexport const refreshAtomConnectionStatus = (sdk: RenExSDK) => async (dispatch: Dispatch) => {\n    const atomConnectionStatus = await sdk.atom.refreshStatus();\n    dispatch(updateAtomConnectionStatus({ atomConnectionStatus }));\n};\n\nexport const authorizeSwapper = (sdk: RenExSDK) => async (dispatch: Dispatch) => new Promise((resolve, reject) => {\n\n    const data: string[] = [`RenEx:`, `authorize:`, sdk._atomConnectedAddress];\n\n    const call = async () => {\n        const status = await sdk.atom.authorize();\n        dispatch(clearPopup());\n\n        resolve(status);\n    };\n\n    const onCancel = () => {\n        dispatch(clearPopup());\n        reject();\n    };\n\n    const popup = <SigningPopup data={data} sign={call} />;\n\n    dispatch(setPopup({ popup, onCancel }));\n    // tslint:disable-next-line:no-any\n}) as any;\n","import * as React from \"react\";\n\nimport { AtomicConnectionStatus } from \"@renex/renex\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { Loading } from \"./Loading\";\n\nimport { authorizeSwapper, updateAtomConnectionStatus } from \"../actions/settlement/atomicActions\";\nimport { ApplicationData } from \"../reducers/types\";\n\n/**\n * AtomicNotice\n */\nclass AtomicNoticeClass extends React.Component<Props, State> {\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            linkError: null,\n            linkPending: false,\n        };\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { atomConnectionStatus } = this.props;\n        const { linkPending, linkError } = this.state;\n\n        const reconnect = <button onClick={this.retryConnect} disabled={linkPending}>\n            {linkPending ? <Loading /> : \"Retry\"}\n        </button>;\n\n        let inner;\n\n        switch (atomConnectionStatus) {\n            case AtomicConnectionStatus.NotConnected:\n                inner = <>\n                    <h2>Could not detect Swapperd</h2>\n                    <p>The Swapperd software is required for trading atomic swap pairs and viewing atomic balances. You can download the software using the links below:</p>\n                    <ul>\n                        <li><a href=\"https://releases.republicprotocol.com/swapperd/Swapperd.exe\">Swapperd for Windows</a></li>\n                        <li><a href=\"https://releases.republicprotocol.com/swapperd/Swapperd.dmg\">Swapperd for MacOS</a></li>\n                    </ul>\n                    {linkError && <p className=\"red\">{linkError}</p>}\n                    {reconnect}\n                </>;\n                break;\n            case AtomicConnectionStatus.NotAuthorized:\n                inner = <>\n                    <p>Your Swapperd has not been configured for this wallet. Please update your Swapperd configuration.</p>\n                    {linkError && <p className=\"red\">{linkError}</p>}\n                    {reconnect}\n                </>;\n                break;\n            case AtomicConnectionStatus.AtomNotAuthorized:\n                inner = <>\n                    <p>Your Swapperd needs to be authorized to action orders on your behalf.</p>\n                    {linkError && <p className=\"red\">{linkError}</p>}\n                    <button onClick={this.retryAuthorize} disabled={linkPending}>\n                        {linkPending ? <Loading /> : linkError ? \"Retry\" : \"Authorize\"}\n                    </button>\n                </>;\n                break;\n            case AtomicConnectionStatus.ChangedSwapper:\n                inner = <>\n                    <p>Your Swapperd details have changed. After ensuring your Swapperd details are correct and have been correctly configured correctly, click the Reconnect button.</p>\n                    {linkError && <p className=\"red\">{linkError}</p>}\n                    {reconnect}\n                </>;\n                break;\n            case AtomicConnectionStatus.InvalidSwapper:\n                inner = <>\n                    <p>Unable to verify authenticity of Swapperd. Please try updating the application.</p>\n                    {linkError && <p className=\"red\">{linkError}</p>}\n                    {reconnect}\n                </>;\n                break;\n            case AtomicConnectionStatus.ConnectedLocked:\n            case AtomicConnectionStatus.ConnectedUnlocked:\n                inner = <>\n                    <p>Successfully connected.</p>\n                </>;\n                break;\n            default:\n                inner = <p>Unknown Swapperd connection status: {atomConnectionStatus}</p>;\n        }\n\n        return <div className=\"order--wrapper\">\n            {inner}\n        </div>;\n    }\n\n    /**\n     * retryAuthorize attempts to authorize Swapperd.\n     */\n    private readonly retryAuthorize = async () => {\n        const { sdk } = this.props;\n\n        // tslint:disable-next-line:no-any\n        await this.handleLinkAtom(() => (this.props.actions.authorizeSwapper as any)(sdk));\n    }\n\n    /**\n     * retryConnect attempts to reconnect to Swapperd.\n     */\n    private readonly retryConnect = async () => {\n        const { sdk } = this.props;\n        await this.handleLinkAtom(sdk.atom.resetStatus);\n    }\n\n    /**\n     * handleLinkAtom is called by retryAuthorize or retryConnect. It takes in\n     * a Swapperd action and sets the states for linkPending and linkError\n     * depending on the outcome of the action.\n     */\n    private readonly handleLinkAtom = async (atomAction: () => Promise<AtomicConnectionStatus>) => {\n        const { actions } = this.props;\n        this.setState({\n            linkError: null,\n            linkPending: true,\n        });\n\n        return atomAction()\n            .then(atomConnectionStatus => {\n                this.setState({\n                    linkPending: false,\n                });\n                actions.updateAtomConnectionStatus({ atomConnectionStatus });\n            })\n            .catch((error) => {\n                this.setState({\n                    linkError: error,\n                    linkPending: false,\n                });\n            });\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    sdk: state.sdk.sdk,\n    atomConnectionStatus: state.trader.atomConnectionStatus,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        authorizeSwapper,\n        updateAtomConnectionStatus,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n    /**\n     * linkError specifies if an error occurred while connecting to Swapperd.\n     */\n    linkError: string | null;\n\n    /**\n     * linkPending specifies if an attempt to connect to Swapperd is in\n     * progress.\n     */\n    linkPending: boolean;\n}\n\nexport const AtomicNotice = connect(mapStateToProps, mapDispatchToProps)(AtomicNoticeClass);\n","import * as React from \"react\";\n\nimport { List } from \"immutable\";\n\n// Used for CSS styling\nconst NUMERATOR = 164; // pixels\nconst DENOMINATOR = 94; // pixels\nconst OFFSET = 8994; // pixels\n\nexport class Console extends React.Component<Props, State> {\n    private bottomElement: HTMLElement | null = null;\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            level: OFFSET,\n        };\n    }\n\n    public render = (): JSX.Element => {\n        const { level } = this.state;\n        const enhanced = level > (NUMERATOR + DENOMINATOR ** 2);\n        return (\n            <div role=\"log\" className={`monospace console ${enhanced ? \"enhanced\" : \"\"}`} onClick={this.onClickHandler}>\n                {this.props.logs}\n                <div ref={this.updateBottomElement} />\n            </div>);\n    }\n\n    public updateBottomElement = (ref: HTMLDivElement | null) => { this.bottomElement = ref; };\n\n    public componentDidMount = (): void => {\n        this.scrollToBottom();\n    }\n\n    public componentWillReceiveProps = (): void => {\n        this.scrollToBottom();\n    }\n\n    private readonly scrollToBottom = (): void => {\n        // Render any new logs before scrolling to bottom\n        this.forceUpdate(() => {\n            if (this.bottomElement) {\n                this.bottomElement.scrollIntoView({ behavior: \"smooth\" });\n            }\n        });\n    }\n\n    private readonly onClickHandler = (_event: React.MouseEvent<HTMLElement>): void => {\n        const { level } = this.state;\n        this.setState({\n            level: level + 1,\n        });\n    }\n}\n\ninterface Props {\n    logs: List<JSX.Element>;\n}\n\ninterface State {\n    level: number;\n}\n","import * as React from \"react\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { TokenDetail } from \"../lib/market\";\n\ninterface Props {\n    spendToken: TokenDetail;\n    receiveToken: TokenDetail;\n    spendVolume?: BigNumber;\n    receiveVolume?: BigNumber;\n    leftArrow?: boolean;\n}\n\ninterface State {\n}\n\nexport class TradeTokenBanner extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { spendToken, receiveToken, spendVolume, receiveVolume, leftArrow } = this.props;\n        // tslint:disable-next-line:non-literal-require\n        const spendTokenIcon = require(`../tokens/${spendToken.icon}`);\n        // tslint:disable-next-line:non-literal-require\n        const receiveTokenIcon = require(`../tokens/${receiveToken.icon}`);\n\n        return <div className=\"open--tokens\">\n            <div>\n                <img alt=\"\" role=\"presentation\" src={spendTokenIcon} />\n                {spendVolume && <p>{spendVolume.toFixed()} {spendToken.symbol}</p>}\n            </div>\n            <div className=\"open--arrow\">{leftArrow ? \"←\" : \"→\"}</div>\n            <div>\n                <img alt=\"\" role=\"presentation\" src={receiveTokenIcon} />\n                {receiveVolume && <p>{receiveVolume.toFixed()} {receiveToken.symbol}</p>}\n            </div>\n        </div>;\n    }\n}\n","import * as React from \"react\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { OrderInputs, OrderSide, SimpleConsole } from \"@renex/renex\";\nimport { List } from \"immutable\";\nimport { connect } from \"react-redux\"; // Custom typings\n\nimport { SetPopupPayload } from \"../../actions/popup/popupActions\";\nimport { Console } from \"../../components/Console\";\nimport { TradeTokenBanner } from \"../../components/TradeTokenBanner\";\nimport { TokenDetails, UnknownToken } from \"../../lib/market\";\nimport { ErrorCanceledByUser } from \"../../lib/wallets/wallet\";\nimport { ApplicationData } from \"../../reducers/types\";\n\n/**\n * OpenOrderPopup is a popup component that prompts the user to approve opening\n * an order\n */\nclass OpenOrderPopupClass extends React.Component<Props, State> {\n    private _isMounted: boolean = false;\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            confirmed: props.skipConfirm !== undefined && props.skipConfirm,\n            error: null,\n            logCount: 0,\n            logs: List(),\n        };\n    }\n\n    public async componentDidMount(): Promise<void> {\n        this._isMounted = true;\n        if (this.state.confirmed) {\n            await this.onConfirm();\n        }\n    }\n\n    public async componentWillUnmount(): Promise<void> {\n        this._isMounted = false;\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { confirmed } = this.state;\n\n        let inner;\n        if (!confirmed) {\n            inner = this.renderConfirm();\n        } else {\n            inner = this.renderOpening();\n        }\n\n        return <div className=\"popup open\">\n            {inner}\n        </div>;\n    }\n\n    private readonly renderConfirm = (): React.ReactNode => {\n        const { feePercent, orderInputs } = this.props;\n\n        const { symbol, side, price, volume, minVolume } = orderInputs;\n\n        const [baseToken, quoteToken] = symbol.split(\"/\");\n        const spendToken = side === OrderSide.BUY ? quoteToken : baseToken;\n        const receiveToken = side === OrderSide.BUY ? baseToken : quoteToken;\n        const spendTokenDetails = TokenDetails.get(spendToken, UnknownToken);\n        const receiveTokenDetails = TokenDetails.get(receiveToken, UnknownToken);\n        const baseTokenDetails = TokenDetails.get(baseToken, UnknownToken);\n        const quoteTokenDetails = TokenDetails.get(quoteToken, UnknownToken);\n\n        const baseVolume = new BigNumber(volume);\n        const minBaseVolume = new BigNumber(minVolume || 0);\n        const quoteVolume = baseVolume.times(new BigNumber(price));\n\n        const spendVolume = (side === OrderSide.BUY) ? quoteVolume : baseVolume;\n        let receiveVolume = (side === OrderSide.BUY) ? baseVolume : quoteVolume;\n\n        // Calculate fees\n        const feeToken = receiveToken;\n        const feeVolume = receiveVolume.times(feePercent);\n        receiveVolume = receiveVolume.minus(feeVolume);\n\n        const feeTokenDetails = TokenDetails.get(feeToken, UnknownToken);\n\n        return <>\n            <h2>Confirm order details</h2>\n            <TradeTokenBanner\n                spendToken={spendTokenDetails}\n                receiveToken={receiveTokenDetails}\n                spendVolume={spendVolume}\n                receiveVolume={receiveVolume}\n            />\n            <div className=\"open--details\">\n                <p><span>Price:</span> {price} {quoteTokenDetails.symbol}</p>\n                <p><span>Minimum Volume:</span> {minBaseVolume.toFixed()} {baseTokenDetails.symbol}</p>\n                <p>Includes a {feeVolume.toFixed()} {feeTokenDetails.symbol} fee</p>\n            </div>\n            <div className=\"popup--buttons\">\n                <button className=\"open--confirm\" onClick={this.onConfirm}><span>Confirm</span></button>\n                <button onClick={this.props.closePopup}>Cancel</button>\n            </div>\n        </>;\n    }\n\n    private readonly renderOpening = (): React.ReactNode => {\n        const { error, logs } = this.state;\n        const { closePopup } = this.props;\n\n        let title = <h2>Opening order...</h2>;\n        let message = <p>Please wait. Do not close this window.</p>;\n        if (error) {\n            switch (error.message) {\n                case ErrorCanceledByUser:\n                    title = <h2>Order canceled</h2>;\n                    message = <p />;\n                    break;\n                default:\n                    title = <h2 className=\"red\">Unable to complete transaction</h2>;\n                    message = <p>{error.message}</p>;\n            }\n        }\n        return <>\n            {title}\n            {message}\n            {error &&\n                <div className=\"popup--buttons\">\n                    <button onClick={closePopup}>Close</button>\n                </div>\n            }\n            <Console logs={logs} />\n        </>;\n    }\n\n    private readonly onConfirm = async () => {\n        const { call } = this.props;\n\n        this.setState({ confirmed: true });\n\n        const simpleConsole = { log: this.log, error: this.error };\n\n        await call(simpleConsole)\n            .catch((error) => {\n                console.error(error);\n                // Set state may fail if unmounted\n                if (this._isMounted) {\n                    this.setState({ error });\n                }\n            });\n    }\n\n    private readonly log = (message: string) => {\n        const logCount = this.state.logCount;\n        this.setState({ logCount: logCount + 1, logs: this.state.logs.push(<p key={logCount}>{message}</p>) });\n    }\n\n    private readonly error = (message: string) => {\n        const logCount = this.state.logCount;\n        this.setState({ logCount: logCount + 1, logs: this.state.logs.push(<p key={logCount} className=\"red\">{message}</p>) });\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    feePercent: state.sdk.darknodeFeePercent,\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n    orderInputs: OrderInputs;\n    skipConfirm?: boolean;\n    call(simpleConsole: SimpleConsole): Promise<void>;\n    closePopup(): void;\n}\n\ninterface State {\n    confirmed: boolean;\n    error: Error | null;\n    logCount: number;\n    logs: List<JSX.Element>;\n}\n\nconst OpenOrderPopup = connect(mapStateToProps, null)(OpenOrderPopupClass);\n\nexport const newOpenOrderPopup = (orderInputs: OrderInputs, call: (simpleConsole?: SimpleConsole) => Promise<void>, onCancelAction: () => void, skipConfirm?: boolean): SetPopupPayload => ({\n    popup: <OpenOrderPopup call={call} closePopup={onCancelAction} orderInputs={orderInputs} skipConfirm={skipConfirm} />,\n    dismissible: false,\n    onCancel: onCancelAction,\n});\n","import BigNumber from \"bignumber.js\";\n\nimport { Dispatch } from \"redux\";\n\nimport RenExSDK, { OrderInputs, OrderSettlement, OrderSide, OrderStatus, OrderType, SimpleConsole } from \"@renex/renex\";\n\nimport { setAlert } from \"../../actions/alert/alertActions\";\nimport { clearPopup, setPopup } from \"../../actions/popup/popupActions\";\nimport { newApprovalPopup } from \"../../components/popups/ApprovalPopup\";\nimport { Pair, Pairs } from \"../../lib/market\";\nimport { ErrorCanceledByUser } from \"../../lib/wallets/wallet\";\nimport { Alert, AlertType } from \"../../reducers/types\";\n\nimport { addPendingAlert } from \"../../actions/alert/pendingAlertActions\";\nimport { getLegacyBalances } from \"../../actions/balances/balancesActions\";\nimport { addOrders, updateOrderCancelling, updateOrderStatus } from \"../../actions/orderbook/traderBookActions\";\nimport { newOpenOrderPopup } from \"../../components/popups/OpenOrderPopup\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\nimport { traderOrderToRecord } from \"../../reducers/typesSdk\";\n\nexport const openOrder = (\n    sdk: RenExSDK,\n    market: Pair,\n    side: OrderSide,\n    pricepoint: string,\n    volume: string,\n    minimumVolume: string,\n    orderType: OrderType,\n    onSuccess?: () => void,\n    onError?: () => void,\n) => async (dispatch: Dispatch) => {\n    const marketPair = Pairs.get(market, undefined);\n    if (!marketPair) {\n        return;\n    }\n    const skipConfirm = marketPair.orderSettlement === OrderSettlement.RenExAtomic;\n\n    const pricepointBN = new BigNumber(pricepoint);\n    const volumeBN = new BigNumber(volume);\n    const minimumVolumeBN = new BigNumber(minimumVolume);\n\n    const orderInputs: OrderInputs = {\n        symbol: `${marketPair.baseToken}/${marketPair.quoteToken}`,\n        side,\n        price: pricepointBN.toFixed(),\n        volume: volumeBN,\n        minVolume: minimumVolumeBN,\n        type: orderType,\n    };\n\n    const openOrderCall = async (simpleConsole?: SimpleConsole) => {\n        return sdk.openOrder(orderInputs, { simpleConsole, awaitConfirmation: false })\n            .then(async (openOrderResult) => {\n                const { traderOrder } = openOrderResult;\n                dispatch(addOrders([traderOrderToRecord(traderOrder)]));\n\n                // Reload balances before closing popup\n                await getLegacyBalances(sdk)(dispatch);\n\n                dispatch(setAlert({\n                    alert: new Alert({\n                        alertType: AlertType.Success,\n                        message: \"Your order has been sent\",\n                    })\n                }));\n\n                dispatch(clearPopup());\n                if (onSuccess) {\n                    onSuccess();\n                }\n            })\n            .catch(async (error: Error) => {\n                if (onError) {\n                    onError();\n                }\n                if (error.message.match(\"User denied transaction signature\")) {\n                    throw new Error(ErrorCanceledByUser);\n                }\n                _captureInteractionException_(error, {\n                    description: \"Error opening order\",\n                    shownToUser: \"In OpenOrderPopup in message box\",\n                });\n                throw error;\n            });\n    };\n\n    const onDismiss = () => {\n        dispatch(clearPopup());\n        if (onError) {\n            onError();\n        }\n    };\n\n    dispatch(setPopup(newOpenOrderPopup(orderInputs, openOrderCall, onDismiss, skipConfirm)));\n};\n\nexport const cancelOrder = (\n    sdk: RenExSDK,\n    orderID: string,\n) => async (dispatch: Dispatch) => {\n\n    return new Promise((resolve: () => void) => {\n\n        const close = () => {\n            dispatch(clearPopup());\n            resolve();\n        };\n\n        dispatch(updateOrderCancelling({ orderID, orderCancelling: true }));\n        const cancelOrderCall = async () => {\n            const { promiEvent } = await sdk.cancelOrder(orderID, { awaitConfirmation: false });\n            if (!promiEvent) {\n                throw new Error(\"Unable to cancel order\");\n            }\n            return promiEvent\n                .on(\"transactionHash\", async () => {\n                    // Transaction is sent\n                    close();\n                })\n                .then(() => {\n                    // Transaction is confirmed\n                    dispatch(updateOrderStatus({ orderID, orderStatus: OrderStatus.CANCELED }));\n\n                    const alert = async () => {\n                        dispatch(setAlert({\n                            alert: new Alert({\n                                alertType: AlertType.Success,\n                                message: \"Your order has been cancelled\",\n                            })\n                        }));\n                        dispatch(updateOrderCancelling({ orderID, orderCancelling: false }));\n                    };\n                    dispatch(addPendingAlert({ id: `cancel: ${orderID}`, method: alert }));\n                })\n                .catch((error: Error) => {\n                    // Transaction failed\n                    dispatch(updateOrderCancelling({ orderID, orderCancelling: false }));\n                    throw error; // Shown in Approval Popup\n                });\n        };\n\n        dispatch(setPopup(newApprovalPopup(cancelOrderCall, close)));\n\n    });\n\n};\n","import * as React from \"react\";\n\nimport { LabelLevel } from \"../reducers/types\";\n\n/**\n * InfoLabel is a visual component for displaying an information message for\n * another component\n */\nexport class InfoLabel extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            top: 0,\n            left: 0,\n        };\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { level, children } = this.props;\n        const iconType = level || LabelLevel.Info;\n        return (\n            <div className=\"label\">\n                <div className={`label--icon ${iconType}--icon`} onMouseEnter={this.onMouseEnter} />\n                <div style={this.state} className=\"label--message\">{children ? children : \"\"}</div>\n            </div>\n        );\n    }\n\n    private readonly onMouseEnter = (event: React.MouseEvent<HTMLElement>) => {\n        const { top, left, width, height } = event.currentTarget.getBoundingClientRect();\n        this.setState({\n            top: top - height / 2,\n            left: left + width / 2,\n        });\n    }\n}\n\ninterface Props {\n    level?: LabelLevel;\n    children?: React.ReactNode;\n}\n\ninterface State {\n    top: number;\n    left: number;\n}\n","import moment from \"moment\";\nimport * as React from \"react\";\n\nimport { OrderSettlement, OrderSide, OrderStatus, TraderOrder } from \"@renex/renex\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { Loading } from \"./Loading\";\n\nimport { setAlert } from \"../actions/alert/alertActions\";\nimport { cancelOrder } from \"../actions/trader/orderActions\";\nimport { getTimeMagnitude, naturalTime, TimeMagnitude } from \"../lib/conversion\";\nimport { _captureInteractionException_ } from \"../lib/errors\";\nimport { TokenDetails, UnknownToken } from \"../lib/market\";\nimport { Alert, AlertType, ApplicationData, LabelLevel } from \"../reducers/types\";\nimport { TraderOrderRecord } from \"../reducers/typesSdk\";\nimport { InfoLabel } from \"./InfoLabel\";\n\nconst renderOrderStatus = (status: OrderStatus) => {\n    switch (status) {\n        case OrderStatus.NOT_SUBMITTED: return \"Pending\";\n        case OrderStatus.FAILED_TO_SETTLE: return \"Failed\";\n        case OrderStatus.OPEN: return \"Open\";\n        case OrderStatus.CONFIRMED: return \"Settling\";\n        case OrderStatus.CANCELED: return \"Canceled\";\n        case OrderStatus.SETTLED: return \"Settled\";\n        case OrderStatus.SLASHED: return \"Aborted\";\n        default:\n            return \"Unknown\";\n    }\n};\n\nclass SubmittedTradesTableClass extends React.Component<Props, State> {\n    private timeout: NodeJS.Timer | undefined;\n    private rerender: NodeJS.Timer | undefined;\n\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            highlightLatest: false,\n            receivedOrders: false,\n            relevantRows: 0,\n        };\n    }\n\n    public componentWillReceiveProps(nextProps: Props): void {\n        // Highlight the latest order if it was just added.\n        if (this.props.traderOrders.size < nextProps.traderOrders.size) {\n            if (this.state.receivedOrders) {\n                this.setState({ highlightLatest: true });\n\n                if (this.timeout) { clearTimeout(this.timeout); }\n                this.timeout = setTimeout(\n                    () => { this.setState({ highlightLatest: false }); },\n                    3 * 1000,\n                );\n            } else {\n                this.setState({ receivedOrders: true });\n            }\n        } else if (this.props.traderOrders.size > nextProps.traderOrders.size) {\n            // Remove highlight if order failed and has been removed from the list.\n            this.setState({ highlightLatest: false });\n        }\n    }\n\n    public componentWillUnmount(): void {\n        if (this.timeout) { clearTimeout(this.timeout); }\n        if (this.rerender) { clearTimeout(this.rerender); }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { amountToShow } = this.props;\n        const { traderOrders } = this.props;\n        let relevantRows = null;\n        if (traderOrders.size > 0) {\n            // Find the most precise time being shown (seconds, minutes, hours...)\n            // and rerender to ensure that these times are updated\n            const magnitude = traderOrders\n                .map((traderOrder: TraderOrderRecord) => getTimeMagnitude(traderOrder.computedOrderDetails.date))\n                .reduce((val: number, min: number) => Math.min(val, min), TimeMagnitude.Day);\n\n            if (this.rerender) { clearTimeout(this.rerender); }\n            this.rerender = setTimeout(\n                () => {\n                    this.forceUpdate();\n                },\n                magnitude / 2\n            );\n\n            relevantRows = this.generateRows();\n        }\n\n        return (\n            <div className=\"trades--table table--wrapper\">\n                <table>\n                    <thead>\n                        <tr>\n                            {/* If any fields are added/removed, the colSpan\n                                    below must be modified to reflect this. */}\n                            <th>Order ID</th>\n                            <th>From</th>\n                            <th>To</th>\n                            <th>Price</th>\n                            <th>Opened</th>\n                            <th>Status</th>\n                            <th>Cancel?</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {relevantRows && relevantRows.length > 0 ?\n                            amountToShow !== undefined ? relevantRows.slice(0, amountToShow) : relevantRows\n                            :\n                            <tr>\n                                <td colSpan={8}>No submitted orders</td>\n                            </tr>\n                        }\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n    private async handleCancel(orderID: string): Promise<void> {\n        const { sdk, traderOrders } = this.props;\n\n        if (!sdk || !traderOrders) {\n            return;\n        }\n\n        // Attempt to cancel\n        try {\n            // tslint:disable-next-line: await-promise\n            await this.props.actions.cancelOrder(sdk, orderID);\n        } catch (error) {\n            _captureInteractionException_(error, {\n                description: \"Error in SubmittedTradesTable.handleCancel\",\n                shownToUser: \"As alert\",\n                orderID,\n            });\n            this.props.actions.setAlert({\n                alert: new Alert({\n                    alertType: AlertType.Error,\n                    // TODO: Replace with execution details\n                    message: \"Unable to cancel order\",\n                })\n            });\n        }\n    }\n\n    private generateRows(): React.ReactNode[] | null {\n        const { traderOrders, sdk, cancelling, filter } = this.props;\n        const { highlightLatest } = this.state;\n\n        const atomConnected = sdk.atom.isConnected();\n\n        const orders = filter ? traderOrders.filter(filter) : traderOrders;\n\n        return orders\n            .valueSeq()\n            .toArray()\n            .reverse()\n            .map((order: TraderOrder, key: number) => {\n\n                const spendDetails = TokenDetails.get(order.computedOrderDetails.spendToken, UnknownToken);\n                const receiveDetails = TokenDetails.get(order.computedOrderDetails.receiveToken, UnknownToken);\n\n                const fstSymbol = (order.orderInputs.side === OrderSide.SELL ? receiveDetails : spendDetails).symbol;\n                const sndSymbol = (order.orderInputs.side === OrderSide.SELL ? spendDetails : receiveDetails).symbol;\n\n                // Deduct fees from receive amount.\n                // receiveAmount = receiveAmount.minus(receiveAmount.times(ORDER_FEE));\n\n                const receive = order.computedOrderDetails.receiveVolume;\n                const spend = order.computedOrderDetails.spendVolume;\n\n                return (\n                    <tr key={key} className={`${order.status.toLowerCase()} ${key === 0 && highlightLatest ? \"recent\" : \"\"}`}>\n                        <td><span className=\"monospace\">{order.id}</span></td>\n                        <td className=\"volume right\">\n                            <span>{spend.toString()} {spendDetails.symbol}</span>\n                        </td>\n                        <td className=\"volume right\">\n                            <span>{receive.toString()} {receiveDetails.symbol}</span>\n                        </td>\n                        <td className=\"price center\">{`${order.orderInputs.price.toFixed()} ${fstSymbol} to ${sndSymbol}`}</td>\n                        <td\n                            className=\"center\"\n                            title={\n                                moment(order.computedOrderDetails.date * 1000)\n                                    .format(\"MMMM Do YYYY, HH:mm:ss\")\n                            }\n                        >\n                            <span>{naturalTime(order.computedOrderDetails.date, { message: \"Just now\", suffix: \"ago\", countDown: false })}</span>\n                        </td>\n                        <td className=\"center\">\n                            {\n                                order.status === OrderStatus.NOT_SUBMITTED ?\n                                    <Loading /> :\n                                    <span>{renderOrderStatus(order.status)}\n                                        {order.computedOrderDetails.orderSettlement === OrderSettlement.RenExAtomic &&\n                                            order.status === OrderStatus.CONFIRMED &&\n                                            !atomConnected ?\n                                            <InfoLabel level={LabelLevel.Warning}>Unable to connect to Swapperd</InfoLabel>\n                                            : null\n                                        }\n                                    </span>\n                            }\n                        </td>\n                        <td className=\"center\">\n                            {\n                                order.status === OrderStatus.OPEN ? (\n                                    cancelling.get(order.id, false) ?\n                                        <Loading />\n                                        :\n                                        <span\n                                            className=\"cross\"\n                                            role=\"button\"\n                                            // tslint:disable-next-line:react-this-binding-issue\n                                            onClick={this.handleCancel.bind(this, order.id)}\n                                        >\n                                            &#x00D7;\n                                        </span>\n                                )\n                                    :\n                                    <span>-</span>\n                            }\n                        </td>\n                    </tr >\n                );\n            });\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    cancelling: state.traderBook.cancelling,\n    traderOrders: state.traderBook.traderOrders,\n    sdk: state.sdk.sdk,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        cancelOrder,\n        setAlert,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n    amountToShow?: number;\n    filter?(order?: TraderOrderRecord): boolean;\n}\n\ninterface State {\n    relevantRows: number;\n    highlightLatest: boolean;\n    receivedOrders: boolean;\n}\n\nexport const SubmittedTradesTable = connect(mapStateToProps, mapDispatchToProps)(SubmittedTradesTableClass);\n","import * as React from \"react\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { BalanceAction, BalanceActionType, Token, TokenCode, TransactionStatus } from \"@renex/renex\";\n\nimport { setAlert } from \"../actions/alert/alertActions\";\nimport { withdraw } from \"../actions/trader/balanceActions\";\nimport { _captureInteractionException_ } from \"../lib/errors\";\nimport { RenExTokens, TokenDetails, UnknownToken } from \"../lib/market\";\nimport { networkData } from \"../lib/network\";\nimport { ErrorCanceledByUser } from \"../lib/wallets/wallet\";\nimport { Alert, AlertType, ApplicationData, LabelLevel } from \"../reducers/types\";\nimport { InfoLabel } from \"./InfoLabel\";\nimport { Loading } from \"./Loading\";\n\n/**\n * ViewBalancesTable is a visual component for allowing a user to deposit and\n * withdraw funds\n */\nclass ViewBalancesTableClass extends React.Component<Props, State> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            balanceHistorySize: 0,\n            pendingWithdrawal: false,\n            withdrawing: null,\n        };\n    }\n\n    public componentWillReceiveProps(nextProps: Props): void {\n        const { balanceHistory } = nextProps;\n\n        // Check for pending withdrawal updates if there are new items in the\n        // history or if there is an existing pending withdrawal.\n        if (balanceHistory.size !== this.state.balanceHistorySize || this.state.pendingWithdrawal) {\n            this.setState({ balanceHistorySize: balanceHistory.size });\n            const pendingWithdrawal = balanceHistory.filter((item: BalanceAction | undefined) => {\n                return item !== undefined && item.action === BalanceActionType.Withdraw && item.status === TransactionStatus.Pending;\n            }).size > 0;\n            if (pendingWithdrawal !== this.state.pendingWithdrawal) {\n                this.setState({ pendingWithdrawal });\n            }\n        }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n\n        return <div className=\"view--table table--wrapper\">\n            <table>\n                <thead>\n                    <tr>\n                        <th>Token</th>\n                        <th>\n                            Locked Balance\n                                <InfoLabel>If you have any ordered open, please cancel them before withdrawing.</InfoLabel>\n                        </th>\n                        <th>\n                            Usable Balance\n                                <InfoLabel>The amount you have deposited, excluding balances locked in open orders or pending withdrawals.</InfoLabel>\n                        </th>\n                        <th />\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.generateRows()}\n                </tbody>\n            </table>\n        </div>;\n    }\n\n    private generateRows(): React.ReactNode[] {\n        const { legacyBalances, usableLegacyBalances, supportedTokens } = this.props;\n        const { withdrawing } = this.state;\n\n        const list: React.ReactNode[] = [];\n        RenExTokens(supportedTokens)\n            .forEach((token: TokenCode) => {\n                const { name, symbol, icon, address } = TokenDetails.get(token, UnknownToken);\n                const balance = legacyBalances.get(token, null);\n                const usableBalance = usableLegacyBalances.get(token, null);\n\n                if (balance && balance.isZero()) {\n                    return;\n                }\n\n                const lockedBalance = balance && usableBalance ? balance.minus(usableBalance) : balance;\n\n                const lockedBalanceRender = !lockedBalance || lockedBalance.isZero() ?\n                    `` :\n                    <span className=\"red\">{lockedBalance.toFixed()} {symbol}</span>;\n\n                const readableUsableBalanceText = (usableBalance !== null) ? usableBalance.toFixed() : \"-\";\n\n                // tslint:disable-next-line:non-literal-require\n                const image = require(`../tokens/${icon}`);\n\n                let link;\n                if (token !== Token.ETH) {\n                    const TOKEN_URL = `${networkData.etherscan}/token/${address}`;\n                    link =\n                        <a className=\"view--external\" href={TOKEN_URL} rel=\"noopener noreferrer\" target=\"_blank\" title=\"View on Etherscan\">\n                            <span>&rarr;</span>\n                        </a>;\n                }\n                list.push(\n                    <tr key={token}>\n                        <td>\n                            <img alt=\"\" role=\"presentation\" src={image} />\n                            <span>{`${name} `}</span>\n                            {link}\n                        </td>\n                        <td>\n                            {lockedBalanceRender}\n                            {balance === null &&\n                                <InfoLabel level={LabelLevel.Warning}>Failed to retrieve locked {symbol} balance.</InfoLabel>\n                            }\n                        </td>\n                        <td>\n                            {`${readableUsableBalanceText} ${symbol}`}\n                            {usableBalance === null &&\n                                <InfoLabel level={LabelLevel.Warning}>Failed to retrieve usable {symbol} balance.</InfoLabel>\n                            }\n                        </td>\n                        <td>\n                            {withdrawing === token ?\n                                <Loading /> :\n                                <button disabled={withdrawing !== null} value={token} onClick={this.withdraw}>Withdraw</button>\n                            }\n                        </td>\n                    </tr >\n                );\n            });\n\n        return list;\n    }\n\n    private readonly withdraw = async (event: React.MouseEvent<HTMLButtonElement>): Promise<void> => {\n\n        const { sdk, legacyBalances, usableLegacyBalances } = this.props;\n        const { pendingWithdrawal } = this.state;\n\n        const element = (event.target as HTMLButtonElement);\n        const currency = element.value;\n\n        const withdrawAmount = usableLegacyBalances.get(currency);\n\n        if (!withdrawAmount) {\n            this.props.actions.setAlert({ alert: new Alert({ message: \"Unable to withdraw, please try again.\" }) });\n            return;\n        }\n\n        if (pendingWithdrawal) {\n            this.props.actions.setAlert({ alert: new Alert({ message: \"Please wait until the current withdrawal is complete\" }) });\n            return;\n        }\n\n        this.setState({ withdrawing: currency as Token });\n\n        try {\n            // tslint:disable-next-line: await-promise\n            await this.props.actions.withdraw(\n                sdk, legacyBalances, usableLegacyBalances, withdrawAmount.toFixed(), currency,\n            );\n        } catch (error) {\n            if (error.message !== ErrorCanceledByUser) {\n                _captureInteractionException_(error, { description: \"Error in ViewBalancesTable.withdraw\", shownToUser: \"As alert\" });\n\n                this.props.actions.setAlert({\n                    alert: new Alert({\n                        alertType: AlertType.Error,\n                        message: error.message || error,\n                    })\n                });\n            }\n        }\n\n        this.setState({ withdrawing: null });\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    accountLegacyBalances: state.trader.accountLegacyBalances,\n    balanceHistory: state.balanceHistory.balanceHistory,\n    legacyBalances: state.trader.legacyBalances,\n    traderOrders: state.traderBook.traderOrders,\n    usableLegacyBalances: state.trader.usableLegacyBalances,\n    sdk: state.sdk.sdk,\n    supportedTokens: state.sdk.supportedTokens,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        setAlert,\n        withdraw,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n    balanceHistorySize: number;\n    pendingWithdrawal: boolean;\n    withdrawing: Token | null;\n}\n\nexport const ViewBalancesTable = connect(mapStateToProps, mapDispatchToProps)(ViewBalancesTableClass);\n","import * as React from \"react\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { OrderSettlement, OrderStatus } from \"@renex/renex\";\nimport { clearPopup, SetPopupPayload } from \"../../actions/popup/popupActions\";\nimport { seenMigration } from \"../../actions/trader/migrationActions\";\nimport { ApplicationData } from \"../../reducers/types\";\nimport { TraderOrderRecord } from \"../../reducers/typesSdk\";\nimport { AtomicNotice } from \"../AtomicNotice\";\nimport { SubmittedTradesTable } from \"../SubmittedTradesTable\";\nimport { ViewBalancesTable } from \"../ViewBalancesTable\";\n\nconst orderFilter = (order: TraderOrderRecord): boolean =>\n    order.computedOrderDetails.orderSettlement === OrderSettlement.RenEx &&\n    order.status === OrderStatus.OPEN;\n\n/**\n * MigrationPopup is a popup component for displaying terms and conditions\n */\nclass MigrationPopupClass extends React.Component<Props, State> {\n\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            page: 0,\n        };\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { page } = this.state;\n\n        return this.pages[page]();\n    }\n\n    public renderWelcome = (): JSX.Element => {\n        return (\n            <div className=\"popup migration\">\n                <h1>Welcome</h1>\n                <div className=\"migration--body\">\n                    <div className=\"migration--description\">\n                        <p>\n                            RenEx now uses <i>Swapperd</i> for trader balances and order execution.\n                            Before continuing, please step through to see the changes.\n                        </p>\n                    </div>\n                    <button onClick={this.next}>Next</button>\n                </div>\n            </div>\n        );\n    }\n\n    // public renderWhatIsSwapperd = (): JSX.Element => {\n    //     return (\n    //         <div className=\"popup migration\">\n    //             <h1>What is Swapperd</h1>\n    //             <div className=\"migration--body\">\n    //                 <div className=\"migration--description\">\n    //                     <p>\n    //                         Swapperd is a\n    //                     </p>\n    //                 </div>\n    //                 <button onClick={this.previous}>Previous</button>\n    //                 <button onClick={this.next}>Next</button>\n    //             </div>\n    //         </div>\n    //     );\n    // }\n\n    public renderAtomicNotice = (): JSX.Element => {\n        const showLater = false;\n\n        return (\n            <div className=\"popup migration\">\n                <h1>Connect Swapperd</h1>\n                <div className=\"migration--body\">\n\n                    <div className=\"migration--description\">\n                        <p>\n                            In order to use RenEx, you now use the Swapperd wallet. Connect it to trade:\n                    </p>\n                    </div>\n                    <div className=\"migration--frame\">\n                        <AtomicNotice />\n                    </div>\n                    <button onClick={this.previous}>Previous</button>\n                    <button onClick={this.next}>{showLater ? \"Later\" : \"Next\"}</button>\n                </div>\n            </div>\n        );\n    }\n\n    public renderCancelOrders = (): JSX.Element => {\n\n        const { traderOrders } = this.props;\n\n        const showLater = traderOrders.filter(orderFilter).size > 0;\n\n        return (\n            <div className=\"popup migration\">\n                <h1>Cancel old orders</h1>\n                <div className=\"migration--body\">\n\n                    <div className=\"migration--description\">\n                        <p>\n                            RenEx now uses.\n                            RenEx now uses a single Atomic swap system for all\n                            trades and balances should now be stored in Swapperd to\n                            perform trades.\n                            Before withdrawing your legacy balances, please cancel\n                            your old orders.\n                    </p>\n                    </div>\n                    <div className=\"migration--frame\">\n                        <SubmittedTradesTable filter={orderFilter} />\n                    </div>\n                    <button onClick={this.previous}>Previous</button>\n                    <button onClick={this.next}>{showLater ? \"Later\" : \"Next\"}</button>\n                </div>\n            </div>\n        );\n    }\n\n    public renderWithdraw = (): JSX.Element => {\n        const { legacyBalances } = this.props;\n\n        const showLater = (legacyBalances.filter(\n            (balance: BigNumber | null) => (\n                balance !== null &&\n                !balance.isZero())).size > 0\n        );\n\n        return (\n            <div className=\"popup migration\">\n                <h1>Withdraw legacy balances</h1>\n                <div className=\"migration--body\">\n\n                    <div className=\"migration--description\">\n                        <p>Balances are no longer stored in the RenEx balances contract.</p>\n                    </div>\n                    <div className=\"migration--frame\">\n                        <ViewBalancesTable />\n                    </div>\n                    <button onClick={this.previous}>Previous</button>\n                    <button onClick={this.done}>{showLater ? \"Later\" : \"Close\"}</button>\n                </div>\n            </div>\n        );\n    }\n\n    // public renderClose = (): JSX.Element => {\n    //     return (\n    //         <div className=\"popup migration\">\n    //             <h1>Ready to go</h1>\n    //             <div className=\"migration--description\" />\n    //             <button onClick={this.done}>Close</button>\n    //         </div>\n    //     );\n    // }\n\n    /**\n     * pages is an array of render functions to show for each step\n     */\n    // tslint:disable-next-line: member-ordering\n    private readonly pages = [\n        this.renderWelcome,\n        // this.renderWhatIsSwapperd,\n        this.renderAtomicNotice,\n        this.renderCancelOrders,\n        this.renderWithdraw,\n        // this.renderClose,\n    ];\n\n    private readonly next = (): void => {\n        this.setState({ page: this.state.page + 1 });\n    }\n\n    private readonly previous = (): void => {\n        this.setState({ page: this.state.page - 1 });\n    }\n\n    private readonly done = (): void => {\n        const { address } = this.props;\n        if (address) {\n            this.props.actions.seenMigration({ address, seenMigration: true });\n        }\n        this.props.actions.clearPopup();\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    legacyBalances: state.trader.legacyBalances,\n    traderOrders: state.traderBook.traderOrders,\n    address: state.trader.address,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        seenMigration,\n        clearPopup,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n    page: number;\n}\n\nexport const MigrationPopup = connect(mapStateToProps, mapDispatchToProps)(MigrationPopupClass);\n\nexport const newMigrationPopup = (onCancelAction: () => void): SetPopupPayload => ({\n    popup: <MigrationPopup />,\n    dismissible: true,\n    onCancel: onCancelAction,\n});\n","import { createBrowserHistory } from \"history\";\n\nexport const history = createBrowserHistory();\n","import * as Sentry from \"@sentry/browser\";\n\nimport RenExSDK, { TokenCode } from \"@renex/renex\";\nimport Web3 from \"web3\";\n\nimport { OrderedMap } from \"immutable\";\nimport { Dispatch } from \"redux\";\nimport { createStandardAction } from \"typesafe-actions\";\nimport { Provider } from \"web3/providers\";\n\nimport { storeBalanceActions } from \"../../actions/balances/balancesActions\";\nimport { setMarket } from \"../../actions/inputs/inputsActions\";\nimport { addOrders } from \"../../actions/orderbook/traderBookActions\";\nimport {\n    updateAccountLegacyBalances,\n    updateAtomicAddresses,\n    updateAtomicBalances,\n    updateLegacyBalances,\n    updateUsableLegacyBalances,\n} from \"../../actions/trader/balanceActions\";\nimport { storeWallet } from \"../../actions/trader/walletActions\";\nimport { newMigrationPopup } from \"../../components/popups/MigrationPopup\";\nimport { _captureBackgroundException_, _captureInteractionException_ } from \"../../lib/errors\";\nimport { history } from \"../../lib/history\";\nimport { Pair } from \"../../lib/market\";\nimport { INFURA_URL, networkData } from \"../../lib/network\";\nimport { getNetwork } from \"../../lib/web3\";\nimport { BalanceActionRecord, traderOrderToRecord } from \"../../reducers/typesSdk\";\nimport { clearPopup, setPopup } from \"../popup/popupActions\";\n\nexport const storeAddress = createStandardAction(\"STORE_ADDRESS\")<string | null>();\n\nexport const storeURL = createStandardAction(\"STORE_URL\")<string | null>();\n\nexport const logout = (sdk: RenExSDK, options: { reload: boolean }) => async (dispatch: Dispatch) => {\n\n    // Clear session account in store (and in local storage)\n    dispatch(storeAddress(null));\n\n    // Clear Redux stores\n    dispatch(setMarket({ market: Pair.ETH_REN }));\n\n    // Clear balances\n    dispatch(updateLegacyBalances({ balances: OrderedMap() }));\n    dispatch(updateUsableLegacyBalances({ usableBalances: OrderedMap() }));\n    dispatch(updateAccountLegacyBalances({ accountBalances: OrderedMap() }));\n    dispatch(updateAtomicBalances({ atomicBalances: OrderedMap() }));\n\n    dispatch(updateAtomicAddresses({ atomicAddresses: OrderedMap<TokenCode, string>() }));\n    dispatch(storeWallet({ wallet: null }));\n\n    // Use read-only provider and clear address\n    sdk.updateProvider(new Web3.providers.HttpProvider(INFURA_URL));\n    sdk.setAddress(\"\");\n\n    Sentry.configureScope((scope) => {\n        scope.setExtra(\"loggedIn\", false);\n    });\n\n    if (options.reload) {\n        history.push(\"/loading\");\n        // Reload to clear all stores and cancel timeouts\n        // (e.g. deposit/withdrawal confirmations)\n        location.replace(\"/\");\n    }\n};\n\nexport const login = (\n    sdk: RenExSDK,\n    web3Provider: Provider,\n    address: string,\n    seenMigration: boolean,\n    options: { redirect: boolean; url: string | null }\n) => async (dispatch: Dispatch) => {\n    // Check that the provider is using the correct network\n    if (await getNetwork(new Web3(web3Provider)) !== networkData.ethNetwork) {\n        // dispatch(setAlert({\n        //     alert: new Alert({ message: `Invalid Web3 network (expected ${networkData.ethNetworkLabel})` })\n        // }));\n\n        logout(sdk, { reload: false })(dispatch)\n            .catch((error) => {\n                _captureInteractionException_(\n                    error,\n                    { description: \"accountActions.login.logout\", shownToUser: \"No\" });\n            });\n\n        return;\n    }\n\n    Sentry.configureScope((scope) => {\n        scope.setUser({ id: address });\n        scope.setExtra(\"loggedIn\", true);\n    });\n\n    // Store address in the store (and in local storage)\n    dispatch(storeAddress(address));\n\n    // Configure SDK\n    sdk.updateProvider(web3Provider);\n    sdk.setAddress(address);\n\n    // Retrieve the trader's orders\n    sdk.fetchTraderOrders()\n        .then((traderOrders) => dispatch(addOrders(traderOrders.map(traderOrderToRecord))))\n        .catch((error) => {\n            _captureBackgroundException_(\n                error,\n                { description: \"accountActions.login.fetchTraderOrders\" });\n        });\n\n    // Retrieve the trader's balance actions\n    sdk.fetchBalanceActions()\n        // Convert to immutable records and then dispatch\n        .then((balanceActions) => dispatch(storeBalanceActions(\n            balanceActions.map(balanceAction => new BalanceActionRecord(balanceAction))\n        )))\n        .catch((error) => {\n            _captureBackgroundException_(\n                error,\n                { description: \"accountActions.login.fetchBalanceActions\" });\n        });\n\n    if (options.redirect) {\n        history.push(options.url ? options.url : \"/exchange\");\n    }\n\n    console.log(`Logged in: ${address}`);\n    if (!seenMigration) {\n        dispatch(setPopup(newMigrationPopup(() => dispatch(clearPopup()))));\n    }\n};\n\nexport const lookForLogout = (sdk: RenExSDK) => async (dispatch: Dispatch) => {\n    if (!sdk.getAddress()) {\n        return;\n    }\n\n    let accounts = await sdk.getWeb3().eth\n        .getAccounts();\n\n    accounts = accounts.map((account) => account.toLowerCase());\n\n    const address = sdk.getAddress()\n        .toLowerCase();\n\n    if (!accounts.includes(address)) {\n        console.warn(`User has logged out of their web3 provider (${sdk.getAddress()} not in [${accounts.join(\", \")}])`);\n        logout(sdk, { reload: true })(dispatch)\n            .catch((error) => {\n                _captureBackgroundException_(\n                    error,\n                    { description: \"accountActions.lookForLogout.logout\" });\n            });\n    }\n};\n","import * as React from \"react\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { clearAlert } from \"../actions/alert/alertActions\";\nimport { ApplicationData } from \"../reducers/types\";\n\n/**\n * Alerts is a visual component for displaying general alert messages.\n * Alerts can represent an Error, a Warning or a Success event.\n */\nclass AlertsClass extends React.Component<Props, AlertsState> {\n\n    /**\n     * Th\n     */\n    private readonly DEFAULT_TIME = 10 * 1000; // 10 seconds\n\n    /**\n     * NodeJS Timer for hiding alerts after a specified period\n     */\n    private alertIntervalTimeout: NodeJS.Timer | undefined;\n\n    public constructor(props: Props, context: object) {\n        super(props, context);\n    }\n\n    public componentWillReceiveProps(nextProps: Props): void {\n        const { message } = nextProps.alert;\n        if (message === null || message === this.props.alert.message) {\n            return;\n        }\n\n        // Hide alert after 10 seconds.\n        if (this.alertIntervalTimeout) { clearTimeout(this.alertIntervalTimeout); }\n        this.alertIntervalTimeout = setTimeout(\n            this.props.actions.clearAlert,\n            this.DEFAULT_TIME,\n        );\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { message } = this.props.alert;\n        const { alertType } = this.props.alert;\n        if (message === \"\") {\n            return <></>;\n        }\n\n        return (\n            <div role=\"alert\" className={`alert ${alertType}`}>\n                <span className=\"alert--message\">{message}</span>\n                <span role=\"button\" className=\"alert--cross\" onClick={this.handleClose}>&#x00D7;</span>\n            </div>\n        );\n    }\n\n    /**\n     * handleClose is called when a user manually closes an alert\n     */\n    private readonly handleClose = (): void => {\n        if (this.alertIntervalTimeout) { clearInterval(this.alertIntervalTimeout); }\n        this.props.actions.clearAlert();\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    alert: state.alert.alert\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        clearAlert,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface AlertsState {\n}\n\nexport const Alerts = connect(mapStateToProps, mapDispatchToProps)(AlertsClass);\n","import { createStandardAction } from \"typesafe-actions\";\n\nimport { Pair } from \"../../lib/market\";\n\n/**\n * Updates the market price for a specific token\n */\nexport const updatePrices = createStandardAction(\"UPDATE_PRICES\")<{\n    price: number;\n    percentChange: number;\n    pair: Pair;\n}>();\n","import RenExSDK, { Order } from \"@renex/renex\";\n\nimport { List } from \"immutable\";\nimport { Dispatch } from \"redux\";\nimport { createStandardAction } from \"typesafe-actions\";\n\nexport const setHiddenOrders = createStandardAction(\"SET_HIDDEN_ORDERS\")<{\n    hiddenOrders: List<Order>;\n}>();\n\n/**\n * Retrieves hidden orders with an index greater than or equal to startingIndex\n */\nexport const getHiddenOrders = (sdk: RenExSDK) => async (dispatch: Dispatch) => {\n\n    const hiddenOrders = List(await sdk.fetchOrderbook({ limit: 10 }));\n\n    dispatch(setHiddenOrders({ hiddenOrders }));\n};\n","\nimport RenExSDK, { MarketDetails, TokenCode } from \"@renex/renex\";\nimport BigNumber from \"bignumber.js\";\n\nimport { List } from \"immutable\";\n\nimport { createStandardAction } from \"typesafe-actions\";\n\nexport const storeSDK = createStandardAction(\"STORE_SDK\")<{ sdk: RenExSDK }>();\n\ninterface StoreSDKDataPayload {\n    supportedTokens: List<TokenCode>;\n    supportedAtomicTokens: List<TokenCode>;\n    supportedMarkets: List<MarketDetails>;\n    minEthTradeVolume: BigNumber;\n    darknodeFeePercent: BigNumber;\n    wrappingFeePercent: BigNumber;\n}\n\nexport const storeSDKData = createStandardAction(\"STORE_SDK_DATA\")<StoreSDKDataPayload>();\n","import * as React from \"react\";\n\nimport { List } from \"immutable\";\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { getAtomicBalances, getLegacyBalances, updateBalancesHistory } from \"../actions/balances/balancesActions\";\nimport { updatePrices } from \"../actions/market/marketActions\";\nimport { getHiddenOrders } from \"../actions/orderbook/hiddenBookActions\";\nimport { checkOrderStatuses } from \"../actions/orderbook/traderBookActions\";\nimport { storeSDKData } from \"../actions/sdk/sdkActions\";\nimport { refreshAtomConnectionStatus } from \"../actions/settlement/atomicActions\";\nimport { lookForLogout } from \"../actions/trader/accountActions\";\nimport { _captureBackgroundException_, _captureInteractionException_ } from \"../lib/errors\";\nimport { getPrice, Pairs } from \"../lib/market\";\nimport { Wallet } from \"../lib/wallets/wallet\";\nimport { ApplicationData } from \"../reducers/types\";\nimport { _catch_ } from \"./ErrorBoundary\";\n\n/**\n * BackgroundTasks is responsible for running background loops like updating\n * balances and prices\n */\nclass BackgroundTasksClass extends React.Component<Props, State> {\n\n    /**\n     * The following timeouts are used to run the various background tasks.\n     * setTimeout is used instead of setInterval so the interval between calls\n     * includes the time it takes to run the task.\n     */\n    // tslint:disable: completed-docs\n    private readonly setupLoopsTimeout: NodeJS.Timer | undefined;\n    private callGetLegacyBalancesTimeout: NodeJS.Timer | undefined;\n    private callHiddenOrdersTimeout: NodeJS.Timer | undefined;\n    private callUpdatePricesTimeout: NodeJS.Timer | undefined;\n    private callLookForLogoutTimeout: NodeJS.Timer | undefined;\n    private readonly callConnectToAtomTimeout: NodeJS.Timer | undefined;\n    private callUpdateAtomStatusTimeout: NodeJS.Timer | undefined;\n    private callGetAtomicBalancesTimeout: NodeJS.Timer | undefined;\n    private callCheckOrderStatusesTimeout: NodeJS.Timer | undefined;\n    private readonly callCheckRenExExecutionTimeout: NodeJS.Timer | undefined;\n    private callUpdateBalancesHistoryTimeout: NodeJS.Timer | undefined;\n    // tslint:enable: completed-docs\n\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n        };\n    }\n\n    public async componentDidMount(): Promise<void> {\n        // TODO: Remove console.log before deployment\n        console.log(\"Initializing setup loops!\");\n        this.storeSDKData()\n            .then(this.setupLoops)\n            .catch(this.setupLoops);\n    }\n\n    public componentWillUnmount() {\n        // Clear timeouts\n        if (this.setupLoopsTimeout) { clearTimeout(this.setupLoopsTimeout); }\n        if (this.callGetLegacyBalancesTimeout) { clearTimeout(this.callGetLegacyBalancesTimeout); }\n        if (this.callHiddenOrdersTimeout) { clearTimeout(this.callHiddenOrdersTimeout); }\n        if (this.callUpdatePricesTimeout) { clearTimeout(this.callUpdatePricesTimeout); }\n        if (this.callLookForLogoutTimeout) { clearTimeout(this.callLookForLogoutTimeout); }\n        if (this.callConnectToAtomTimeout) { clearTimeout(this.callConnectToAtomTimeout); }\n        if (this.callUpdateAtomStatusTimeout) { clearTimeout(this.callUpdateAtomStatusTimeout); }\n        if (this.callGetAtomicBalancesTimeout) { clearTimeout(this.callGetAtomicBalancesTimeout); }\n        if (this.callCheckOrderStatusesTimeout) { clearTimeout(this.callCheckOrderStatusesTimeout); }\n        if (this.callCheckRenExExecutionTimeout) { clearTimeout(this.callCheckRenExExecutionTimeout); }\n        if (this.callUpdateBalancesHistoryTimeout) { clearTimeout(this.callUpdateBalancesHistoryTimeout); }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        return <></>;\n    }\n\n    /**\n     * setupLoops is called once to start the timeouts\n     */\n    private readonly setupLoops = () => {\n        // See if the user has logged out every 5 seconds\n        const callLookForLogout = async () => {\n            const { sdk, wallet } = this.props;\n            if (sdk.getAddress() && wallet === Wallet.MetaMask) {\n                try {\n                    // tslint:disable-next-line: await-promise\n                    await this.props.actions.lookForLogout(sdk);\n                } catch (error) {\n                    _captureBackgroundException_(error, { description: \"Error in BackgroundTasks.callLookForLogout\" });\n                }\n            }\n            this.callLookForLogoutTimeout = setTimeout(callLookForLogout, 5 * 1000);\n        };\n        callLookForLogout()\n            .catch(_captureBackgroundException_);\n\n        // Update the user's balances every 5 seconds\n        const callGetLegacyBalances = async () => {\n            const { sdk, pendingAlerts } = this.props;\n            if (sdk.getAddress()) {\n                // tslint:disable-next-line: await-promise\n                await this.props.actions.getLegacyBalances(sdk, pendingAlerts);\n            }\n            this.callGetLegacyBalancesTimeout = setTimeout(callGetLegacyBalances, 5 * 1000);\n        };\n        callGetLegacyBalances()\n            .catch(_captureBackgroundException_);\n\n        // Update the atom connection status every 60 seconds\n        const callUpdateAtomStatus = async () => {\n            const { sdk } = this.props;\n            if (sdk !== null && sdk.getAddress() !== \"\") {\n                try {\n                    // tslint:disable-next-line: await-promise\n                    await this.props.actions.refreshAtomConnectionStatus(sdk);\n                } catch (error) {\n                    _captureBackgroundException_(error, { description: \"Error in BackgroundTasks.callUpdateAtomicStatus\" });\n                }\n            }\n            this.callUpdateAtomStatusTimeout = setTimeout(callUpdateAtomStatus, 60 * 1000);\n        };\n        callUpdateAtomStatus()\n            .catch(_captureBackgroundException_);\n\n        // Update the user's atomic balances every 5 seconds\n        const callGetAtomicBalances = async () => {\n            const { sdk } = this.props;\n            if (sdk.getAddress() && sdk.atom.isConnected()) {\n                try {\n                    // tslint:disable-next-line: await-promise\n                    await this.props.actions.getAtomicBalances(sdk);\n                } catch (error) {\n                    _captureBackgroundException_(error, { description: \"Error in BackgroundTasks.callGetAtomicBalances\" });\n                }\n            }\n            this.callGetAtomicBalancesTimeout = setTimeout(callGetAtomicBalances, 5 * 1000);\n        };\n        callGetAtomicBalances()\n            .catch(_captureBackgroundException_);\n\n        // Retrieve new hidden orders from the Orderbook every 30 seconds\n        const callHiddenOrders = async () => {\n            const { sdk } = this.props;\n            try {\n                // tslint:disable-next-line: await-promise\n                await this.props.actions.getHiddenOrders(sdk);\n            } catch (error) {\n                _captureBackgroundException_(error, { description: \"Error in BackgroundTasks.callHiddenOrders\" });\n            }\n            this.callHiddenOrdersTimeout = setTimeout(callHiddenOrders, 30 * 1000);\n        };\n        callHiddenOrders()\n            .catch(_captureBackgroundException_);\n\n        // Update balance history every 10 seconds\n        const callUpdateBalancesHistory = async (count: number) => {\n            const { sdk, balanceHistory } = this.props;\n            let newCount = count;\n            if (sdk.getAddress()) {\n                try {\n                    // See comment in `callCheckOrderStatuses` on count\n                    // tslint:disable-next-line: await-promise\n                    await this.props.actions.updateBalancesHistory(sdk, balanceHistory, (newCount % 60 === 1));\n                    newCount += 1;\n                } catch (error) {\n                    _captureBackgroundException_(error, { description: \"Error in BackgroundTasks.callUpdateBalancesHistory\" });\n                }\n            }\n            this.callUpdateBalancesHistoryTimeout = setTimeout(async () => callUpdateBalancesHistory(newCount), 10 * 1000);\n        };\n        callUpdateBalancesHistory(0)\n            .catch(_captureBackgroundException_);\n\n        // Retrieve market prices every minute\n        const callUpdatePrices = async () => {\n            try {\n                for (const pair of Pairs.valueSeq().toArray()) {\n                    const [price, percentChange] = await getPrice(pair.quoteToken, pair.baseToken);\n                    this.props.actions.updatePrices({ price, percentChange, pair: pair.code });\n                }\n            } catch (error) {\n                _captureBackgroundException_(error, { description: \"Error in BackgroundTasks.callUpdatePrices\" });\n            }\n            this.callUpdatePricesTimeout = setTimeout(callUpdatePrices, 60 * 1000);\n        };\n        callUpdatePrices()\n            .catch(_captureBackgroundException_);\n\n        // Check for status updates every 5 seconds\n        const callCheckOrderStatuses = async (count: number) => {\n            const { sdk, traderOrders } = this.props;\n            let newCount = count;\n            if (sdk.getAddress()) {\n                try {\n                    // Every 120 times (10 minutes) including the second time,\n                    // check all orders. The full check is done on the second\n                    // call so that statuses likely to change are checked\n                    // sooner (in the first call) but the full check is still\n                    // run early on (in the second call).\n                    // Successive full checks are called every 10 minutes in\n                    // case the window is not being refreshed.\n                    // tslint:disable-next-line: await-promise\n                    await this.props.actions.checkOrderStatuses(sdk, traderOrders, (newCount % 120 === 1));\n                    newCount += 1;\n                } catch (error) {\n                    _captureBackgroundException_(error, { description: \"Error in BackgroundTasks.callCheckOrderStatuses\" });\n                }\n            }\n            this.callCheckOrderStatusesTimeout = setTimeout(async () => callCheckOrderStatuses(newCount), 5 * 1000);\n        };\n        callCheckOrderStatuses(0)\n            .catch(_captureBackgroundException_);\n    }\n\n    /**\n     * storeSDKData fetches variables from the SDK including supported tokens,\n     * supported markets and fee constants.\n     */\n    private readonly storeSDKData = async (): Promise<void> => {\n        const { sdk } = this.props;\n        const [supportedTokens, supportedAtomicTokens, darknodeFeePercent, wrappingFeePercent, minEthTradeVolume, supportedMarkets] = await Promise.all([\n            sdk.fetchSupportedTokens(),\n            sdk.fetchSupportedAtomicTokens(),\n            sdk.fetchDarknodeFeePercent(),\n            sdk.fetchWrappingFeePercent(),\n            sdk.fetchMinEthTradeVolume(),\n            sdk.fetchMarkets(),\n        ]);\n\n        this.props.actions.storeSDKData({\n            supportedTokens: List(supportedTokens),\n            supportedAtomicTokens: List(supportedAtomicTokens),\n            darknodeFeePercent,\n            wrappingFeePercent,\n            minEthTradeVolume,\n            supportedMarkets: List(supportedMarkets),\n        });\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    balanceHistory: state.balanceHistory.balanceHistory,\n    pendingAlerts: state.alert.pendingAlerts,\n    sdk: state.sdk.sdk,\n    traderOrders: state.traderBook.traderOrders,\n    wallet: state.trader.wallet,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        checkOrderStatuses,\n        getAtomicBalances,\n        getLegacyBalances,\n        getHiddenOrders,\n        lookForLogout,\n        refreshAtomConnectionStatus,\n        storeSDKData,\n        updateBalancesHistory,\n        updatePrices,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n}\n\nexport const BackgroundTasks = connect(mapStateToProps, mapDispatchToProps)(BackgroundTasksClass);\n","import * as Sentry from \"@sentry/browser\";\nimport * as React from \"react\";\n\nimport { _captureComponentException_ } from \"../lib/errors\";\n\ninterface Props {\n    /**\n     * Popup specifies whether or not the Error Boundary is being rendered in\n     * the popup controller.\n     */\n    popup?: boolean;\n\n    /**\n     * If `popup` is true, then onCancel should also be provided.\n     */\n    onCancel?(): void;\n}\n\ninterface State {\n    error: null | Error;\n    errorInfo: null | React.ErrorInfo;\n}\n\nclass ErrorBoundary extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = { error: null, errorInfo: null };\n    }\n\n    public componentDidCatch = (error: Error, errorInfo: React.ErrorInfo) => {\n        this.setState({\n            error,\n            errorInfo,\n        });\n        _captureComponentException_(error, errorInfo);\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        if (this.state.errorInfo) {\n            // Error path\n            return (\n                <div className={this.props.popup ? \"popup\" : \"\"}>\n                    <h2>Something went wrong.</h2>\n                    <details style={{ whiteSpace: \"pre-wrap\" }}>\n                        {this.state.error && this.state.error.toString()}\n                        <br />\n                        {this.state.errorInfo.componentStack}\n                    </details>\n                    {this.props.popup ? <div className=\"popup--buttons\">\n                        <button onClick={this.reportFeedback}>Report feedback</button>\n                        <button onClick={this.props.onCancel}>Close</button>\n                    </div> : null\n                    }\n                </div>\n            );\n        }\n        // Normally, just render children\n        return this.props.children;\n    }\n\n    private readonly reportFeedback = () => {\n        Sentry.showReportDialog();\n    }\n}\n\nexport const _catch_ = (\n    children: React.ReactNode,\n    options?: { popup: boolean; onCancel(): void }\n) => <ErrorBoundary popup={options && options.popup} onCancel={options && options.onCancel}>\n        {children}\n    </ErrorBoundary>;\n","import BigNumber from \"bignumber.js\";\n\nimport * as React from \"react\";\n\nimport { OrderedMap } from \"immutable\";\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { OrderSettlement, TokenCode } from \"@renex/renex\";\n\nimport { Pairs, RenExAtomicTokens, RenExTokens, TokenDetails, UnknownToken } from \"../lib/market\";\nimport { ApplicationData } from \"../reducers/types\";\n\n/**\n * BalanceBanner is a visual component for displaying user balances in a banner\n * format\n */\nclass BalanceBannerClass extends React.Component<Props, State> {\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { sdk, market, usableLegacyBalances, usableAtomicBalances, supportedTokens, supportedAtomicTokens } = this.props;\n        const pair = Pairs.get(market, undefined);\n        const atomic = pair !== undefined && pair.orderSettlement === OrderSettlement.RenExAtomic;\n        const tokens = RenExTokens(supportedTokens);\n        const atomicTokens = RenExAtomicTokens(supportedAtomicTokens);\n\n        return (\n            <div className=\"banner\">\n                <div className=\"container\">\n                    <div className=\"banner--details\">\n                        {atomic && sdk.atom.isConnected() ?\n                            <>\n                                <span>Swapperd balances:</span>\n                                <ul>\n                                    {this.listBalances(atomicTokens.toArray(), usableAtomicBalances)}\n                                </ul>\n                            </>\n                            :\n                            <>\n                                <span>Legacy balances:</span>\n                                <ul>\n                                    {this.listBalances(tokens.toArray(), usableLegacyBalances)}\n                                </ul>\n                            </>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    /**\n     * listBalances assembles the list of token balances\n     */\n    private listBalances(tokens: TokenCode[], balances: OrderedMap<TokenCode, BigNumber | null>): React.ReactNode[] {\n        const list: React.ReactNode[] = [];\n        for (const token of tokens) {\n            const balance = balances.get(token, null);\n            const balanceText = (balance !== null) ? balance.toFixed() : \"-\";\n\n            const { symbol, icon } = TokenDetails.get(token, UnknownToken);\n\n            // tslint:disable-next-line:non-literal-require\n            const image = require(`../tokens/${icon}`);\n\n            list.push(\n                <li key={token}>\n                    {/* tslint:disable-next-line: react-a11y-anchors */}\n                    <a><img alt=\"\" role=\"presentation\" src={image} /> {balanceText} {symbol}</a>\n                </li>\n            );\n        }\n\n        return list;\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    sdk: state.sdk.sdk,\n    supportedTokens: state.sdk.supportedTokens,\n    supportedAtomicTokens: state.sdk.supportedAtomicTokens,\n    market: state.inputs.market,\n    usableLegacyBalances: state.trader.usableLegacyBalances,\n    usableAtomicBalances: state.trader.usableAtomicBalances,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n}\n\nexport const BalanceBanner = connect(mapStateToProps, mapDispatchToProps)(BalanceBannerClass);\n","import * as React from \"react\";\n\n/**\n * Heading is a visual component for displaying a title above another component\n */\nexport class Heading extends React.Component<Props, State> {\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { title, description } = this.props;\n\n        return (\n            <div className=\"heading\">\n                <h1 className=\"heading--title\">{title}</h1>\n                {description &&\n                    <h2 className=\"heading--description\">({description})</h2>\n                }\n            </div>\n        );\n    }\n}\n\ninterface Props {\n    title: React.ReactNode | string;\n    description?: React.ReactNode | string;\n}\n\ninterface State {\n}\n","import moment from \"moment\";\nimport * as React from \"react\";\n\nimport { connect } from \"react-redux\"; // Custom typings\n\nimport { BalanceAction, TransactionStatus } from \"@renex/renex\";\n\nimport { Heading } from \"./Heading\";\nimport { Loading } from \"./Loading\";\n\nimport { getTimeMagnitude, naturalTime, TimeMagnitude } from \"../lib/conversion\";\nimport { TokenDetails, UnknownToken } from \"../lib/market\";\nimport { networkData } from \"../lib/network\";\nimport { ApplicationData } from \"../reducers/types\";\n\n/**\n * BalanceHistory is a visual component for displaying previous deposits and\n * withdrawals\n */\nclass BalanceHistoryClass extends React.Component<Props, State> {\n\n    /**\n     * highlightTimeout is used to time the highlighting of the most recent\n     * balance history item.\n     */\n    public highlightTimeout: NodeJS.Timer | undefined;\n\n    /**\n     * datesRerenderTimeout is used to update the balance history item dates\n     */\n    public datesRerenderTimeout: NodeJS.Timer | undefined;\n\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            highlightLatest: false,\n            receivedBalances: false,\n        };\n    }\n\n    public componentWillReceiveProps(nextProps: Props): void {\n        // Highlight the latest item if it was just added.\n        if (this.props.balanceHistory.size < nextProps.balanceHistory.size) {\n            if (this.state.receivedBalances) {\n                this.setState({ highlightLatest: true });\n\n                if (this.highlightTimeout) { clearTimeout(this.highlightTimeout); }\n                this.highlightTimeout = setTimeout(\n                    () => {\n                        this.setState({ highlightLatest: false });\n                    },\n                    3 * 1000\n                );\n            } else {\n                this.setState({ receivedBalances: true });\n            }\n        }\n    }\n\n    public componentWillUnmount(): void {\n        if (this.highlightTimeout) { clearTimeout(this.highlightTimeout); }\n        if (this.datesRerenderTimeout) { clearTimeout(this.datesRerenderTimeout); }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { balanceHistory } = this.props;\n        let relevantRows = null;\n        if (balanceHistory.size > 0) {\n            // Find the most precise time being shown (seconds, minutes, hours...)\n            // and rerender to ensure that these times are updated\n            const magnitude = balanceHistory\n                .valueSeq()\n                .toArray()\n                .map((value: BalanceAction) => getTimeMagnitude(value.time))\n                .reduce((val: number, min: number) => Math.min(val, min), TimeMagnitude.Day);\n\n            if (this.datesRerenderTimeout) { clearTimeout(this.datesRerenderTimeout); }\n            this.datesRerenderTimeout = setTimeout(\n                () => {\n                    this.forceUpdate();\n                },\n                magnitude / 2\n            );\n\n            relevantRows = this.generateRows();\n        }\n        return (\n            <div className=\"section history\">\n                <div className=\"container\">\n                    <Heading title=\"Recent legacy deposits and withdrawals\" />\n                    <div className=\"table--wrapper\">\n                        <table>\n                            <thead>\n                                <tr>\n                                    {/* If any fields are added/removed, the colSpan\n                                below must be modified to reflect this. */}\n                                    <th>Transaction Hash</th>\n                                    <th>Date</th>\n                                    <th>Action</th>\n                                    <th>Amount</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {relevantRows !== null ?\n                                    relevantRows // Output relevant rows\n                                    :\n                                    <tr>\n                                        <td colSpan={4}>No transactions</td>\n                                    </tr>\n                                }\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    /**\n     * generateRows is used to assemble the rows in the table\n     */\n    private generateRows(): Array<React.ReactNode | null> | null {\n        const { balanceHistory } = this.props;\n        const { highlightLatest } = this.state;\n        let relevantRows = false;\n\n        const rows = balanceHistory\n            .valueSeq()\n            .toArray()\n            .reverse()\n            .map((balanceAction: BalanceAction, key: number) => {\n                relevantRows = true;\n                const TX_URL = `${networkData.etherscan}/tx/${balanceAction.txHash}`;\n\n                const readableAmount = balanceAction.amount;\n\n                const currentMoment = moment(balanceAction.time * 1000)\n                    .format(\"MMMM Do YYYY, HH:mm:ss\");\n\n                const actionType = balanceAction.action\n                    .charAt(0)\n                    .toUpperCase()\n                    +\n                    balanceAction.action.slice(1);\n\n                return (\n                    <tr key={key} className={`${key === 0 && highlightLatest ? \"recent\" : \"\"} balanceAction--${balanceAction.status}`}>\n                        <td className=\"monospace\">\n                            {balanceAction.status === TransactionStatus.Pending ?\n                                < Loading /> :\n                                \"\"\n                            }\n                            <a href={TX_URL} rel=\"noopener noreferrer\" target=\"_blank\">{balanceAction.txHash}</a>\n                            {balanceAction.status === TransactionStatus.Failed ? <span className=\"red\"> (failed)</span> : \"\"}\n                            {balanceAction.status === TransactionStatus.Replaced ? <span className=\"red\"> (replaced)</span> : \"\"}\n                        </td>\n                        <td title={currentMoment}>\n                            <span>{naturalTime(balanceAction.time, { message: \"Just now\", suffix: \"ago\", countDown: false })}</span>\n                        </td>\n                        <td>{actionType}</td>\n                        <td>{readableAmount.toFixed()} {TokenDetails.get(balanceAction.token, UnknownToken).symbol}</td>\n                    </tr>\n                );\n            });\n        return relevantRows ? rows : null;\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    balanceHistory: state.balanceHistory.balanceHistory,\n    sdk: state.sdk.sdk,\n    updateIndex: state.balanceHistory.updateIndex,\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n}\n\ninterface State {\n    /**\n     * highlightLatest indicates if a new balance history item is being\n     * highlighted.\n     */\n    highlightLatest: boolean;\n\n    /**\n     * receivedBalances is used to prevent highlighting old items when they\n     * are initially received from the SDK storage\n     */\n    receivedBalances: boolean;\n}\n\nexport const BalanceHistory = connect(mapStateToProps)(BalanceHistoryClass);\n","// tslint:disable: no-bitwise\n\nimport * as React from \"react\";\n\n// Modified from https://github.com/ethereum/blockies\n// License: https://github.com/ethereum/blockies#license (WTFPL)\n\ninterface Options {\n    /**\n     * The pixel resolution of the blocky. Default: 8.\n     */\n    size: number;\n\n    /**\n     * The canvas is scaled by this number to avoid aliasing. Default: 4.\n     */\n    scale: number;\n\n    /**\n     * Optional seed to generate blocky deterministically.\n     */\n    seed: string;\n\n    /**\n     * Optional foreground color. Default: Generated from seed.\n     */\n    color: string;\n\n    /**\n     * Optional background color. Default: Generated from seed.\n     */\n    bgColor: string;\n\n    /**\n     * Optional highlight color. Default: Generated from seed.\n     */\n    spotColor: string;\n}\n\nconst blockies = () => {\n    // The random number is a js implementation of the XOR-shift PRNG\n    const randSeed = [0, 0, 0, 0]; // XOR-shift: [x, y, z, w] 32 bit values\n\n    const seedRand = (seed: string) => {\n        for (let i = 0; i < randSeed.length; i++) {\n            randSeed[i] = 0;\n        }\n        for (let i = 0; i < seed.length; i++) {\n            randSeed[i % 4] = ((randSeed[i % 4] << 5) - randSeed[i % 4]) + seed.charCodeAt(i);\n        }\n    };\n\n    const rand = () => {\n        // based on Java's String.hashCode(), expanded to 4 32bit values\n\n        const t = randSeed[0] ^ (randSeed[0] << 11);\n\n        randSeed[0] = randSeed[1];\n        randSeed[1] = randSeed[2];\n        randSeed[2] = randSeed[3];\n\n        randSeed[3] = (randSeed[3] ^ (randSeed[3] >> 19) ^ t ^ (t >> 8));\n\n        return (randSeed[3] >>> 0) / ((1 << 31) >>> 0);\n    };\n\n    const createColor = () => {\n        // saturation is the whole color spectrum\n        const h = Math.floor(rand() * 360);\n        // saturation goes from 40 to 100, it avoids greyish colors\n        const s = `${(rand() * 60) + 40}%`;\n        // lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\n        const l = `${((rand() + rand() + rand() + rand()) * 25)}%`;\n\n        return `hsl(${h},${s},${l})`;\n    };\n\n    const createImageData = (size: number) => {\n        const width = size; // Only support square icons for now\n        const height = size;\n\n        const dataWidth = Math.ceil(width / 2);\n        const mirrorWidth = width - dataWidth;\n\n        const data = [];\n        for (let y = 0; y < height; y++) {\n            let row = [];\n            for (let x = 0; x < dataWidth; x++) {\n                // this makes foreground and background color to have a 43% (1/2.3) probability\n                // spot color has 13% chance\n                row[x] = Math.floor(rand() * 2.3);\n            }\n            const r = row.slice(0, mirrorWidth);\n            r.reverse();\n            row = row.concat(r);\n\n            for (const rowItem of row) {\n                data.push(rowItem);\n            }\n        }\n\n        return data;\n    };\n\n    // tslint:disable-next-line:no-any\n    const buildOpts = (opts: Partial<Options>): Options => {\n        // tslint:disable-next-line:no-any\n        const newOpts: Partial<Options> = {};\n\n        newOpts.size = opts.size || 8;\n        newOpts.scale = opts.scale || 4;\n        // tslint:disable-next-line:insecure-random\n        newOpts.seed = opts.seed || Math.floor((Math.random() * Math.pow(10, 16)))\n            .toString(16);\n\n        seedRand(newOpts.seed);\n\n        newOpts.color = opts.color || createColor();\n        newOpts.bgColor = opts.bgColor || createColor();\n        newOpts.spotColor = opts.spotColor || createColor();\n\n        return newOpts as Options;\n    };\n\n    // tslint:disable-next-line:no-any\n    const renderIcon = (optsIn: Partial<Options>, canvas: HTMLCanvasElement) => {\n        const opts = buildOpts(optsIn || {});\n\n        const imageData = createImageData(opts.size);\n        const width = Math.sqrt(imageData.length);\n\n        canvas.width = canvas.height = opts.size * opts.scale;\n\n        const cc = canvas.getContext(\"2d\");\n        if (!cc) {\n            return canvas;\n        }\n        cc.fillStyle = opts.bgColor;\n        cc.fillRect(0, 0, canvas.width, canvas.height);\n        cc.fillStyle = opts.color;\n\n        for (let i = 0; i < imageData.length; i++) {\n\n            // if data is 0, leave the background\n            if (imageData[i]) {\n                const row = Math.floor(i / width);\n                const col = i % width;\n\n                // if data is 2, choose spot color, if 1 choose foreground\n                cc.fillStyle = (imageData[i] === 1) ? opts.color : opts.spotColor;\n\n                cc.fillRect(col * opts.scale, row * opts.scale, opts.scale, opts.scale);\n            }\n        }\n        return canvas;\n    };\n\n    const createIcon = (optsIn: Partial<Options>): HTMLCanvasElement => {\n        const opts = buildOpts(optsIn || {});\n        const canvas = document.createElement(\"canvas\");\n\n        renderIcon(opts, canvas);\n\n        return canvas;\n    };\n\n    return {\n        create: createIcon,\n        render: renderIcon\n    };\n};\n\n// tslint:enable\n\n/**\n * Blocky is a visual component for displaying Ethereum blockies - visual hashes\n * of ethereum addresses\n */\nexport class Blocky extends React.Component<Props, State> {\n\n    private canvas: HTMLCanvasElement | null | undefined;\n    private readonly blocky = blockies();\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            loading: true,\n        };\n        this.canvas = null;\n    }\n\n    public getOpts = (address: string) => ({\n        seed: address.toLowerCase(),\n        size: 8,\n        scale: 10,\n    })\n\n    public renderIcon = (address: string | null) => {\n        if (address) {\n            this.setState({ loading: false });\n            this.blocky.create(this.getOpts(address));\n            if (this.canvas) {\n                this.blocky.render(this.getOpts(address), this.canvas);\n            } else {\n                alert(\"No canvas!\");\n            }\n        } else {\n            this.setState({ loading: true });\n        }\n    }\n\n    public componentWillReceiveProps(props: Props) {\n        this.renderIcon(props.address);\n    }\n\n    public componentDidMount() {\n        this.renderIcon(this.props.address);\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { address } = this.props;\n        const { loading } = this.state;\n        return (\n            <div className=\"blocky--outer\">\n                <div data-tip={address || \"...\"}>\n                    {loading ? <i className=\"fa fa-spin fa-spinner blocky__loading\" /> : <i />}\n                    <canvas className=\"blocky\" ref={this.setCanvas} />\n                </div>\n            </div>\n        );\n    }\n\n    private readonly setCanvas = (canvas: HTMLCanvasElement) => this.canvas = canvas;\n}\n\ninterface Props {\n    address: string | null;\n}\n\ninterface State {\n    loading: boolean;\n}\n","import * as React from \"react\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { Link, RouteComponentProps, RouteProps, withRouter } from \"react-router-dom\";\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { setAlert } from \"../actions/alert/alertActions\";\nimport { logout } from \"../actions/trader/accountActions\";\nimport { _captureInteractionException_ } from \"../lib/errors\";\nimport { Alert, AlertType, ApplicationData } from \"../reducers/types\";\nimport { Blocky } from \"./Blocky\";\n\n/**\n * Header is a visual component providing page branding and navigation.\n */\nclass HeaderClass extends React.Component<Props & RouteProps, State> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            copied: false,\n            dropdownVisible: false,\n        };\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { address, withMenu } = this.props;\n        const { dropdownVisible, copied } = this.state;\n        const route = this.props.location ? this.props.location.pathname : \"\";\n        const path = route.split(\"/\")[1];\n\n        const loggedIn = (address != null);\n\n        return (\n            <div className=\"header\">\n                <div className=\"container\">\n                    <Link to={loggedIn ? \"/exchange\" : \"/\"}>\n                        <div className=\"header--logo\" />\n                    </Link>\n                    {withMenu ?\n                        <ul className=\"header--menu\">\n                            <li className={path === \"exchange\" ? \"active\" : \"\"}><Link to=\"/exchange\"><span>Exchange</span></Link></li>\n                            <li className={path === \"orders\" ? \"active\" : \"\"}><Link to=\"/orders\"><span>Orders</span></Link></li>\n                            <li className={path === \"balances\" ? \"active\" : \"\"}><Link to=\"/balances\"><span>Balances</span></Link></li>\n                            <li className=\"header--logout\" role=\"button\" onClick={this.handleLogOut}><Link to=\"\"><span>Logout</span></Link></li>\n                            {address &&\n                                <li\n                                    className=\"header--account\"\n                                    onMouseEnter={this.showDropdown}\n                                    onMouseLeave={this.hideDropdown}\n                                >\n                                    <Blocky address={address} />\n                                    {dropdownVisible ?\n                                        <ul className=\"header--dropdown\">\n                                            <li role=\"button\" onClick={this.copyToClipboard}>\n                                                <span data-addr={address}>\n                                                    {copied ?\n                                                        <span>Copied</span>\n                                                        :\n                                                        <span>{address.substring(0, 8)}...{address.slice(-5)}</span>\n                                                    }\n                                                </span>\n                                            </li>\n                                            <li role=\"button\" onClick={this.handleLogOut}>Logout</li>\n                                        </ul> : null\n                                    }\n                                </li>\n                            }\n                        </ul> : null\n                    }\n                </div>\n            </div>\n        );\n    }\n\n    private readonly showDropdown = (): void => {\n        this.setState({ dropdownVisible: true, copied: false });\n    }\n\n    private readonly hideDropdown = (): void => {\n        this.setState({ dropdownVisible: false, copied: false });\n    }\n\n    private readonly copyToClipboard = (e: React.MouseEvent<HTMLElement>): void => {\n        const el = e.currentTarget.childNodes[0] as Element;\n        const address = el.getAttribute(\"data-addr\");\n        if (address) {\n            const dummy = document.createElement(\"input\");\n            document.body.appendChild(dummy);\n            dummy.setAttribute(\"value\", address);\n            dummy.select();\n            document.execCommand(\"copy\");\n            document.body.removeChild(dummy);\n        }\n        this.setState({ copied: true });\n    }\n\n    private readonly handleLogOut = async (): Promise<void> => {\n        const { sdk } = this.props;\n        try {\n            await this.props.actions.logout(sdk, { reload: true });\n        } catch (error) {\n            const message = \"Something went wrong while logging out.\";\n\n            this.props.actions.setAlert({\n                alert: new Alert({\n                    alertType: AlertType.Error,\n                    message,\n                })\n            });\n\n            _captureInteractionException_(error, {\n                description: message,\n                shownToUser: \"As alert\",\n            });\n        }\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    address: state.trader.address,\n    sdk: state.sdk.sdk,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        logout,\n        setAlert,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps>, RouteComponentProps {\n    withMenu: boolean;\n}\n\ninterface State {\n    dropdownVisible: boolean;\n    copied: boolean;\n}\n\nexport const Header = withRouter(connect(mapStateToProps, mapDispatchToProps)(HeaderClass));\n","import * as React from \"react\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { Link } from \"react-router-dom\";\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { setMarket } from \"../actions/inputs/inputsActions\";\nimport { Pair, PairDetails, Pairs, TokenDetails } from \"../lib/market\";\nimport { ApplicationData } from \"../reducers/types\";\n\n/**\n * MarketBanner is a visual component for displaying market price changes in a\n * banner format\n */\nclass MarketBannerClass extends React.Component<Props, State> {\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        return (\n            <div className=\"market\">\n                <div className=\"container\">\n                    <ul className=\"market--items\">\n                        {this.listPairs()}\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n\n    private listPairs(): React.ReactNode[] {\n        const { marketPrices } = this.props;\n        let key = 0;\n        return Pairs\n            .map((pairDetails: PairDetails) => {\n                key += 1;\n                const pair = pairDetails.code;\n                const marketPrice = marketPrices.get(pair, undefined);\n                if (marketPrice === undefined || pair === Pair.BTC_WBTC) {\n                    return <div key={key} />;\n                }\n                const percentChange = marketPrice ? `${marketPrice.percentChange.toFixed(2)}%` : \"\";\n                const price = marketPrice ? marketPrice.price : \"\";\n                const fstDetails = TokenDetails.get(pairDetails.quoteToken, undefined);\n                const sndDetails = TokenDetails.get(pairDetails.baseToken, undefined);\n\n                if (!fstDetails || !sndDetails) {\n                    return <div key={key} />;\n                }\n\n                return (\n                    <li key={key} title={price.toString()}>\n                        {/* tslint:disable-next-line:react-this-binding-issue */}\n                        <Link to=\"/exchange\" onClick={this.updateMarket.bind(this, pair)}>\n                            <span>{`${sndDetails.symbol}/${fstDetails.symbol}`}:</span>\n                        </Link>\n                        <span className={`${marketPrice.percentChange < 0 ? \"negative\" : \"positive\"}`}>{percentChange}</span>\n                    </li>\n                );\n            })\n            .toArray();\n    }\n\n    private updateMarket(market: Pair): void {\n        if (market !== this.props.market) {\n            this.props.actions.setMarket({ market });\n        }\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    market: state.inputs.market,\n    marketPrices: state.marketPrices.marketPrices,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        setMarket,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n}\n\nexport const MarketBanner = connect(mapStateToProps, mapDispatchToProps)(MarketBannerClass);\n","import * as React from \"react\";\n\nimport { AtomicConnectionStatus, TokenCode } from \"@renex/renex\";\nimport { connect } from \"react-redux\"; // Custom typings\n\nimport { RenExAtomicTokens, TokenDetails, UnknownToken } from \"../lib/market\";\nimport { ApplicationData, LabelLevel } from \"../reducers/types\";\nimport { AtomicNotice } from \"./AtomicNotice\";\nimport { Heading } from \"./Heading\";\nimport { InfoLabel } from \"./InfoLabel\";\n\n/**\n * ViewAtomicBalances is a visual component for displaying the user's balances\n * held by the atomic-swap software, Atom\n */\nclass ViewAtomicBalancesClass extends React.Component<Props, State> {\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        return (\n            <div className=\"section view\">\n                <div className=\"container\">\n                    <Heading title=\"Balances held by Swapperd\" />\n                    {!this.atomConnected() ? <AtomicNotice /> :\n                        <div className=\"view--table table--wrapper\">\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th>Token</th>\n                                        <th>Address</th>\n                                        <th>Total Balance\n                                </th>\n                                        <th>\n                                            Usable Balance\n                                    <InfoLabel>The amount you have deposited, excluding balances locked in open orders.</InfoLabel>\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.generateRows()}\n                                </tbody>\n                            </table>\n                        </div>\n                    }\n                </div>\n            </div>\n        );\n    }\n\n    private atomConnected(): boolean {\n        const { atomConnectionStatus } = this.props;\n        return (\n            atomConnectionStatus === AtomicConnectionStatus.ConnectedLocked ||\n            atomConnectionStatus === AtomicConnectionStatus.ConnectedUnlocked\n        );\n    }\n\n    private generateRows(): React.ReactNode[] {\n        const list: React.ReactNode[] = [];\n        const { atomicAddresses, atomicBalances, usableAtomicBalances, supportedAtomicTokens } = this.props;\n        RenExAtomicTokens(supportedAtomicTokens)\n            .forEach((token: TokenCode) => {\n                const { name, symbol, icon } = TokenDetails.get(token, UnknownToken);\n\n                const address = atomicAddresses.get(token, undefined) || \"-\";\n\n                const balance = atomicBalances.get(token, undefined);\n                const balanceReadable = balance !== undefined && balance !== null ? `${balance.toFixed()} ${symbol}` : \"-\";\n\n                const usable = usableAtomicBalances.get(token, undefined);\n                const usableReadable = usable !== undefined && usable !== null ? `${usable.toFixed()} ${symbol}` : \"-\";\n\n                // let locked = balance.minus(usable);\n                // if (locked.isLessThan(0)) {\n                //     locked = new BigNumber(0);\n                // }\n\n                // tslint:disable-next-line:non-literal-require\n                const image = require(`../tokens/${icon}`);\n\n                list.push(\n                    <tr key={token}>\n                        <td>\n                            <img alt=\"\" role=\"presentation\" src={image} />\n                            <span>{`${name} `}</span>\n                        </td>\n                        <td className=\"monospace\">{address}</td>\n                        <td>\n                            {balanceReadable}\n                            {balance === null &&\n                                <InfoLabel level={LabelLevel.Warning}>Failed to retrieve total {symbol} balance.</InfoLabel>\n                            }\n                        </td>\n                        <td>\n                            {usableReadable}\n                            {usable === null &&\n                                <InfoLabel level={LabelLevel.Warning}>Failed to retrieve usable {symbol} balance.</InfoLabel>\n                            }\n                        </td>\n                    </tr >\n                );\n            });\n        return list;\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    atomicAddresses: state.trader.atomicAddresses,\n    atomicBalances: state.trader.atomicBalances,\n    usableAtomicBalances: state.trader.usableAtomicBalances,\n    atomConnectionStatus: state.trader.atomConnectionStatus,\n    supportedAtomicTokens: state.sdk.supportedAtomicTokens,\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n}\n\ninterface State {\n}\n\nexport const ViewAtomicBalances = connect(mapStateToProps)(ViewAtomicBalancesClass);\n","import * as React from \"react\";\n\nimport { connect } from \"react-redux\"; // Custom typings\n\nimport { ApplicationData } from \"../reducers/types\";\nimport { Heading } from \"./Heading\";\nimport { ViewBalancesTable } from \"./ViewBalancesTable\";\n\n/**\n * ViewBalances is a visual component for displaying the user's Ether and token\n * balances\n */\nclass ViewBalancesClass extends React.Component<Props, State> {\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        return (\n            <div className=\"section view\">\n                <div className=\"container\">\n                    <Heading title=\"Your legacy balances\" />\n                    <ViewBalancesTable />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (_state: ApplicationData) => ({\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n}\n\ninterface State {\n}\n\nexport const ViewBalances = connect(mapStateToProps)(ViewBalancesClass);\n","import * as React from \"react\";\n\nimport { BalanceBanner } from \"../../components/BalanceBanner\";\nimport { BalanceHistory } from \"../../components/BalanceHistory\";\nimport { Header } from \"../../components/Header\";\nimport { MarketBanner } from \"../../components/MarketBanner\";\nimport { ViewAtomicBalances } from \"../../components/ViewAtomicBalances\";\nimport { ViewBalances } from \"../../components/ViewBalances\";\nimport { _catch_ } from \"../ErrorBoundary\";\n\n/**\n * Balances is a page whose principal components allows the user to withdraw and\n * deposit funds, and see their previous balance actions.\n */\nexport const Balances: React.StatelessComponent = () =>\n    <div className=\"balances\">\n        {_catch_(<MarketBanner />)}\n        {_catch_(<Header withMenu={true} />)}\n        {_catch_(<BalanceBanner />)}\n\n        <div className=\"content\">\n            {_catch_(<ViewAtomicBalances />)}\n            {_catch_(<ViewBalances />)}\n            {_catch_(<BalanceHistory />)}\n        </div>\n    </div>;\n","import * as React from \"react\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { Link } from \"react-router-dom\";\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { Heading } from \"./Heading\";\n\nimport { _captureInteractionException_ } from \"../lib/errors\";\nimport { ApplicationData } from \"../reducers/types\";\nimport { SubmittedTradesTable } from \"./SubmittedTradesTable\";\n\n// This is the number of orders that will be displayed if the 'recent' prop\n// is set.\nexport const RECENT_AMOUNT = 5;\n\nclass SubmittedTradesClass extends React.Component<Props, State> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n        };\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { recent } = this.props;\n        const { traderOrders } = this.props;\n\n        const title = `Your ${recent ? \"latest \" : \"\"}submitted orders`;\n\n        return (\n            <div className=\"section trades\">\n                <div className=\"container\">\n                    <Heading title={title} />\n                    <SubmittedTradesTable amountToShow={recent ? RECENT_AMOUNT : undefined} />\n                    {recent && traderOrders && traderOrders.size - RECENT_AMOUNT > 0 &&\n                        <p><Link to=\"/orders\">View {traderOrders.size - RECENT_AMOUNT} more</Link></p>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    traderOrders: state.traderBook.traderOrders,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n    recent?: boolean;\n}\n\ninterface State {\n}\n\nexport const SubmittedTrades = connect(mapStateToProps, mapDispatchToProps)(SubmittedTradesClass);\n","import * as React from \"react\";\n\nimport { connect } from \"react-redux\"; // Custom typings\nimport { Link } from \"react-router-dom\";\n\nimport { TraderOrder } from \"@renex/renex\";\n\nimport { TokenDetails, UnknownToken } from \"../lib/market\";\nimport { ApplicationData } from \"../reducers/types\";\nimport { Heading } from \"./Heading\";\nimport { RECENT_AMOUNT } from \"./SubmittedTrades\";\n\n/**\n * ExecutedTrades is a visual component for displaying the execution details of\n * a user's executed trades\n */\nclass ExecutedTradesClass extends React.Component<Props, State> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            relevantRows: 0\n        };\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { traderOrders } = this.props;\n\n        const executedOrders = traderOrders\n            .valueSeq()\n            .toArray()\n            .filter((traderOrder: TraderOrder) => {\n                if (!traderOrder.matchDetails) {\n                    return false;\n                }\n\n                return true;\n            });\n\n        const recent: boolean = (this.props.recent === true);\n\n        let relevantRows: React.ReactNode[] | null = null;\n        if (executedOrders.length > 0) {\n            relevantRows = this.generateRows(executedOrders);\n        }\n\n        const title = `Your ${recent ? \"latest \" : \"\"}executed orders`;\n\n        return (\n            <div className=\"section trades\">\n                <div className=\"container\">\n                    <Heading title={title} />\n                    <div className=\"trades--table table--wrapper\">\n                        <table>\n                            <thead>\n                                <tr>\n                                    {/* If any fields are added/removed, the colSpan\n                                    below must be modified to reflect this. */}\n                                    <th>Order ID</th>\n                                    <th>Match ID</th>\n                                    {/* <th>Match Price</th> */}\n                                    <th>Spent Amount</th>\n                                    <th>Receive Amount</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {relevantRows !== null ?\n                                    recent ? relevantRows.slice(0, RECENT_AMOUNT) : relevantRows\n                                    :\n                                    <tr>\n                                        <td colSpan={4}>No executed orders</td>\n                                    </tr>\n                                }\n                            </tbody>\n                        </table>\n                    </div>\n                    {recent && relevantRows !== null && relevantRows.length - RECENT_AMOUNT > 0 ?\n                        <p><Link to=\"/orders\">View {relevantRows.length - RECENT_AMOUNT} more</Link></p> :\n                        null\n                    }\n                </div>\n            </div>\n        );\n    }\n\n    private generateRows(executedOrders: TraderOrder[]): React.ReactNode[] | null {\n        return executedOrders\n            .reverse()\n            .map((order: TraderOrder, key: number) => {\n                const matchDetails = order.matchDetails;\n\n                if (matchDetails === undefined) {\n                    return <></>;\n                }\n\n                const receivedTokenDetails = TokenDetails.get(matchDetails.receivedToken, UnknownToken);\n                const spentTokenDetails = TokenDetails.get(matchDetails.spentToken, UnknownToken);\n\n                const receiveAmountReadable = matchDetails.receivedVolume;\n                const paidAmountReadable = matchDetails.spentVolume.plus(matchDetails.fee);\n                // const feeReadable = balanceToReadable(matchDetails.fee, matchDetails.spentToken);\n\n                return <tr key={key}>\n                    <td><span className=\"monospace\">{matchDetails.orderID}</span></td>\n                    <td className=\"match\"><span className=\"monospace\">{matchDetails.matchedID}</span></td>\n                    {/* <td className=\"center price\"><span>{`${pricepoint} ${fstSymbol} to ${sndSymbol}`}</span></td> */}\n                    <td className=\"center volume\"><span>{`${paidAmountReadable} ${spentTokenDetails.symbol}`}</span></td>\n                    <td className=\"center volume\"><span>{`${receiveAmountReadable} ${receivedTokenDetails.symbol}`}</span></td>\n                </tr>;\n            });\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    traderOrders: state.traderBook.traderOrders,\n    sdk: state.sdk.sdk,\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n    recent?: boolean;\n}\n\ninterface State {\n    relevantRows: number;\n}\n\nexport const ExecutedTrades = connect(mapStateToProps)(ExecutedTradesClass);\n","import * as React from \"react\";\n\nimport { connect } from \"react-redux\"; // Custom typings\n\nimport { Order, OrderStatus } from \"@renex/renex\";\n\nimport { Heading } from \"./Heading\";\nimport { Loading } from \"./Loading\";\n\nimport { ApplicationData } from \"../reducers/types\";\n\nconst NUMBER_OF_ORDERS = 10;\n\nconst HiddenOrderStatusDisplay = {\n    [OrderStatus.NOT_SUBMITTED]: \"-\",\n    [OrderStatus.OPEN]: \"Open\",\n    [OrderStatus.CONFIRMED]: \"Matched\",\n    [OrderStatus.CANCELED]: \"Canceled\",\n    [OrderStatus.SETTLED]: \"Settled\",\n};\n/**\n * HiddenOrderbook is a visual component for displaying a list of orders from\n * the Republic Protocol darkpool\n */\nclass HiddenOrderbookClass extends React.Component<Props> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { hiddenOrders } = this.props;\n        return (\n            <div className=\"section orderbook\">\n                <div className=\"container\">\n                    <Heading title=\"Hidden orderbook\" description={`Last ${NUMBER_OF_ORDERS} orders`} />\n                    {hiddenOrders ?\n                        <div className=\"table--wrapper\">\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th>Order ID</th>\n                                        <th className=\"center\">Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {hiddenOrders.size > 0 ?\n                                        hiddenOrders\n                                            .reverse()\n                                            .toArray()\n                                            .map((order: Order) =>\n                                                <tr key={order.id}>\n\n                                                    <td className=\"truncate\"><span className=\"monospace\">{order.id}</span></td>\n                                                    <td className=\"center\">{HiddenOrderStatusDisplay[order.status]}</td>\n                                                </tr>\n                                            ) :\n                                        <tr />\n                                    }\n                                </tbody>\n                            </table>\n                        </div>\n                        :\n                        <Loading />\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    hiddenOrders: state.hiddenBook.hiddenOrders,\n    sdk: state.sdk.sdk,\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n}\n\nexport const HiddenOrderbook = connect(mapStateToProps)(HiddenOrderbookClass);\n","import BigNumber from \"bignumber.js\";\nimport BN from \"bn.js\";\n\nimport { TokenCode } from \"@renex/renex\";\nimport { TokenDetails, UnknownToken } from \"./market\";\n\n/**\n * Convert a token amount to the readable amount using the token decimals.\n * @param balance The balance represented as a BigNumber.\n * @param token The token used to represented the balance.\n */\nexport const balanceToReadable = (balanceIn: BN, token: TokenCode): BigNumber => {\n    const balance = balanceIn === undefined ? new BN(0) : balanceIn;\n\n    // If token is not found, use `UnknownToken` which has 0 decimals\n    // i.e. the balance is returned as it is\n    const tokenDetails = TokenDetails.get(token, UnknownToken);\n\n    let balanceBN = new BigNumber(balance.toString());\n\n    const e = new BigNumber(10).pow(tokenDetails.digits);\n    balanceBN = balanceBN.div(e);\n\n    return balanceBN;\n};\n\n/**\n * Convert a readable amount to the token amount using the token decimals.\n * @param readable The amount represented as a string.\n * @param token The token used to represent the amount.\n */\nexport const readableToBalance = (readableIn: string, token: TokenCode): BN => {\n    const readable = readableIn === undefined || readableIn === \"\" ? \"0\" : readableIn;\n\n    // If token is not found, use `UnknownToken` which has 0 decimals\n    // i.e. the balance is returned as it is\n    const tokenDetails = TokenDetails.get(token, UnknownToken);\n\n    const e = new BigNumber(10).pow(tokenDetails.digits);\n\n    return new BN(new BigNumber(readable)\n        .times(e)\n        .integerValue(BigNumber.ROUND_FLOOR)\n        .toFixed());\n};\n\n/**\n * Removes excessive digits from a value for a given currency. Primarily used\n * for user inputs.\n * @param amount The amount to be checked for excessive digits.\n * @param token The token the digits should be checked against.\n */\nexport const removeExcessDigits = (amount: BigNumber, token: TokenCode): BigNumber => {\n    const value = readableToBalance(amount.toFixed(), token);\n    return new BigNumber(balanceToReadable(value, token));\n};\n","import React from \"react\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { FieldProps } from \"formik\";\n\nimport { InfoLabel } from \"./InfoLabel\";\n\ninterface Props {\n    ticker: string;\n    title: React.ReactNode;\n    disabled?: boolean;\n    hint?: React.ReactNode;\n    notice?: React.ReactNode;\n    stepFunction?(value: BigNumber): string;\n    handleChange?(e: React.ChangeEvent<HTMLInputElement>): void;\n    handleBlur?(e: React.ChangeEvent<HTMLInputElement>): void;\n}\n\nexport class NewOrderInputField extends React.Component<FieldProps<HTMLInputElement> & Props, HTMLInputElement> {\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const {\n            form: { errors, dirty },\n            title, ticker, disabled, hint, handleChange, handleBlur, notice\n        } = this.props;\n        const { onBlur, onChange, ...field } = this.props.field;\n\n        return (\n            <div className=\"order--input-wrapper\">\n                <label>\n                    <div className=\"order--title\">\n                        <span>{title}</span>\n                        {hint && <InfoLabel>{hint}</InfoLabel>}\n                    </div>\n                    <span className={`order--input-item${disabled ? \" disabled\" : \"\"}`}>\n                        <input\n                            {...field}\n                            type=\"number\"\n                            step={this.calculateStep()}\n                            disabled={disabled}\n                            placeholder=\"0\"\n                            min={0}\n                            onChange={handleChange}\n                            onBlur={handleBlur}\n                        />\n                        <span>{ticker}</span>\n                    </span>\n                </label>\n                {!!errors[field.name] && dirty && (\n                    <p className=\"order--warning\">\n                        {errors[field.name]}\n                    </p>\n                )}\n                {!!notice && !errors[field.name] && (\n                    <p className=\"order--message\">\n                        {notice}\n                    </p>\n                )}\n            </div>\n        );\n    }\n\n    private calculateStep(): string {\n        const { stepFunction, field } = this.props;\n        if (stepFunction) {\n            return stepFunction(new BigNumber(field.value || \"0\"));\n        }\n        return \"\";\n    }\n\n}\n","import React from \"react\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { Field, FieldProps, Form, FormikProps } from \"formik\";\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { OrderSettlement, OrderSide } from \"@renex/renex\";\n\nimport { Loading } from \"./Loading\";\n\nimport { setOrder } from \"../actions/inputs/inputsActions\";\nimport { removeExcessDigits } from \"../lib/balances\";\nimport { getPriceStep, getVolumeStep } from \"../lib/conversion\";\nimport { _captureInteractionException_ } from \"../lib/errors\";\nimport { Pair, Pairs, TokenDetail, TokenDetails } from \"../lib/market\";\nimport { ApplicationData } from \"../reducers/types\";\nimport { InfoLabel } from \"./InfoLabel\";\nimport { NewOrderInputField } from \"./NewOrderInputField\";\nimport { NewOrderInputsValues } from \"./NewOrderInputs\";\n\n// tslint:disable: jsx-no-lambda\nclass NewOrderInputFormClass extends React.Component<Props, State> {\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            priorityTokenDetails: undefined,\n            nonPriorityTokenDetails: undefined,\n            feeToken: undefined,\n            notice: undefined,\n        };\n    }\n\n    public componentDidMount(): void {\n        // Validate fields on load\n        const { values, setValues } = this.props;\n        const newState = this.calculateNewState(values);\n        setValues(newState);\n\n        this.preRender(this.props);\n    }\n\n    public componentWillUnmount(): void {\n        // Save inputs when the user navigates away from the page\n        const { values, side } = this.props;\n        this.props.actions.setOrder({\n            orderInputs: {\n                side,\n                pricepoint: values.pricepoint,\n                volume: values.volume,\n                minVolume: values.minVolume,\n            }\n        });\n    }\n\n    public async componentWillReceiveProps(nextProps: Props): Promise<void> {\n        const { market, side, allOrNothing, initialMarketPrice, validateForm, values } = this.props;\n\n        // Update the market price if the market or market price has changed\n        const marketChanged = market !== nextProps.market;\n        const initialMarketPriceChanged = initialMarketPrice !== nextProps.initialMarketPrice;\n        const price = new BigNumber(values.pricepoint || \"0\");\n        const minValueNotSet = !values.minVolume && !nextProps.values.minVolume;\n        if (minValueNotSet || marketChanged || initialMarketPriceChanged && price.lte(new BigNumber(0))) {\n            nextProps.values.pricepoint = nextProps.initialMarketPrice;\n            const pairDetails = Pairs.get(nextProps.market, undefined);\n            const pricepointBigNumber = new BigNumber(nextProps.initialMarketPrice);\n            if (pairDetails && !pricepointBigNumber.isZero()) {\n                const absoluteMinVolume = nextProps.calculateAbsoluteMinTradeVolume(pairDetails.baseToken, pricepointBigNumber);\n                nextProps.values.minVolume = new BigNumber(absoluteMinVolume).toFixed();\n            }\n        }\n\n        // Match minVolume to volume when All or Nothing is enabled\n        const allOrNothingEnabled = !allOrNothing && nextProps.allOrNothing;\n        if (allOrNothingEnabled) {\n            nextProps.values.minVolume = nextProps.values.volume;\n        }\n\n        // Re-validate form\n        const sideChanged = side !== nextProps.side;\n        if (sideChanged || marketChanged || allOrNothing !== nextProps.allOrNothing) {\n            await validateForm();\n        }\n\n        this.preRender(nextProps);\n    }\n\n    // The code that used to be at the start of render has been moved here\n    public preRender = (props: Props) => {\n        const { values, settlementType, market, side } = props;\n\n        const marketDetails = Pairs.get(market, undefined);\n        if (!marketDetails) { return; }\n\n        const priorityTokenDetails = TokenDetails.get(marketDetails.quoteToken, undefined);\n        const nonPriorityTokenDetails = TokenDetails.get(marketDetails.baseToken, undefined);\n\n        if (!priorityTokenDetails || !nonPriorityTokenDetails) { return; }\n\n        let feeToken;\n        let notice: string;\n        if (settlementType === OrderSettlement.RenExAtomic) {\n            feeToken = side === OrderSide.BUY ? priorityTokenDetails : nonPriorityTokenDetails;\n            const sellAmount = new BigNumber(side === OrderSide.BUY ? values.priorityVolume : values.volume);\n            notice = sellAmount.gt(new BigNumber(0)) ? `You will spend ${sellAmount.plus(this.feeAmount()).toFixed()} ${feeToken.symbol} after fees.` : \"\";\n        } else {\n            feeToken = side === OrderSide.BUY ? nonPriorityTokenDetails : priorityTokenDetails;\n            const buyAmount = new BigNumber(side === OrderSide.BUY ? values.volume : values.priorityVolume);\n            notice = buyAmount.gt(new BigNumber(0)) ? `You will receive ${buyAmount.minus(this.feeAmount()).toFixed()} ${feeToken.symbol} after fees.` : \"\";\n        }\n\n        this.setState({\n            priorityTokenDetails,\n            nonPriorityTokenDetails,\n            notice,\n            feeToken,\n        });\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { side, feePercent, isSubmitting, isValid } = this.props;\n        const { feeToken, nonPriorityTokenDetails } = this.state;\n\n        if (!feeToken || !nonPriorityTokenDetails) {\n            return <></>;\n        }\n\n        return (\n            <Form>\n                <div className=\"order--inputs\">\n                    <Field\n                        name=\"pricepoint\"\n                        render={this.pricepointRender}\n                    />\n                    <Field\n                        name=\"volume\"\n                        render={this.volumeRender}\n                    />\n                    <Field\n                        name=\"minVolume\"\n                        render={this.renderMinVolume}\n                    />\n                    <Field\n                        name=\"priorityVolume\"\n                        render={this.renderPriorityVolume}\n                    />\n                </div>\n                <div>\n                    <div>\n                        <span>Fee: {this.feeAmount().toFixed()} {feeToken.symbol}</span>\n                        <InfoLabel>Fees are set to {feePercent.times(100).toFixed()}% of the order volume.</InfoLabel>\n                    </div>\n                </div>\n                <div className=\"order--footer\">\n                    <button className={`order--button ${isSubmitting ? \"submitting\" : \"\"}`} type=\"submit\" disabled={!isValid || isSubmitting}>\n                        <span>\n                            {\n                                isSubmitting ? <Loading /> :\n                                    <>{side === OrderSide.BUY ? \"Buy\" : \"Sell\"} {nonPriorityTokenDetails.symbol}</>\n                            }\n                        </span>\n                    </button>\n                </div>\n            </Form>\n        );\n    }\n\n    private readonly pricepointRender = (field: FieldProps) => {\n        const { market, initialMarketPrice } = this.props;\n\n        const marketDetails = Pairs.get(market, undefined);\n        if (!marketDetails) { return <></>; }\n\n        const priorityTokenDetails = TokenDetails.get(marketDetails.quoteToken, undefined);\n        if (!priorityTokenDetails) { return <></>; }\n\n        const prioritySymbol = priorityTokenDetails.symbol;\n\n        return <NewOrderInputField\n            {...field}\n            title={<>\n                Price (<span\n                    role=\"button\"\n                    className=\"order--option\"\n                    // tslint:disable-next-line:react-this-binding-issue\n                    onClick={() => {\n                        this.setAndUpdateValues(field.field.name, initialMarketPrice);\n                    }}\n                >\n                    Market\n                </span>)\n            </>}\n            disabled={marketDetails.fixedPrice !== undefined}\n            ticker={prioritySymbol}\n            stepFunction={getPriceStep}\n            handleChange={this.handleChange}\n            handleBlur={this.handleBlur}\n        />;\n    }\n\n    private readonly volumeRender = (field: FieldProps) => {\n        const { side, settlementType } = this.props;\n        const { nonPriorityTokenDetails, notice } = this.state;\n\n        if (!nonPriorityTokenDetails) {\n            return <></>;\n        }\n\n        return <NewOrderInputField\n            {...field}\n            title={<>\n                {side === OrderSide.BUY ? \"Receive\" : \"Spend\"} (<span role=\"button\" className=\"order--option\" onClick={this.fillVolume}>Max</span>)\n            </>}\n            ticker={nonPriorityTokenDetails.symbol}\n            stepFunction={getVolumeStep}\n            handleChange={this.handleChange}\n            handleBlur={this.handleBlur}\n            notice={settlementType === OrderSettlement.RenExAtomic ? (side === OrderSide.SELL && notice) : (side === OrderSide.BUY && notice)}\n        />;\n    }\n\n    private readonly renderMinVolume = (field: FieldProps) => {\n        const { allOrNothing } = this.props;\n        const { nonPriorityTokenDetails } = this.state;\n\n        if (!nonPriorityTokenDetails) {\n            return <></>;\n        }\n\n        return <NewOrderInputField\n            {...field}\n            title=\"Minimum Fill Amount\"\n            ticker={nonPriorityTokenDetails.symbol}\n            hint=\"The minimum volume you are willing to be matched with. This does not affect price but higher minimum volumes reduce the chances of order match.\"\n            disabled={allOrNothing}\n            stepFunction={getVolumeStep}\n            handleChange={this.handleChange}\n            handleBlur={this.handleBlur}\n        />;\n    }\n\n    private readonly renderPriorityVolume = (field: FieldProps) => {\n        const { side, settlementType } = this.props;\n        const { priorityTokenDetails, notice } = this.state;\n\n        if (!priorityTokenDetails) {\n            return <></>;\n        }\n\n        return <NewOrderInputField\n            {...field}\n            title={side === OrderSide.BUY ? \"Spend\" : \"Receive\"}\n            ticker={priorityTokenDetails.symbol}\n            disabled={true}\n            stepFunction={getVolumeStep}\n            notice={settlementType === OrderSettlement.RenExAtomic ? (side === OrderSide.BUY && notice) : (side === OrderSide.SELL && notice)}\n        />;\n    }\n\n    private calculateNewState(oldState: NewOrderInputsValues, name?: string, valueIn?: string): NewOrderInputsValues {\n        let newState = { ...oldState };\n\n        if (name) {\n            // If value is undefined, set it to previous state\n            let value = (valueIn === undefined) ? oldState[name] : valueIn;\n\n            // If the value is in scientific notation, fix it\n            if (value.toLowerCase().indexOf(\"e\") !== -1) {\n                value = new BigNumber(value).toFixed();\n            }\n\n            newState = { ...newState, [name]: value };\n        }\n        const { pricepoint, volume } = newState;\n\n        // Match minVolume to volume if we're an All Or Nothing trade\n        if (this.props.allOrNothing) {\n            newState.minVolume = newState.volume;\n        }\n\n        // Calculate the new priority volume\n        const price = new BigNumber(pricepoint || \"0\");\n        const nonPriorityVolume = new BigNumber(volume || \"0\");\n        const priorityVolume = nonPriorityVolume.times(price);\n        newState.priorityVolume = priorityVolume.toFixed();\n\n        return newState;\n    }\n\n    private coerceValues(state: NewOrderInputsValues, name: string): NewOrderInputsValues {\n        const { sdk, market, initialMarketPrice, calculateAbsoluteMinTradeVolume, side } = this.props;\n        const { normalizePrice, normalizeVolume } = sdk.utils;\n\n        const pairDetails = Pairs.get(market, undefined);\n        if (!pairDetails) {\n            return state;\n        }\n\n        const pricepointBigNumber = new BigNumber(normalizePrice(new BigNumber(state.pricepoint || \"0\"), side === OrderSide.SELL));\n        const volumeBigNumber = new BigNumber(normalizeVolume(removeExcessDigits(new BigNumber(state.volume || \"0\"), pairDetails.baseToken)));\n        const minVolumeBigNumber = new BigNumber(normalizeVolume(removeExcessDigits(new BigNumber(state.minVolume || \"0\"), pairDetails.baseToken)));\n        const absoluteMinVolume = calculateAbsoluteMinTradeVolume(pairDetails.baseToken, pricepointBigNumber);\n\n        const newState = { ...state };\n        switch (name) {\n            case \"pricepoint\":\n                // Reset price to default if price is empty or zero\n                if (pricepointBigNumber.lte(new BigNumber(0))) {\n                    newState.pricepoint = initialMarketPrice;\n                } else {\n                    // Set pricepoint to normalized price\n                    newState.pricepoint = pricepointBigNumber.toFixed();\n                }\n                break;\n            case \"volume\":\n                // Set volume to normalized volume\n                newState.volume = volumeBigNumber.toFixed();\n                // Coerce minimum volume if volume < min volume\n                if (volumeBigNumber.lt(minVolumeBigNumber)) {\n                    newState.minVolume = BigNumber\n                        .max(volumeBigNumber, absoluteMinVolume)\n                        .toFixed();\n                }\n                break;\n            case \"minVolume\":\n                // Set min volume to normalized volume\n                newState.minVolume = minVolumeBigNumber.toFixed();\n\n                // Enforce absolute minimum volume\n                if (minVolumeBigNumber.lt(absoluteMinVolume)) {\n                    newState.minVolume = absoluteMinVolume.toFixed();\n                }\n\n                // Coerce volume if min volume > volume\n                if (minVolumeBigNumber.gt(volumeBigNumber)) {\n                    newState.volume = newState.minVolume;\n                }\n            default:\n                const description = `Unexpected value name ${name} in coerceValues`;\n                _captureInteractionException_(\n                    new Error(description),\n                    { description, shownToUser: \"No\" },\n                );\n        }\n        return this.calculateNewState(newState, name);\n    }\n\n    private readonly feeAmount = (): BigNumber => {\n        const { values, side, feePercent, settlementType } = this.props;\n        const nonPriorityVolume = new BigNumber(values.volume || \"0\");\n        const priorityVolume = new BigNumber(values.priorityVolume || \"0\");\n        let feeAmount;\n        if (settlementType === OrderSettlement.RenExAtomic) {\n            feeAmount = side === OrderSide.BUY ? priorityVolume.times(feePercent) : nonPriorityVolume.times(feePercent);\n        } else {\n            feeAmount = side === OrderSide.BUY ? nonPriorityVolume.times(feePercent) : priorityVolume.times(feePercent);\n        }\n        return feeAmount;\n    }\n\n    private readonly fillVolume = (): void => {\n        const { market, values, side, settlementType } = this.props;\n        const usableLegacyBalances = settlementType === OrderSettlement.RenEx ? this.props.usableLegacyBalances : this.props.usableAtomicBalances;\n        const { pricepoint } = values;\n        const marketDetails = Pairs.get(market, undefined);\n        if (!marketDetails) {\n            return;\n        }\n\n        const priorityToken = marketDetails.quoteToken;\n        const nonPriorityToken = marketDetails.baseToken;\n\n        let nonPriorityVolume = new BigNumber(0);\n        if (side === OrderSide.BUY) {\n            const price = new BigNumber(pricepoint || \"0\");\n            if (!price.isZero()) {\n                const priorityVolume = usableLegacyBalances.get(priorityToken) || new BigNumber(0);\n                nonPriorityVolume = priorityVolume.div(price);\n            }\n        } else {\n            nonPriorityVolume = usableLegacyBalances.get(nonPriorityToken) || new BigNumber(0);\n        }\n        this.setAndUpdateValues(\"volume\", nonPriorityVolume.toFixed(), true);\n    }\n\n    private readonly handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n        const { name, value } = e.target;\n        this.setAndUpdateValues(name, value);\n    }\n\n    private readonly handleBlur = (e: React.ChangeEvent<HTMLInputElement>): void => {\n        const { name, value } = e.target;\n        this.setAndUpdateValues(name, value, true);\n    }\n\n    private setAndUpdateValues(name: string, value: string, blur?: boolean): void {\n        const { setValues, values } = this.props;\n        let newState = this.calculateNewState(values, name, value);\n        // Coerce values if necessary\n        if (blur) {\n            newState = this.coerceValues(newState, name);\n        }\n        setValues(newState);\n    }\n\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    sdk: state.sdk.sdk,\n    feePercent: state.sdk.darknodeFeePercent,\n    usableLegacyBalances: state.trader.usableLegacyBalances,\n    usableAtomicBalances: state.trader.usableAtomicBalances,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        setOrder,\n    }, dispatch)\n});\n\ninterface FormProps extends FormikProps<NewOrderInputsValues> {\n    market: Pair;\n    side: OrderSide;\n    allOrNothing: boolean;\n    initialMarketPrice: string;\n    settlementType: OrderSettlement;\n    calculateAbsoluteMinTradeVolume(baseToken: string, price: BigNumber): BigNumber;\n}\n\ninterface Props extends FormProps, ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n    priorityTokenDetails: TokenDetail | undefined;\n    nonPriorityTokenDetails: TokenDetail | undefined;\n    feeToken: TokenDetail | undefined;\n    notice: string | undefined;\n}\n\nexport const NewOrderInputForm = connect(mapStateToProps, mapDispatchToProps)(NewOrderInputFormClass);\n","import React from \"react\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { Formik, FormikActions, FormikErrors, FormikProps } from \"formik\";\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { OrderSettlement, OrderSide, OrderType, Token } from \"@renex/renex\";\n\nimport { openOrder } from \"../actions/trader/orderActions\";\nimport { Pair, Pairs, TokenDetails, UnknownToken } from \"../lib/market\";\nimport { ApplicationData } from \"../reducers/types\";\nimport { InfoLabel } from \"./InfoLabel\";\nimport { NewOrderInputForm } from \"./NewOrderInputForm\";\n\nclass OuterForm extends React.Component<Props, State> {\n\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            showMoreOptions: true,\n            allOrNothing: false,\n            immediateOrCancel: false,\n            fillOrKill: false,\n            side: OrderSide.BUY,\n        };\n    }\n\n    public componentDidMount(): void {\n        // Set side based on what user last saved\n        const { orderInputs } = this.props;\n        if (orderInputs.side !== this.state.side) {\n            this.setState({ side: orderInputs.side });\n        }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n\n        const { fillOrKill, allOrNothing, immediateOrCancel, showMoreOptions } = this.state;\n        const { sdk, orderInputs, market, marketPrice, settlementType } = this.props;\n        const pairDetails = Pairs.get(market, undefined);\n        if (!pairDetails) {\n            return <></>;\n        }\n\n        const nonPriorityTokenDetails = TokenDetails.get(pairDetails.baseToken, UnknownToken);\n        const { side } = this.state;\n        const defaultMarketPrice = marketPrice ? new BigNumber(sdk.utils.normalizePrice(marketPrice)).toFixed() : \"0\";\n        return (\n            <>\n                <div className=\"order--wrapper order--wrapper--tabbed\">\n                    <ul className=\"order--tabs\">\n                        <li\n                            className={side === OrderSide.BUY ? \"active\" : \"\"}\n                            role=\"tab\"\n                            // tslint:disable-next-line: react-this-binding-issue jsx-no-lambda\n                            onClick={() => { this.setState({ side: OrderSide.BUY }); }}\n                        >\n                            <span>Buy {nonPriorityTokenDetails.symbol}</span>\n                        </li>\n                        <li\n                            className={side === OrderSide.SELL ? \"active\" : \"\"}\n                            role=\"tab\"\n                            // tslint:disable-next-line: react-this-binding-issue jsx-no-lambda\n                            onClick={() => { this.setState({ side: OrderSide.SELL }); }}\n                        >\n                            <span>Sell {nonPriorityTokenDetails.symbol}</span>\n                        </li>\n                    </ul>\n                    <Formik\n                        initialValues={{\n                            volume: orderInputs.volume || \"\",\n                            minVolume: orderInputs.minVolume || \"\",\n                            pricepoint: orderInputs.pricepoint || defaultMarketPrice,\n                            priorityVolume: \"\",\n                        }}\n                        validate={this.validate}\n                        onSubmit={this.handleSubmit}\n                        // tslint:disable-next-line: react-this-binding-issue jsx-no-lambda\n                        render={(props: FormikProps<NewOrderInputsValues>) => (\n                            <NewOrderInputForm\n                                {...props}\n                                market={market}\n                                side={side}\n                                allOrNothing={allOrNothing || fillOrKill}\n                                initialMarketPrice={defaultMarketPrice}\n                                settlementType={settlementType}\n                                calculateAbsoluteMinTradeVolume={this.calculateAbsoluteMinTradeVolume}\n                            />\n                        )}\n                    />\n                </div>\n                <div className={`order--options ${!showMoreOptions ? \"hidden\" : \"\"}`}>\n                    <label>\n                        <input\n                            name=\"allOrNothing\"\n                            type=\"checkbox\"\n                            disabled={fillOrKill}\n                            checked={allOrNothing || fillOrKill}\n                            onChange={this.handleMoreOptions}\n                        />\n                        All or Nothing <InfoLabel>Execute either the entire order or not at all.</InfoLabel>\n                    </label>\n                    <label>\n                        <input\n                            name=\"immediateOrCancel\"\n                            type=\"checkbox\"\n                            disabled={fillOrKill}\n                            checked={immediateOrCancel || fillOrKill}\n                            onChange={this.handleMoreOptions}\n                        />\n                        Immediate or Cancel <InfoLabel>If the order cannot be matched against the current orderbook, cancel the order.</InfoLabel>\n                    </label>\n                    <label>\n                        <input\n                            name=\"fillOrKill\"\n                            type=\"checkbox\"\n                            disabled={allOrNothing && immediateOrCancel}\n                            checked={fillOrKill || (allOrNothing && immediateOrCancel)}\n                            onChange={this.handleMoreOptions}\n                        />\n                        Fill or Kill <InfoLabel>If the entire order cannot be executed against the current orderbook, cancel the order.</InfoLabel>\n                    </label>\n                </div>\n            </>\n        );\n    }\n\n    // tslint:disable-next-line:no-any\n    private readonly handleSubmit = async (values: NewOrderInputsValues, formikBag: FormikActions<NewOrderInputsValues>) => {\n        const { setSubmitting, resetForm } = formikBag;\n        const { market, sdk } = this.props;\n        const { side, immediateOrCancel, fillOrKill } = this.state;\n        const { pricepoint, volume, minVolume } = values;\n\n        const orderType = immediateOrCancel || fillOrKill ? OrderType.LIMIT_IOC : OrderType.LIMIT;\n\n        // Callback functions\n        const onSuccess = () => {\n            setSubmitting(false);\n            resetForm({\n                pricepoint,\n                volume: \"0\",\n                minVolume: \"0\",\n                priorityVolume: \"0\",\n            });\n        };\n\n        const onError = () => {\n            setSubmitting(false);\n        };\n\n        await this.props.actions.openOrder(\n            sdk,\n            market,\n            side, pricepoint || \"0\",\n            volume || \"0\", minVolume || \"0\",\n            orderType,\n            onSuccess,\n            onError,\n        );\n    }\n\n    private readonly validate = (values: NewOrderInputsValues): FormikErrors<NewOrderInputsValues> => {\n        const { minEthereumTradeVolume, market, settlementType } = this.props;\n        const usableLegacyBalances = settlementType === OrderSettlement.RenEx ? this.props.usableLegacyBalances : this.props.usableAtomicBalances;\n        const { side, allOrNothing } = this.state;\n\n        const errors: FormikErrors<NewOrderInputsValues> = {};\n        const marketDetails = Pairs.get(market, undefined);\n        if (!marketDetails) {\n            errors.volume = `Unknown market pair.`;\n\n            return errors;\n        }\n\n        const sellToken = (side === OrderSide.BUY) ? marketDetails.quoteToken : marketDetails.baseToken;\n        const whichVolume = (side === OrderSide.BUY) ? \"priorityVolume\" : \"volume\";\n        const sellBalance = usableLegacyBalances.get(sellToken) || new BigNumber(0);\n        const sellVolume = new BigNumber(values[whichVolume]);\n        const sellTokenDetails = TokenDetails.get(sellToken, UnknownToken);\n\n        const pricepointBigNumber = new BigNumber(values.pricepoint || \"0\");\n        const volumeBigNumber = new BigNumber(values.volume || \"0\");\n        const minVolumeBigNumber = new BigNumber(values.minVolume || \"0\");\n        const priorityVolumeBigNumber = new BigNumber(values.priorityVolume || \"0\");\n\n        // Ensure user has sufficient balance\n        if (sellBalance.lt(sellVolume)) {\n            errors[whichVolume] = `Insufficient ${sellTokenDetails.symbol} balance.`;\n        }\n\n        // Enforce minimum volume\n        if (marketDetails.quoteToken === Token.ETH && priorityVolumeBigNumber.lt(minEthereumTradeVolume)) {\n            errors.priorityVolume = `Minimum order size is ${minEthereumTradeVolume.toFixed()} ETH.`;\n        }\n\n        // Ensure pricepoint is non zero before enforcing absolute minimum volume\n        if (!pricepointBigNumber.isZero()) {\n            const absoluteMinVolume = this.calculateAbsoluteMinTradeVolume(marketDetails.baseToken, pricepointBigNumber);\n            const nonPriorityDetails = TokenDetails.get(marketDetails.baseToken, UnknownToken);\n            if (minVolumeBigNumber.lt(absoluteMinVolume)) {\n                const whichMinVolume = allOrNothing ? \"volume\" : \"minVolume\";\n                const volumeString = allOrNothing ? \"Volume\" : \"Minimum volume\";\n                errors[whichMinVolume] = `${volumeString} must be at least ${absoluteMinVolume.toFixed()} ${nonPriorityDetails.symbol}.`;\n            }\n        }\n\n        // Minimum volume should be less than volume\n        if (volumeBigNumber.lt(minVolumeBigNumber)) {\n            errors.volume = `Volume cannot be less than minimum volume.`;\n        }\n\n        return errors;\n    }\n\n    private readonly handleMoreOptions = (e: React.ChangeEvent<HTMLInputElement>): void => {\n        const { name, checked } = e.target;\n        this.setState((oldState) => ({ ...oldState, [name]: checked, }));\n    }\n\n    private readonly calculateAbsoluteMinTradeVolume = (baseToken: string, price: BigNumber): BigNumber => {\n        const { sdk, minEthereumTradeVolume } = this.props;\n        switch (baseToken) {\n            case Token.ETH:\n                return minEthereumTradeVolume;\n            case Token.WBTC:\n                return new BigNumber(0.0002);\n            default:\n                return new BigNumber(sdk.utils.normalizeVolume(minEthereumTradeVolume.dividedBy(price), true));\n        }\n    }\n\n}\n\n// tslint:enable:jsx-no-lambda\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    sdk: state.sdk.sdk,\n    orderInputs: state.inputs.orderInputs,\n    minEthereumTradeVolume: state.sdk.minEthTradeVolume,\n    usableLegacyBalances: state.trader.usableLegacyBalances,\n    usableAtomicBalances: state.trader.usableAtomicBalances,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        openOrder,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n    market: Pair;\n    marketPrice: number;\n    settlementType: OrderSettlement;\n}\n\n// Shape of form values\nexport interface NewOrderInputsValues {\n    volume: string;\n    minVolume: string;\n    priorityVolume: string;\n    pricepoint: string;\n}\n// tslint:disable: jsx-no-lambda\n\ninterface State {\n    side: OrderSide;\n    showMoreOptions: boolean;\n    allOrNothing: boolean;\n    immediateOrCancel: boolean;\n    fillOrKill: boolean;\n}\n\nexport const NewOrderInputs = connect(mapStateToProps, mapDispatchToProps)(OuterForm);\n","import * as React from \"react\";\n\nimport { ControlProps } from \"react-select/lib/components/Control\";\nimport { OptionProps } from \"react-select/lib/components/Option\";\nimport { SingleValueProps } from \"react-select/lib/components/SingleValue\";\nimport { TokenDetails, UnknownToken } from \"../lib/market\";\n\ninterface OptionType {\n    label: string;\n    value: string;\n    // tslint:disable-next-line: no-any no-reserved-keywords\n    symbol: any;\n    name: string;\n    orderSettlement?: string;\n}\n\nexport const CustomControl = <X extends OptionType>(props: ControlProps<X>) => {\n    const { children, cx, getStyles, className, isDisabled, isFocused, innerRef, innerProps } = props;\n    // tslint:disable-next-line: no-any\n    const { menuIsOpen, emotion } = (props as any);\n    return (\n        <div\n            ref={innerRef}\n            className={`${(cx(emotion.css(getStyles(\"control\", props)), {\n                control: true,\n                \"control--is-disabled\": isDisabled,\n                \"control--is-focused\": isFocused,\n                \"control--menu-is-open\": menuIsOpen\n            }, className) || \"\")} Select-control`}\n            {...innerProps}\n        >\n            {children}\n        </div>\n    );\n};\n\nexport const CustomValue = <X extends OptionType>(props: SingleValueProps<X>) => {\n    const { className, cx, getStyles, isDisabled, innerProps, children } = props;\n    // tslint:disable-next-line: no-any\n    const { emotion } = (props as any);\n\n    const option = props.data;\n\n    const filename = TokenDetails.get(option.value, UnknownToken).icon;\n\n    // tslint:disable-next-line:non-literal-require\n    const image = require(`../tokens/${filename}`);\n\n    return (\n        <div\n            className={`${cx(\n                // tslint:disable-next-line: no-any\n                emotion.css(getStyles(\"singleValue\", props)),\n                {\n                    \"single-value\": true,\n                    \"single-value--is-disabled\": isDisabled\n                },\n                className\n            )} Select-value`}\n            {...innerProps}\n        >\n            <img alt=\"\" role=\"presentation\" src={image} />\n            {children}\n        </div>\n    );\n};\n\nexport const CustomOption = <X extends OptionType>(props: OptionProps<X>) => {\n    const { children, className, cx, getStyles, isDisabled, isFocused, isSelected, innerRef, innerProps } = props;\n    // tslint:disable-next-line: no-any\n    const { emotion } = (props as any);\n\n    const option = props.data;\n\n    const filename = TokenDetails.get(option.value, UnknownToken).icon;\n\n    // tslint:disable-next-line:non-literal-require\n    const image = require(`../tokens/${filename}`);\n    return (\n        <div\n            ref={innerRef}\n            className={`${cx(\n                emotion.css(getStyles(\"option\", props)),\n                {\n                    option: true,\n                    \"option--is-disabled\": isDisabled,\n                    \"option--is-focused\": isFocused,\n                    \"option--is-selected\": isSelected,\n                },\n                className\n            ) || \"\"} Select--option`}\n            {...innerProps}\n        >\n            <img role=\"presentation\" alt=\"\" src={image} />\n            {children}\n        </div >\n    );\n};\n","import * as React from \"react\";\n\nimport Select from \"react-select\";\n\nimport { OrderSettlement, TokenCode } from \"@renex/renex\";\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\n// import { OptionProps } from \"react-select/lib/components/Option\";\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { history } from \"../lib/history\";\n\nimport { setMarket } from \"../actions/inputs/inputsActions\";\nimport { Pair, Pairs, TokenDetails, UnknownToken } from \"../lib/market\";\nimport { ApplicationData } from \"../reducers/types\";\nimport { CustomControl, CustomOption, CustomValue } from \"./Select\";\n\ninterface OptionType {\n    field: string;\n    label: string;\n    name: string;\n    // tslint:disable-next-line: no-any no-reserved-keywords\n    symbol: any;\n    value: string;\n    orderSettlement?: OrderSettlement;\n    market: Pair;\n}\n\n/**\n * SelectMarket allows the user to select a market from two token dropdowns\n */\nclass SelectMarketClass extends React.Component<Props, State> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n\n        // Retrieve the order inputs from the store.\n        const { market } = this.props;\n        const marketDetails = Pairs.get(market, undefined);\n\n        let fstCode;\n        let sndCode;\n        if (marketDetails) {\n            fstCode = marketDetails.category || marketDetails.quoteToken;\n            sndCode = fstCode === marketDetails.quoteToken ? marketDetails.baseToken : marketDetails.quoteToken;\n        }\n        this.state = {\n            fstCode,\n            sndCode,\n        };\n    }\n\n    public componentWillReceiveProps(nextProps: Props): void {\n        const { market } = nextProps;\n        const marketDetails = Pairs.get(market, undefined);\n\n        if (marketDetails) {\n            let { fstCode, sndCode } = this.state;\n            if (market !== this.props.market) {\n                fstCode = marketDetails.category || marketDetails.quoteToken;\n                sndCode = fstCode === marketDetails.quoteToken ? marketDetails.baseToken : marketDetails.quoteToken;\n                this.setState({ fstCode, sndCode });\n            }\n        }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { fstCode, sndCode } = this.state;\n\n        if (fstCode === undefined || sndCode === undefined) {\n            return <></>;\n        }\n\n        const leftCurrencies = this.listCurrencies();\n        const rightCurrencies = this.listPairs(fstCode);\n\n        return (\n            <div className=\"order--currencies\">\n                <Select\n                    className=\"Select--currency\"\n                    name=\"fstCode\"\n                    value={leftCurrencies.find((option => option.value === fstCode))}\n                    onChange={this.handleChange}\n                    options={leftCurrencies}\n                    components={{\n                        SingleValue: CustomValue,\n                        Option: CustomOption,\n                        Control: CustomControl,\n                    }}\n                    isClearable={false}\n                    backspaceRemovesValue={false}\n                    isDisabled={leftCurrencies.length <= 1}\n                />\n                <Select\n\n                    className=\"Select--currency\"\n                    name=\"sndCode\"\n                    value={rightCurrencies.find((option => option.value === sndCode))}\n                    onChange={this.handleChange}\n                    options={rightCurrencies}\n                    components={{\n                        SingleValue: CustomValue,\n                        Option: CustomOption,\n                        Control: CustomControl,\n                    }}\n                    isClearable={false}\n                    backspaceRemovesValue={false}\n                    isDisabled={rightCurrencies.length <= 1}\n                />\n            </div>\n        );\n    }\n\n    // private updateMarket(market: Pair): void {\n    //     // let { fstCode, sndCode } = this.state;\n\n    //     // // Check if the pair exists\n    //     // if (!TokenDetails.get(fstCode).pairs.has(sndCode)) {\n    //     //     // If not, check if the inverse of the pair exists\n    //     //     if (TokenDetails.get(sndCode).pairs.has(fstCode)) {\n    //     //         const fstCodeTmp = fstCode;\n    //     //         fstCode = sndCode;\n    //     //         sndCode = fstCodeTmp;\n    //     //         this.setState({ fstCode, sndCode });\n    //     //     } else {\n    //     //         // Otherwise, check if there are any pairs in which it is the\n    //     //         // first token and assign them. If it has no pairs, we revert\n    //     //         // use Token.ETH.\n    //     //         if (!TokenDetails.get(fstCode).pairs.size) {\n    //     //             fstCode = Token.ETH;\n    //     //             this.setState({ fstCode });\n    //     //         }\n    //     //         sndCode = Number(TokenDetails.get(fstCode).pairs.keySeq().first());\n    //     //         if (!isNaN(sndCode)) {\n    //     //             this.setState({ sndCode });\n    //     //         }\n    //     //     }\n    //     // }\n\n    //     // const market = TokenDetails.get(fstCode).pairs.get(sndCode);\n    //     this.props.actions.setMarket({ market });\n    // }\n\n    // tslint:disable-next-line:no-any\n    private readonly handleChange = (e: any): void => {\n        this.setState((current) => ({ ...current, [e.field]: e.value }), () => {\n            // this.updateMarket(e.market);\n            history.push(\"/exchange\");\n            this.props.actions.setMarket({ market: e.market });\n        });\n    }\n\n    private readonly listCurrencies = (): OptionType[] => {\n        const { supportedTokens, supportedAtomicTokens } = this.props;\n        const list: OptionType[] = [];\n        const tokens = supportedTokens\n            .concat(supportedAtomicTokens)\n            .toArray();\n        Array.from(new Set(tokens))\n            .forEach((token: TokenCode) => {\n                // Check if token has any pairs in which it is the 'fstCode'.\n                if (TokenDetails.get(token, UnknownToken).pairs.size > 0) {\n                    const { symbol, name, pairs } = TokenDetails.get(token, UnknownToken);\n                    list.push({\n                        field: \"fstCode\",\n                        label: `${symbol} – ${name}`,\n                        name,\n                        symbol,\n                        value: token,\n                        market: pairs.first(),\n                    });\n                }\n            });\n        return list;\n    }\n\n    private readonly listPairs = (fstCode: TokenCode): OptionType[] => {\n        return TokenDetails.get(fstCode, UnknownToken).pairs\n            .map((pair: Pair, token: TokenCode) => {\n                const pairDetails = Pairs.get(pair, undefined);\n                if (!pairDetails) {\n                    return;\n                }\n                const { orderSettlement, code } = pairDetails;\n                const { symbol, name } = TokenDetails.get(token, UnknownToken);\n                return {\n                    field: \"sndCode\",\n                    label: `${symbol} – ${name}${orderSettlement === OrderSettlement.RenExAtomic ? ` (atomic)` : ``}`,\n                    name,\n                    symbol,\n                    value: token,\n                    orderSettlement,\n                    market: code,\n                };\n            })\n            .valueSeq()\n            .toArray()\n            .filter(x => x !== undefined) as OptionType[];\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    market: state.inputs.market,\n    supportedTokens: state.sdk.supportedTokens,\n    supportedAtomicTokens: state.sdk.supportedAtomicTokens,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        setMarket,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n    fstCode: TokenCode | undefined;\n    sndCode: TokenCode | undefined;\n}\n\nexport const SelectMarket = connect(mapStateToProps, mapDispatchToProps)(SelectMarketClass);\n","import * as React from \"react\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { updateAtomConnectionStatus } from \"../actions/settlement/atomicActions\";\nimport { _captureInteractionException_ } from \"../lib/errors\";\nimport { TokenDetails, UnknownToken } from \"../lib/market\";\nimport { ApplicationData } from \"../reducers/types\";\nimport { InfoLabel } from \"./InfoLabel\";\nimport { Loading } from \"./Loading\";\n\nclass WrapBitcoinClass extends React.Component<Props, State> {\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            error: null,\n            linkPending: false,\n            inputValue: \"0\",\n            wrap: true,\n            isSubmitting: false,\n        };\n    }\n\n    // tslint:disable: jsx-no-lambda\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { wrappingFeePercent, usableAtomicBalances } = this.props;\n        const btcTokenDetails = TokenDetails.get(\"BTC\", UnknownToken);\n        const wbtcTokenDetails = TokenDetails.get(\"WBTC\", UnknownToken);\n        const { isSubmitting, wrap, error } = this.state;\n        let amount = new BigNumber(this.state.inputValue);\n        if (amount.isNaN() || !amount.isFinite()) {\n            amount = new BigNumber(0);\n        }\n        const spendToken = wrap ? btcTokenDetails : wbtcTokenDetails;\n        const spendBalance = usableAtomicBalances.get(spendToken.symbol) || new BigNumber(0);\n        const receiveToken = wrap ? wbtcTokenDetails : btcTokenDetails;\n        const feeAmount = amount.times(wrappingFeePercent);\n\n        return <div className=\"order--wrapper order--wrapper--tabbed\">\n            <ul className=\"order--tabs\">\n                <li\n                    className={wrap ? \"active\" : \"\"}\n                    role=\"tab\"\n                    onClick={this.enableWrap}\n                >\n                    <span>Wrap BTC</span>\n                </li>\n                <li\n                    className={!wrap ? \"active\" : \"\"}\n                    role=\"tab\"\n                    onClick={this.disableWrap}\n                >\n                    <span>Unwrap WBTC</span>\n                </li>\n            </ul>\n            <form onSubmit={this.handleSubmit}>\n                <div className=\"order--inputs\">\n                    <div className=\"order--input-wrapper\">\n                        <label>\n                            <div className=\"order--title\">\n                                <span>Spend</span>\n                            </div>\n                            <span className=\"order--input-item\">\n                                <input min=\"0\" step=\".00000001\" type=\"number\" value={this.state.inputValue} onChange={this.handleChange} />\n                                <span>{spendToken.symbol}</span>\n                            </span>\n                        </label>\n                        {spendBalance.lt(amount) ?\n                            <p className=\"order--warning\">Insufficient {spendToken.symbol} balance</p>\n                            : (\n                                !feeAmount.isEqualTo(0) &&\n                                <p className=\"order--message\">You will spend {new BigNumber(this.state.inputValue).plus(feeAmount).toFixed()} {wrap ? \"BTC\" : \"WBTC\"} after fees.</p>\n                            )\n\n                        }\n                    </div>\n                    <div className=\"order--input-wrapper\">\n                        <label>\n                            <div className=\"order--title\">\n                                <span>Receive</span>\n                            </div>\n                            <span className=\"order--input-item\">\n                                <input min=\"0\" step=\".00000001\" type=\"number\" value={this.state.inputValue} onChange={this.handleChange} disabled />\n                                <span>{receiveToken.symbol}</span>\n                            </span>\n                        </label>\n                    </div>\n                </div>\n                {!feeAmount.isEqualTo(0) &&\n                    <div>\n                        <span>Fee: {feeAmount.toFixed()} {spendToken.symbol}</span>\n                        <InfoLabel>Fees for {wrap ? \"wrapping BTC\" : \"unwrapping WBTC\"} are set to {wrappingFeePercent.times(100).toFixed()}% of the order volume.</InfoLabel>\n                    </div>\n                }\n                <div className=\"order--footer\">\n                    <button className={`order--button ${isSubmitting ? \"submitting\" : \"\"}`} type=\"submit\" disabled={this.checkDisable()}>\n                        <span>\n                            {isSubmitting ?\n                                <Loading />\n                                : (\n                                    wrap ? \"Wrap BTC\" : \"Unwrap WBTC\"\n                                )\n                            }\n                        </span>\n                    </button>\n                </div>\n                {error && error !== \"User rejected the swap\" &&\n                    <div>\n                        <p className=\"order--warning\">{error}</p>\n                    </div>\n                }\n            </form>\n        </div >;\n    }\n\n    private readonly enableWrap = () => { this.setState({ wrap: true }); };\n    private readonly disableWrap = () => { this.setState({ wrap: false }); };\n\n    private readonly checkDisable = (): boolean => {\n        const { usableAtomicBalances } = this.props;\n        const { wrap, isSubmitting } = this.state;\n        const value = new BigNumber(this.state.inputValue);\n        const spendToken = wrap ? \"BTC\" : \"WBTC\";\n        const usable: BigNumber = usableAtomicBalances.get(spendToken) || new BigNumber(0);\n        const valid = value.gt(0) && value.lte(usable);\n\n        return !valid || isSubmitting;\n    }\n\n    private readonly handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n        const { wrap, inputValue } = this.state;\n        this.setState({ isSubmitting: true, error: null });\n        event.preventDefault();\n        // Buying WBTC means wrapping Bitcoin\n        const swap = (wrap) ? this.wrap() : this.unwrap();\n\n        return swap\n            // tslint:disable-next-line: no-any\n            .then((res: any) => {\n                // TODO: Remove console.log before deployment\n                console.log(res);\n                this.setState({ isSubmitting: false });\n            })\n            .catch((error: Error) => {\n                _captureInteractionException_(error, {\n                    description: \"Error in WrapBitcoin.handleSubmit\",\n                    shownToUser: \"In WrapBitcoin as message box\",\n                    wrap,\n                    inputValue,\n                });\n                this.setState({ error: error.message, isSubmitting: false });\n            });\n    }\n\n    // tslint:disable-next-line:no-any\n    private readonly wrap = async (): Promise<any> => {\n        const { sdk } = this.props;\n\n        return sdk.atom.wrap(this.state.inputValue, \"BTC\");\n    }\n\n    // tslint:disable-next-line:no-any\n    private readonly unwrap = async (): Promise<any> => {\n        const { sdk } = this.props;\n\n        return sdk.atom.unwrap(this.state.inputValue, \"WBTC\");\n    }\n\n    private readonly handleChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n        let inputValue;\n        inputValue = (event.target as HTMLInputElement).value;\n        if (inputValue.indexOf(\"e\") >= 0) {\n            inputValue = new BigNumber(inputValue).toFixed();\n        }\n        this.setState({ inputValue });\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    sdk: state.sdk.sdk,\n    atomConnectionStatus: state.trader.atomConnectionStatus,\n    usableAtomicBalances: state.trader.usableAtomicBalances,\n    wrappingFeePercent: state.sdk.wrappingFeePercent,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        updateAtomConnectionStatus,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n    error: string | null;\n    linkPending: boolean;\n    inputValue: string;\n    wrap: boolean;\n    isSubmitting: boolean;\n}\n\nexport const WrapBitcoin = connect(mapStateToProps, mapDispatchToProps)(WrapBitcoinClass);\n","import * as React from \"react\";\n\nimport { connect } from \"react-redux\"; // Custom typings\n\nimport { AtomicConnectionStatus, OrderSettlement } from \"@renex/renex\";\n\nimport { Pair, Pairs } from \"../lib/market\";\nimport { ApplicationData, UnknownMarketPrice } from \"../reducers/types\";\nimport { AtomicNotice } from \"./AtomicNotice\";\nimport { Heading } from \"./Heading\";\nimport { NewOrderInputs } from \"./NewOrderInputs\";\nimport { SelectMarket } from \"./SelectMarket\";\nimport { WrapBitcoin } from \"./WrapBitcoin\";\n\n/**\n * NewOrder is a visual component for allowing users to open new orders\n */\nclass NewOrderClass extends React.Component<Props, State> {\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { market, marketPrices } = this.props;\n        const pairDetails = Pairs.get(market, undefined);\n\n        let newOrder;\n        if (pairDetails === undefined) {\n            newOrder = <div className=\"order--wrapper\">\n                <p>Invalid market pair: {market}</p>\n            </div>;\n        } else {\n            const settlement = pairDetails.orderSettlement;\n            const marketPrice = pairDetails.fixedPrice ? pairDetails.fixedPrice.toNumber() : marketPrices.get(market, UnknownMarketPrice).price;\n\n            if (!this.atomConnected() && settlement === OrderSettlement.RenExAtomic) {\n                newOrder = <AtomicNotice />;\n            } else if (market === Pair.BTC_WBTC) {\n                newOrder = <WrapBitcoin />;\n            } else {\n                newOrder = <NewOrderInputs\n                    market={market}\n                    marketPrice={marketPrice}\n                    settlementType={settlement}\n                />;\n            }\n        }\n\n        return (\n            <div className=\"section order\">\n                <div className=\"container\">\n                    <Heading title=\"Submit an order\" />\n                    <SelectMarket />\n                    {newOrder}\n                </div>\n            </div >\n        );\n    }\n\n    private atomConnected(): boolean {\n        const { atomConnectionStatus } = this.props;\n        return (\n            atomConnectionStatus === AtomicConnectionStatus.ConnectedLocked ||\n            atomConnectionStatus === AtomicConnectionStatus.ConnectedUnlocked\n        );\n    }\n\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    market: state.inputs.market,\n    marketPrices: state.marketPrices.marketPrices,\n    sdk: state.sdk.sdk,\n    atomConnectionStatus: state.trader.atomConnectionStatus,\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n}\n\ninterface State {\n}\n\nexport const NewOrder = connect(mapStateToProps, null)(NewOrderClass);\n","import * as React from \"react\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { setMarket } from \"../../actions/inputs/inputsActions\";\nimport { BalanceBanner } from \"../../components/BalanceBanner\";\nimport { ExecutedTrades } from \"../../components/ExecutedTrades\";\nimport { Header } from \"../../components/Header\";\nimport { HiddenOrderbook } from \"../../components/HiddenOrderbook\";\nimport { MarketBanner } from \"../../components/MarketBanner\";\nimport { NewOrder } from \"../../components/NewOrder\";\nimport { SubmittedTrades } from \"../../components/SubmittedTrades\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\nimport { Pairs } from \"../../lib/market\";\nimport { _catch_ } from \"../ErrorBoundary\";\n\n/**\n * Home is a page whose principal component allows users to open orders. The\n * page also displays the hidden orderbook.\n */\nclass ExchangeClass extends React.Component<Props, Exchange> {\n    public componentDidMount(): void {\n        try {\n            // Set market pair based on URL\n            const params = window.location.href.split(\"/\");\n            const fstCode = params[4];\n            const sndCode = params[5];\n            if (fstCode && sndCode) {\n                for (const pair of Pairs.valueSeq().toArray()) {\n                    if (fstCode.toUpperCase() === pair.quoteToken) {\n                        if (sndCode.toUpperCase() === pair.baseToken) {\n                            this.props.actions.setMarket({ market: pair.code });\n                            break;\n                        }\n                    }\n                }\n            }\n        } catch (error) {\n            _captureInteractionException_(error, {\n                description: \"Error in Exchange.componentDidMount\",\n                shownToUser: \"No\",\n            });\n        }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render = (): React.ReactNode =>\n        <div className=\"exchange\">\n            {_catch_(<MarketBanner />)}\n            {_catch_(<Header withMenu={true} />)}\n            {_catch_(<BalanceBanner />)}\n\n            <div className=\"content\">\n                {_catch_(<NewOrder />)}\n                {_catch_(<SubmittedTrades recent />)}\n                {_catch_(<ExecutedTrades recent />)}\n                {_catch_(<HiddenOrderbook />)}\n            </div>\n        </div>\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        setMarket,\n    }, dispatch)\n});\n\ninterface Props extends ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface Exchange {\n}\n\nexport const Exchange = connect(null, mapDispatchToProps)(ExchangeClass);\n","import * as React from \"react\";\n\nimport Axios from \"axios\";\n\nimport { connect } from \"react-redux\"; // Custom typings\n\nimport { Blocky } from \"../../components/Blocky\";\nimport { Loading } from \"../../components/Loading\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\nimport { ErrorVerificationFailed } from \"../../lib/wallets/wallet\";\nimport { ApplicationData } from \"../../reducers/types\";\n\n/**\n * SelectWeb3Account is a popup component for prompting a user to select an\n * Ethereum account from multiple addresses\n */\nclass SelectWeb3AccountClass extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            accounts: null,\n            error: null,\n        };\n    }\n\n    public async componentDidMount() {\n        await this.getAccounts();\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { accounts, error } = this.state;\n\n        if (error) {\n            return (\n                <div className=\"popup ledger\">\n                    <h2>Unable to retrieve accounts</h2>\n                    <p>{error}</p>\n                    <button onClick={this.getAccounts}>Retry</button>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"popup accounts\">\n                {accounts !== null ?\n                    <>\n                        <h2>Select an account:</h2>\n                        {accounts.map((account, i) =>\n                            <button key={i} data-item={i} className=\"account--button\" onClick={this.onSelectAccount}>\n                                <div className=\"account--left\">\n                                    <Blocky address={account} />\n                                </div>\n                                <div className=\"account--right\">\n                                    <span className=\"monospace\">{account}</span>\n                                </div>\n                            </button>\n                        )}\n                    </>\n                    :\n                    <Loading />\n                }\n            </div>\n        );\n    }\n\n    private readonly getAccounts = async () => {\n        const { referrer } = this.props;\n        this.setState({ error: null });\n        let accounts;\n        try {\n            accounts = await this.props.getAccounts();\n        } catch (error) {\n            // Errors already logged to Sentry\n            this.setState({ error: (error as Error).message || error.toString() });\n            return;\n        }\n        if (accounts.length === 1) {\n            await this.attemptVerification(accounts[0], referrer);\n            return;\n        }\n        this.setState({ accounts });\n    }\n\n    private readonly onSelectAccount = async (event: React.MouseEvent<HTMLButtonElement>): Promise<void> => {\n        const { referrer } = this.props;\n        const { accounts } = this.state;\n        const selectedAccountIndex = parseInt(event.currentTarget.getAttribute(\"data-item\") || \"0\", 10);\n\n        if (selectedAccountIndex === null || accounts === null || accounts.length < selectedAccountIndex) {\n            console.error(\"No account selected\");\n            return;\n        }\n        const address = accounts[selectedAccountIndex];\n        await this.attemptVerification(address, referrer);\n    }\n\n    private readonly attemptVerification = async (address: string, referrer: string): Promise<void> => {\n        const { url } = this.props;\n        const data = { address, referrer };\n\n        try {\n            // This request stores the trader login details (address and\n            // referrer) in the Ingress database and performs a check to find\n            // whether the trader is verified.\n            const response = await Axios.post(`${window.NETWORK.ingress}/login`, JSON.stringify(data));\n            if (response.data.verified) {\n                this.props.resolve(address, url);\n                return;\n            }\n        } catch (error) {\n            _captureInteractionException_(error, {\n                description: \"Error in SelectWeb3Account.attemptVerification\",\n                shownToUser: \"No\",\n            });\n        }\n\n        this.props.reject(address, ErrorVerificationFailed);\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    sdk: state.sdk.sdk,\n    url: state.trader.url,\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n    message: string;\n    referrer: string;\n    getAccounts(): Promise<string[]>;\n    resolve(address: string, url: string | null): void;\n    reject(address: string, reason: string): void;\n}\n\ninterface State {\n    accounts: string[] | null;\n    error: string | null;\n}\n\nexport const SelectWeb3Account = connect(mapStateToProps)(SelectWeb3AccountClass);\n","import * as React from \"react\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { setAlert } from \"../../actions/alert/alertActions\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\nimport { Wallet } from \"../../lib/wallets/wallet\";\nimport { Alert, AlertType } from \"../../reducers/types\";\n\n/**\n * VerificationPopup is a popup component for submitting KYC applications\n */\nclass VerificationPopupClass extends React.Component<Props, State> {\n    // tslint:disable-next-line:no-any\n    private handler: any;\n\n    public componentDidMount(): void {\n        const { closePopup } = this.props;\n\n        // tslint:disable-next-line:no-any\n        this.handler = new (window as any).Wyre.Widget({\n            accountId: window.WYRE_KEY,\n            auth: { type: \"metamask\" },\n            operation: {\n                type: \"none\"\n            },\n            onSuccess: () => {\n                closePopup();\n                this.props.actions.setAlert({\n                    alert: new Alert({ message: \"Your application was successfully submitted. Check back later to view the status of your application\", alertType: AlertType.Success })\n                });\n            },\n            // tslint:disable-next-line:no-any\n            onExit: (error: any) => {\n                if (error != null) {\n                    _captureInteractionException_(error, {\n                        description: \"Error in VerificationPopup.onExit\",\n                        shownToUser: \"As alert\",\n                    });\n                    closePopup();\n                    this.props.actions.setAlert({\n                        alert: new Alert({ message: \"There was an error submitting your application. Please try again later\", alertType: AlertType.Error })\n                    });\n                }\n            }\n        });\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const callbackURL = `${location.protocol}//${location.host}${location.pathname}`;\n        return <div className=\"popup kyc content\">\n            <h2>Verify your account</h2>\n            <p>Please submit a KYC application, or check back later to see if your application has been approved.</p>\n            <div className=\"popup--buttons\">\n                <a href={`https://kyber.network/oauth/authorize?client_id=${window.KYBER_KEY}&redirect_uri=${callbackURL}&response_type=code&state=${this.props.address},${this.props.wallet}`}>\n                    <button className=\"kyber--button\"><span>Login with Kyber</span></button>\n                </a>\n                <button className=\"wyre--button\" onClick={this.openWyreHandler}><span>Verify with Wyre</span></button>\n            </div>\n            <p>Note: Wyre currently supports US residents only.</p>\n        </div>;\n    }\n\n    public openWyreHandler = () => {\n        this.handler.open();\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        setAlert,\n    }, dispatch)\n});\n\ninterface Props extends ConnectedReturnType<typeof mapDispatchToProps> {\n    address: string;\n    wallet: Wallet;\n    closePopup(): void;\n}\n\ninterface State {\n}\n\nexport const VerificationPopup = connect(null, mapDispatchToProps)(VerificationPopupClass);\n","import * as Sentry from \"@sentry/browser\";\nimport * as React from \"react\";\n\nimport Web3 from \"web3\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { Provider } from \"web3/providers\";\n\nimport { setAlert } from \"../actions/alert/alertActions\";\nimport { clearPopup, setPopup } from \"../actions/popup/popupActions\";\nimport { login } from \"../actions/trader/accountActions\";\nimport { storeWallet } from \"../actions/trader/walletActions\";\nimport { _captureInteractionException_ } from \"../lib/errors\";\nimport { networkData } from \"../lib/network\";\nimport { ErrorCanceledByUser, ErrorVerificationFailed, Wallet, WalletDetails } from \"../lib/wallets/wallet\";\nimport { Alert, AlertType, ApplicationData } from \"../reducers/types\";\nimport { getParameterByName } from \"./pages/Home\";\nimport { SelectWeb3Account } from \"./popups/SelectWeb3Account\";\nimport { VerificationPopup } from \"./popups/VerificationPopup\";\n\n/**\n * WalletItem is a visual component representing an individual wallet selection\n */\nclass WalletItemClass extends React.Component<Props, State> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            referrer: \"\",\n            canceled: false\n        };\n    }\n\n    public componentDidMount(): void {\n        if (window.location.href.indexOf(\"?ref=\") !== -1) {\n            const referrer = getParameterByName(\"ref\");\n            if (referrer != null && referrer !== \"\" && this.state.referrer === \"\") {\n                this.setState({ referrer });\n            }\n        }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { wallet } = this.props;\n        const walletDetails = WalletDetails.get(wallet, undefined);\n\n        if (walletDetails === undefined) {\n            return <></>;\n        }\n\n        const { slug, enabled, description, name } = walletDetails;\n\n        return (\n            <div className={`wallets--container ${slug} ${enabled ? \"\" : \"disabled\"}`}>\n                <div\n                    className=\"wallets--item\"\n                    role=\"button\"\n                    onClick={this.handleSelectWallet}\n                >\n                    <span className=\"wallets--title\">{name}</span>\n                    <p className=\"wallets--description\">\n                        {!enabled ?\n                            \"Coming soon\" : null\n                        }\n                        {enabled && description !== \"\" ?\n                            description : null\n                        }\n                    </p>\n                </div>\n            </div>\n        );\n    }\n\n    private readonly handleSelectWallet = async (): Promise<void> => {\n        const { sdk, wallet, seenMigrationMap } = this.props;\n        const { referrer } = this.state;\n\n        const walletDetails = WalletDetails.get(wallet, undefined);\n        if (!walletDetails) {\n            return;\n        }\n\n        Sentry.configureScope((scope) => {\n            scope.setExtra(\"wallet\", walletDetails.slug);\n        });\n\n        const { getWeb3Provider } = walletDetails;\n\n        this.setState({ canceled: false });\n        this.props.actions.storeWallet({ wallet });\n\n        // Retrieve web3.\n        let provider: Provider;\n        let providerAccounts: string[] | null;\n        try {\n            [provider, providerAccounts] = await getWeb3Provider();\n        } catch (error) {\n            if (error.message !== ErrorCanceledByUser) {\n\n                _captureInteractionException_(error, {\n                    description: \"Error in WalletItem.handleSelectWallet\",\n                    shownToUser: \"As alert\",\n                });\n                this.props.actions.setAlert({\n                    alert: new Alert({ message: error.message })\n                });\n            }\n            this.props.actions.storeWallet({ wallet: null });\n\n            return;\n        }\n\n        const resolve = async (address: string, url: string | null) => {\n            const seenMigration = seenMigrationMap.get(address, false);\n\n            await this.props.actions.login(sdk, provider, address, seenMigration, { redirect: true, url });\n            this.props.actions.clearPopup();\n            this.props.actions.setAlert({\n                alert: new Alert({\n                    message: \"You have been successfully logged in\",\n                    alertType: AlertType.Success\n                })\n            });\n        };\n\n        const cancel = () => {\n            this.props.actions.clearPopup();\n\n            // Set the state to canceled, so any pending verification is\n            // halted.\n            this.setState({ canceled: true });\n        };\n\n        const reject = (address: string, reason: string) => {\n            if (reason === ErrorVerificationFailed) {\n                if (this.state.canceled) {\n                    return;\n                }\n                this.props.actions.setPopup({ popup: <VerificationPopup address={address} wallet={wallet} closePopup={cancel} />, onCancel: cancel });\n            } else {\n                cancel();\n            }\n        };\n\n        const getAccounts = async () => {\n            const web3 = new Web3(provider);\n\n            let accounts;\n            try {\n                accounts = providerAccounts ? providerAccounts : await web3.eth.getAccounts();\n            } catch (error) {\n                if (wallet === Wallet.Ledger && error.message.match(/invalid transport instance/)) {\n                    throw new Error(\"Unable to connect to Ledger.\");\n                } else {\n                    _captureInteractionException_(error, {\n                        description: \"Error in WalletItem.getAccounts\",\n                        shownToUser: \"In message box in SelectWeb3Popup\",\n                    });\n                    throw error;\n                }\n            }\n\n            if (accounts.length === 0) {\n                if (wallet === Wallet.MetaMask) {\n                    throw new Error(\"Please unlock your Metamask.\");\n                } else {\n                    throw new Error(\"No accounts found. Your wallet may be locked.\");\n                }\n            }\n\n            // Check that wallet is on correct network (except for Ledger and\n            // Keystore, for which we have already set the network)\n            if (wallet !== Wallet.Ledger && wallet !== Wallet.Keystore) {\n                // tslint:disable-next-line:no-any\n                const network = await (web3.eth.net as any).getNetworkType();\n\n                if (network !== networkData.ethNetwork) {\n                    throw new Error(`Please ensure you are on the ${networkData.ethNetworkLabel} network`);\n                }\n            }\n\n            return accounts;\n        };\n\n        const popup = {\n            popup: <SelectWeb3Account referrer={referrer} getAccounts={getAccounts} resolve={resolve} reject={reject} message={\"Select account\"} />,\n            onCancel: cancel,\n        };\n\n        this.props.actions.setPopup(popup);\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    sdk: state.sdk.sdk,\n    url: state.trader.url,\n    seenMigrationMap: state.trader.seenMigrationMap,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        setAlert,\n        storeWallet,\n        setPopup,\n        clearPopup,\n        login,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n    wallet: Wallet;\n}\n\ninterface State {\n    referrer: string;\n    canceled: boolean;\n}\n\nexport const WalletItem = connect(mapStateToProps, mapDispatchToProps)(WalletItemClass);\n","import * as React from \"react\";\n\nimport { List } from \"immutable\";\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { clearPopup, setPopup } from \"../actions/popup/popupActions\";\nimport { WalletItem } from \"../components/WalletItem\";\nimport { Wallet, WalletList } from \"../lib/wallets/wallet\";\n\n/**\n * Wallets displays a selection of wallets (MetaMask, Ledger, etc.)\n */\nclass WalletsClass extends React.Component<Props> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        return (\n            <div className=\"section wallets\">\n                <div className=\"container\">\n                    <div className=\"wallets--wrapper\">\n                        {this.listWallets()}\n                    </div>\n                    <p className=\"wallets--disclaimer\">\n                        Your trades and transactions are stored locally within your browser.\n                        {/*By proceeding, you agree to the <span onClick={this.handleClick}>Terms &amp; Conditions</span>.*/}\n                    </p>\n                </div>\n            </div>\n        );\n    }\n\n    private readonly listWallets = (): List<React.ReactNode> => {\n        return WalletList.map((wallet: Wallet, i: number) => {\n            return (\n                <WalletItem key={i} wallet={wallet} />\n            );\n        });\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        clearPopup,\n        setPopup,\n    }, dispatch)\n});\n\ninterface Props extends ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\nexport const Wallets = connect(null, mapDispatchToProps)(WalletsClass);\n","import * as React from \"react\";\n\nimport Axios from \"axios\";\nimport Web3 from \"web3\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { Redirect } from \"react-router\";\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { setAlert } from \"../../actions/alert/alertActions\";\nimport { login } from \"../../actions/trader/accountActions\";\nimport { storeWallet } from \"../../actions/trader/walletActions\";\nimport { Header } from \"../../components/Header\";\nimport { HiddenOrderbook } from \"../../components/HiddenOrderbook\";\nimport { Loading } from \"../../components/Loading\";\nimport { MarketBanner } from \"../../components/MarketBanner\";\nimport { Wallets } from \"../../components/Wallets\";\nimport { _captureInteractionException_ } from \"../../lib/errors\";\nimport { Wallet, WalletDetails } from \"../../lib/wallets/wallet\";\nimport { includesAddress } from \"../../lib/web3\";\nimport { Alert, AlertType, ApplicationData } from \"../../reducers/types\";\nimport { _catch_ } from \"../ErrorBoundary\";\n\n// Adapted from https://stackoverflow.com/a/901144\nexport const getParameterByName = (name: string) => {\n    const fixedName = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    const regex = new RegExp(`[?&]${fixedName}(=([^&#]*)|&|#|$)`);\n    const results = regex.exec(window.location.href);\n    if (!results) {\n        return null;\n    }\n    if (!results[2]) {\n        return \"\";\n    }\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n};\n\n/**\n * Home is a page whose principal components are wallet selection to allow users\n * to log-in, and the hidden orderbook\n */\nclass HomeClass extends React.Component<Props, HomeState> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            checkingVerification: false,\n        };\n    }\n\n    public async componentDidMount(): Promise<void> {\n        this.props.actions.storeWallet({ wallet: null });\n\n        if (window.location.href.indexOf(\"?code=\") !== -1) {\n            // Show loading state between verification checks\n            this.setState({ checkingVerification: true });\n\n            // Check verification\n            let verified, address, kyberUID, wallet, alert;\n            try {\n                ({ verified, address, kyberUID, wallet, alert } = await this.kyberVerification());\n            } catch (error) {\n                _captureInteractionException_(error, {\n                    description: \"Error in Home.componentDidMount.kyberVerification\",\n                    shownToUser: \"No\",\n                });\n            }\n\n            if (verified && address !== undefined && kyberUID !== undefined && wallet !== undefined) {\n                try {\n                    await this.handleForwardLogin(address, wallet);\n                } catch (error) {\n                    _captureInteractionException_(error, {\n                        description: \"Error in Home.componentDidMount.handleForwardLogin\",\n                        shownToUser: \"No\",\n                    });\n                }\n            } else if (!verified && alert) {\n                this.props.actions.setAlert({ alert });\n            }\n            this.setState({ checkingVerification: false });\n        }\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { checkingVerification } = this.state;\n        const { address } = this.props;\n\n        if (address) {\n            return <Redirect to=\"/exchange\" />;\n        }\n\n        return (\n            <div className=\"home\">\n                {checkingVerification &&\n                    <>\n                        <div className=\"popup\">\n                            <Loading />\n                        </div>\n                        <div className=\"overlay\" />\n                    </>\n                }\n                {_catch_(<MarketBanner />)}\n                {_catch_(<Header withMenu={false} />)}\n                {_catch_(<Wallets />)}\n                <div className=\"content\">\n                    {_catch_(<HiddenOrderbook />)}\n                </div>\n            </div>\n        );\n    }\n\n    private async kyberVerification(): Promise<{ verified: boolean; address?: string; kyberUID?: string; wallet?: Wallet; alert?: Alert }> {\n        const authCode = getParameterByName(\"code\");\n        const state = getParameterByName(\"state\");\n        if (state) {\n            const address = state.split(\",\")[0];\n            const wallet: Wallet = parseInt(state.split(\",\")[1], undefined);\n            const redirectURL = `${location.protocol}//${location.host}${location.pathname}`;\n            const data = {\n                address,\n                request: {\n                    grant_type: \"authorization_code\",\n                    code: authCode,\n                    redirect_uri: redirectURL,\n                    client_id: window.KYBER_KEY\n                }\n            };\n            try {\n                const response = await Axios.post(`${window.NETWORK.ingress}/kyber`, JSON.stringify(data));\n                const kyberUID = response.data.uid;\n                const lowerCaseAddresses = response.data.active_wallets.map((value: string) => value.toLowerCase());\n                if (!address) {\n                    throw new Error(\"Unable to retrieve address from Kyber response\");\n                }\n                if (response.data.kyc_status !== \"approved\") {\n                    throw new Error(`Received unexpected Kyber status: ${response.data.kyc_status}`);\n                }\n                if (lowerCaseAddresses.indexOf(address.toLowerCase()) === -1) {\n                    throw new Error(`Address ${address} not authorized with Kyber`);\n                }\n                return { verified: true, address, kyberUID, wallet };\n            } catch (error) {\n                let alert: Alert;\n                if (error.response && error.response.status === 401) {\n                    alert = new Alert({\n                        message: `Your Kyber account has not been verified with address ${address}. Please verify and check back later`\n                    });\n                } else {\n                    _captureInteractionException_(error, { description: \"Error in kyberVerification\", shownToUser: \"As alert\" });\n\n                    alert = new Alert({\n                        message: `Unable to retrieve account verification details. Please try again later`\n                    });\n                }\n\n                return { verified: false, alert };\n            }\n        } else {\n            _captureInteractionException_(new Error(\"Not enough information for Kyber KYC\"), {\n                description: \"Error caught in Home.kyberVerification\",\n                shownToUser: \"No\",\n            });\n\n            return { verified: false };\n        }\n    }\n\n    private async handleForwardLogin(address: string, wallet: Wallet): Promise<void> {\n        const { actions, sdk, url, seenMigrationMap } = this.props;\n        const walletDetails = WalletDetails.get(wallet, undefined);\n\n        if (!walletDetails) {\n            throw new Error(\"Logged in to an invalid wallet.\");\n        }\n\n        // tslint:disable-next-line:whitespace\n        const [provider,] = await walletDetails.getWeb3Provider(address);\n\n        if (await includesAddress(new Web3(provider), address)) {\n            const seenMigration = seenMigrationMap.get(address, false);\n            await actions.login(sdk, provider, address, seenMigration, { redirect: true, url });\n            actions.setAlert({\n                alert: new Alert({\n                    message: \"Successfully logged in via Kyber verification\",\n                    alertType: AlertType.Success\n                })\n            });\n            return;\n        }\n\n        throw new Error(\"Logged in to a non-verified address.\");\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    sdk: state.sdk.sdk,\n    address: state.trader.address,\n    url: state.trader.url,\n    seenMigrationMap: state.trader.seenMigrationMap,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        login,\n        storeWallet,\n        setAlert,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface HomeState {\n    checkingVerification: boolean;\n}\n\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(HomeClass);\n","import * as React from \"react\";\n\nimport { Loading } from \"../../components/Loading\";\n\n/**\n * LoggingOut is a page which shows a single loading spinner. This page is\n * displayed while the page is being refreshed on log-out.\n */\nexport const LoggingOut: React.StatelessComponent = () =>\n    <div className=\"logging-out\">\n        <Loading />\n    </div>;\n","import * as React from \"react\";\n\nimport { BalanceBanner } from \"../../components/BalanceBanner\";\nimport { ExecutedTrades } from \"../../components/ExecutedTrades\";\nimport { Header } from \"../../components/Header\";\nimport { MarketBanner } from \"../../components/MarketBanner\";\nimport { SubmittedTrades } from \"../../components/SubmittedTrades\";\nimport { _catch_ } from \"../ErrorBoundary\";\n\n/**\n * Orders is a page whose principal component is a list of the trader's orders\n * and a list of execution details\n */\nexport const Orders = () =>\n    <div className=\"orders\">\n        {_catch_(<MarketBanner />)}\n        {_catch_(<Header withMenu={true} />)}\n\n        {_catch_(<BalanceBanner />)}\n\n        <div className=\"content\">\n            {_catch_(<SubmittedTrades />)}\n            {_catch_(<ExecutedTrades />)}\n        </div>\n    </div>;\n","import * as React from \"react\";\n\nimport { connect } from \"react-redux\"; // Custom typings\n\nimport { ApplicationData, PopupDetails } from \"../reducers/types\";\nimport { _catch_ } from \"./ErrorBoundary\";\n\n/**\n * Popup is a visual component for displaying an arbitrary component in the\n * foreground with the rest of the page in the background\n */\nclass PopupClass extends React.Component<Props> {\n    constructor(props: Props) {\n        super(props);\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n\n        if (this.props.popups.size === 0) {\n            return <></>;\n        }\n\n        return this.props.popups.map((popupDetails: PopupDetails, index: number) => {\n            const { popup, onCancel } = popupDetails;\n\n            console.log(popup);\n\n            return (\n                <div key={index} className=\"popup--outer\">\n                    <div role=\"none\" className=\"overlay\" onClick={this.onClickHandler} />\n                    {_catch_(popup, { popup: true, onCancel })}\n                </div>\n            );\n        });\n    }\n\n    public onClickHandler = () => {\n        const { dismissible, onCancel } = this.props.popups.last();\n        if (dismissible) {\n            onCancel();\n        }\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    popups: state.popup.stack,\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n}\n\nexport const Popup = connect(mapStateToProps)(PopupClass);\n","import { createStandardAction } from \"typesafe-actions\";\n\nexport const agreeToTerms = createStandardAction(\"AGREE_TO_TERMS\")<{ agreedToTerms: boolean }>();\n","import * as React from \"react\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { clearPopup, SetPopupPayload } from \"../../actions/popup/popupActions\";\nimport { agreeToTerms } from \"../../actions/trader/termsActions\";\n\n/**\n * TermsPopup is a popup component for displaying terms and conditions\n */\nclass TermsPopupClass extends React.Component<Props, State> {\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            scrollBottom: false,\n        };\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { scrollBottom } = this.state;\n        return (\n            <div className=\"popup terms\">\n                <h2>End User License Agreement</h2>\n                <div className=\"terms--content\" onScroll={this.handleScroll}>\n                    <p>Please read this EULA carefully, as it sets out the basis upon which we license the Software for use. Before you download the Software from our website, we will ask you to give your express agreement to the provisions of this EULA. By agreeing to be bound by this EULA, you further agree that any person you authorise to use the Software will comply with the provisions of this EULA.</p>\n                    <p><b>AGREEMENT</b></p>\n                    <ol>\n                        <li>\n                            Definitions\n                            <ol>\n                                <li>\n                                    Except to the extent expressly provided otherwise, in this EULA:<br />\n                                    &ldquo;Dappbase Ventures Limited&rdquo; means the company incorporated in the British Virgin Islands (company number 1959524), with its registered office at Vistra Corporate Services Centre, Wickhams Cay II, Road Town, Tortola, VG 1110, British Virgin Islands;<br />\n                                    &ldquo;Documentation&rdquo; means the documentation for the Software produced by the Licensor and delivered or made available by the Licensor to the User;<br />\n                                    &ldquo;Effective Date&rdquo; means the date upon which the User gives the User&apos;s express consent to this EULA, following the issue of this EULA by the Licensor;<br />\n                                    &ldquo;EULA&rdquo; means this end user licence agreement, including any amendments to this end user licence agreement from time to time;<br />\n                                    &ldquo;Fees&rdquo; means the fees imposed on the User by the Licensor as specified on the Licensor’s website at <a href=\"https://republicprotocol.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://republicprotocol.com/</a>;<br />\n                                    &ldquo;Force Majeure Event&rdquo; means an event, or a series of related events, that is outside the reasonable control of the party affected (including failures of the internet or any public telecommunications network, hacker attacks, denial of service attacks, virus or other malicious software attacks or infections, power failures, industrial disputes affecting any third party, changes to the law, disasters, explosions, fires, floods, riots, terrorist attacks and wars);<br />\n                                    &ldquo;Intellectual Property Rights&rdquo; means all intellectual property rights wherever in the world, whether registrable or unregistrable, registered or unregistered, including any application or right of application for such rights (and these &ldquo;intellectual property rights&rdquo; include copyright and related rights, database rights, confidential information, trade secrets, know-how, business names, trade names, trademarks, service marks, passing off rights, unfair competition rights, patents, petty patents, utility models, semi-conductor topography rights and rights in designs);<br />\n                                    &ldquo;Licensor&rdquo; means Dappbase Ventures Limited (the company that owns the businesses associated with &ldquo;RenEx&rdquo;, and the &ldquo;Republic Protocol&rdquo; trademark name), a company incorporated in the British Virgin Islands (company number 1959524), with its registered office at Vistra Corporate Services Centre, Wickhams Cay II, Road Town, Tortola, VG 1110, British Virgin Islands;<br />\n                                    &ldquo;Maintenance Services&rdquo; means the supply to the User and application to the Software of Updates and Upgrades;<br />\n                                    &ldquo;Minimum Term&rdquo; means, in respect of this EULA, the period of 12 months beginning on the Effective Date;<br />\n                                    &ldquo;Payments&rdquo; means the method for payment of fees imposed on the User by the Licensor as specified on the Licensor’s website at <a href=\"https://republicprotocol.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://republicprotocol.com/</a>;<br />\n                                    &ldquo;RenEx&rdquo; means the software platform provided by the Licensor that facilitates a decentralized dark pool exchange under the &ldquo;Republic Protocol&rdquo; trademark for the trading of digital assets;<br />\n                                    &ldquo;Republic Protocol&rdquo; means the trademark name under which the Licensor operates the its platform protocol for the building and operating of decentralized dark pool exchanges, including the RenEx dark pool exchange platform, including all related research, development and commercial activities;<br />\n                                    &ldquo;Services&rdquo; means any services that the Licensor provides to the User, or has an obligation to provide to the User, under this EULA;<br />\n                                    &ldquo;Software&rdquo; means software relating to the RenEx dark pool platform operated under the Republic Protocol trademark by the Licensor;<br />\n                                    &ldquo;Software Defect&rdquo; means a defect, error or bug in the Software having a material adverse effect on the appearance, operation, functionality or performance of the Software, but excluding any defect, error or bug caused by or arising as a result of:\n                                    <ol type=\"a\">\n                                        <li>any act or omission of the User or any person authorised by the User to use the Software;</li>\n                                        <li>any use of the Software contrary to the Documentation by the User or any person authorised by the User to use the Software;</li>\n                                        <li>a failure of the User to perform or observe any of its obligations in this EULA; and/or</li>\n                                        <li>an incompatibility between the Software and any other system, network, application, program, hardware or software not specified as compatible in the Software Specification;</li>\n                                    </ol>\n                                    &ldquo;Software Specification&rdquo; means the specification for the Software set out in the Documentation;<br />\n                                    &ldquo;Source Code&rdquo; means the Software code in human-readable form or any part of the Software code in human-readable form, including code compiled to create the Software or decompiled from the Software, but excluding interpreted code comprised in the Software;<br />\n                                    &ldquo;Support Services&rdquo; means support in relation to the use of the Software and the identification and resolution of errors in the Software, but shall not include the provision of training services whether in relation to the Software or otherwise;<br />\n                                    &ldquo;Term&rdquo; means the term of this EULA, commencing in accordance with Clause 3.1 and ending in accordance with Clause 3.2;<br />\n                                    &ldquo;Update&rdquo; means a hotfix, patch or minor version update to the Software;<br />\n                                    &ldquo;Upgrade&rdquo; means a major version upgrade of the Software;<br />\n                                    &ldquo;User&rdquo; means the person to whom the Licensor grants a right to use the Software under this EULA; and<br />\n                                    &ldquo;User Indemnity Event&rdquo; has the meaning given to it in Clause 13.1.\n                                </li>\n                            </ol>\n                        </li>\n                        <li>\n                            Credit\n                            <ol>\n                                <li>This document was created using a template from SEQ Legal (<a href=\"https://seqlegal.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://seqlegal.com</a>).</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Term\n                            <ol>\n                                <li>This EULA shall come into force upon the Effective Date.</li>\n                                <li>This EULA shall continue in force indefinitely, subject to termination in accordance with Clause 15 or any other provision of this EULA.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Licence\n                            <ol>\n                                <li>\n                                    The Licensor hereby grants to the User from the date of supply of the Software to the User until the end of the Term a worldwide, non-exclusive licence to:\n                                    <ol type=\"a\">\n                                        <li>install the Software; and</li>\n                                        <li>use the Software in accordance with the Documentation.</li>\n                                    </ol>\n                                    subject to the limitations and prohibitions set out and referred to in this Clause 4.\n                                </li>\n                                <li>The User may not sub-license and must not purport to sub-license any rights granted under Clause 4.1.</li>\n                                <li>\n                                    Save to the extent expressly permitted by this EULA or required by applicable law on a non-excludable basis, any licence granted under this Clause 4 shall be subject to the following prohibitions:\n                                    <ol type=\"a\">\n                                        <li>the User must not sell, resell, rent, lease, loan, supply, publish, distribute or redistribute the Software;</li>\n                                        <li>the User must not alter, edit or adapt the Software; and</li>\n                                        <li>the User must not decompile, de-obfuscate or reverse engineer, or attempt to decompile, de-obfuscate or reverse engineer, the Software.</li>\n                                    </ol>\n                                </li>\n                                <li>The User shall be responsible for the security of copies of the Software supplied to the User under this EULA (or created from such copies) and shall use all reasonable endeavours (including all reasonable security measures) to ensure that access to such copies is restricted to persons authorised to use them under this EULA.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Source Code\n                            <ol>\n                                <li>Nothing in this EULA shall give to the User or any other person any right to access or use the Source Code or constitute any licence of the Source Code.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Maintenance Services\n                            <ol>\n                                <li>The Licensor may provide Maintenance Services to the User at its absolute own discretion. The Licensor is under no obligation to the User to provide such Maintenance Services, except as it determines from time to time in line with any technical and/or operational needs it may identify.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Support Services\n                            <ol>\n                                <li>The Licensor may provide Support Services to the User at its absolute own discretion. The Licensor is under no obligation to the User to provide such Support Services, except as it determines from time to time in line with any technical and/or operational needs it may identify.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            No assignment of Intellectual Property Rights\n                            <ol>\n                                <li>Nothing in this EULA shall operate to assign or transfer any Intellectual Property Rights from the Licensor to the User, or from the User to the Licensor.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Fees\n                            <ol>\n                                <li>The User shall pay any relevant Fees that may be imposed by the Licensor for the use of its software, as specified on its website at <a href=\"https://republicprotocol.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://republicprotocol.com/</a></li>\n                                <li>All amounts stated in or in relation to this EULA are, unless the context requires otherwise, stated on its website at <a href=\"https://republicprotocol.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://republicprotocol.com/</a></li>\n                            </ol>\n                        </li>\n                        <li>\n                            Payments\n                            <ol>\n                                <li>Any relevant Payments will be deducted by the Licensor from the User for the use of its Software in accordance with the processes outlined on its website at <a href=\"https://republicprotocol.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://republicprotocol.com/</a></li>\n                            </ol>\n                        </li>\n                        <li>\n                            Warranties\n                            <ol>\n                                <li>The Licensor warrants to the User that it has the legal right and authority to enter into this EULA and to perform its obligations under this EULA.</li>\n                                <li>The User warrants to the Licensor that it has the legal right and authority to enter into this EULA and to perform its obligations under this EULA.</li>\n                                <li>All of the parties' warranties and representations in respect of the subject matter of this EULA are expressly set out in this EULA. To the maximum extent permitted by applicable law, no other warranties or representations concerning the subject matter of this EULA will be implied into this EULA or any related contract.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Acknowledgements and warranty limitations\n                            <ol>\n                                <li>The User acknowledges that complex software is never wholly free from defects, errors and bugs; and subject to the other provisions of this EULA, the Licensor gives no warranty or representation that the Software will be wholly free from defects, errors and bugs.</li>\n                                <li>The User acknowledges that complex software is never entirely free from security vulnerabilities; and subject to the other provisions of this EULA, the Licensor gives no warranty or representation that the Software will be entirely secure.</li>\n                                <li>The User acknowledges that the Software is only designed to be compatible with that software specified as compatible in the Software Specification; and the Licensor does not warrant or represent that the Software will be compatible with any other software.</li>\n                                <li>The User acknowledges that the Licensor will not provide any legal, financial, accounting or taxation advice under this EULA or in relation to the Software; and, except to the extent expressly provided otherwise in this EULA, the Licensor does not warrant or represent that the Software or the use of the Software by the User will not give rise to any legal liability on the part of the User or any other person.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Indemnities\n                            <ol>\n                                <li>The User shall indemnify and shall keep indemnified the Licensor against any and all liabilities, damages, losses, costs and expenses (including legal expenses and amounts reasonably paid in settlement of legal claims) suffered or incurred by the Licensor and arising directly or indirectly as a result of any breach by the User of this EULA (a \"User Indemnity Event\").</li>\n                                <li>\n                                    The Licensor must:\n                                    <ol type=\"a\">\n                                        <li>upon becoming aware of an actual or potential User Indemnity Event, notify the User;</li>\n                                        <li>provide to the User all such assistance as may be reasonably requested by the User in relation to the User Indemnity Event;</li>\n                                        <li>allow the User the exclusive conduct of all disputes, proceedings, negotiations and settlements with third parties relating to the User Indemnity Event; and</li>\n                                        <li>not admit liability to any third party in connection with the User Indemnity Event or settle any disputes or proceedings involving a third party and relating to the User Indemnity Event without the prior written consent of the User,</li>\n                                    </ol>\n                                    without prejudice to the User's obligations under Clause 13.1.\n                                </li>\n                                <li>The indemnity protection set out in this Clause 13 shall not be subject to the limitations and exclusions of liability set out in this EULA.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            Limitations and exclusions of liability\n                            <ol>\n                                <li>\n                                    Nothing in this EULA will:\n                                    <ol type=\"a\">\n                                        <li>limit or exclude any liability for death or personal injury resulting from negligence;</li>\n                                        <li>limit or exclude any liability for fraud or fraudulent misrepresentation;</li>\n                                        <li>limit any liabilities in any way that is not permitted under applicable law; or</li>\n                                        <li>exclude any liabilities that may not be excluded under applicable law,</li>\n                                    </ol>\n                                    and, if a party is a consumer, that party's statutory rights will not be excluded or limited by this EULA, except to the extent permitted by law.\n                                </li>\n                                <li>\n                                    The limitations and exclusions of liability set out in this Clause 14 and elsewhere in this EULA:\n                                    <ol type=\"a\">\n                                        <li>are subject to Clause 14.1; and</li>\n                                        <li>govern all liabilities arising under this EULA or relating to the subject matter of this EULA, including liabilities arising in contract, in tort (including negligence) and for breach of statutory duty, except to the extent expressly provided otherwise in this EULA.</li>\n                                    </ol>\n                                </li>\n                                <li>The Licensor will not be liable to the User in respect of any losses arising out of a Force Majeure Event.</li>\n                                <li>The Licensor will not be liable to the User in respect of any loss of profits or anticipated savings.</li>\n                                <li>The Licensor will not be liable to the User in respect of any loss of revenue or income.</li>\n                                <li>The Licensor will not be liable to the User in respect of any loss of business, contracts or opportunities.</li>\n                                <li>The Licensor will not be liable to the User in respect of any loss or corruption of any data, database or software.</li>\n                                <li>The Licensor will not be liable to the User in respect of any special, indirect or consequential loss or damage.</li>\n                                <li>\n                                    The liability of the Licensor to the User under this EULA in respect of any event or series of related events shall not exceed the greater of:\n                                    <ol type=\"a\">\n                                        <li>the total amount paid and payable by the User to the Licensor under this EULA.</li>\n                                    </ol>\n                                </li>\n                                <li>\n                                    The aggregate liability of the Licensor to the User under this EULA shall not exceed the greater of:\n                                    <ol type=\"a\">\n                                        <li>the total amount paid and payable by the User to the Licensor under this EULA.</li>\n                                    </ol>\n                                </li>\n                            </ol>\n                        </li>\n                        <li>\n                            Termination\n                            <ol>\n                                <li>The Licensor may terminate this EULA at its absolute own discretion by giving to the User written notice of termination.</li>\n                                <li>The User may terminate this EULA by giving to the Licensor not less than 30 days' written notice of termination, expiring at the end of any calendar month.</li>\n                                <li>\n                                    Either party may terminate this EULA immediately by giving written notice of termination to the other party if:\n                                    <ol type=\"a\">\n                                        <li>the other party commits any material breach of this EULA, and the breach is not remediable;</li>\n                                        <li>the other party commits a material breach of this EULA, and the breach is remediable but the other party fails to remedy the breach within the period of 30 days following the giving of a written notice to the other party requiring the breach to be remedied; or</li>\n                                        <li>the other party persistently breaches this EULA (irrespective of whether such breaches collectively constitute a material breach).</li>\n                                    </ol>\n                                </li>\n                                <li>\n                                    Either party may terminate this EULA immediately by giving written notice of termination to the other party if:\n                                    <ol type=\"a\">\n                                        <li>\n                                            the other party:\n                                            <ol type=\"i\">\n                                                <li>is dissolved;</li>\n                                                <li>ceases to conduct all (or substantially all) of its business;</li>\n                                                <li>is or becomes unable to pay its debts as they fall due;</li>\n                                                <li>is or becomes insolvent or is declared insolvent; or</li>\n                                                <li>convenes a meeting or makes or proposes to make any arrangement or composition with its creditors;</li>\n                                            </ol>\n                                        </li>\n                                        <li>an administrator, administrative receiver, liquidator, receiver, trustee, manager or similar is appointed over any of the assets of the other party;</li>\n                                        <li>an order is made for the winding up of the other party, or the other party passes a resolution for its winding up (other than for the purpose of a solvent company reorganisation where the resulting entity will assume all the obligations of the other party under this EULA); or</li>\n                                        <li>\n                                            if that other party is an individual:\n                                            <ol type=\"i\">\n                                                <li>that other party dies;</li>\n                                                <li>as a result of illness or incapacity, that other party becomes incapable of managing his or her own affairs; or</li>\n                                                <li>that other party is the subject of a bankruptcy petition or order.</li>\n                                            </ol>\n                                        </li>\n                                    </ol>\n                                </li>\n                            </ol>\n                        </li>\n                        <li>\n                            Effects of termination\n                            <ol>\n                                <li>Upon the termination of this EULA, all of the provisions of this EULA shall cease to have effect, save that the following provisions of this EULA shall survive and continue to have effect (in accordance with their express terms or otherwise indefinitely): Clauses 1, 4.1, 10.1, 13, 14, 16, 17 and 18.</li>\n                                <li>Except to the extent that this EULA expressly provides otherwise, the termination of this EULA shall not affect the accrued rights of either party.</li>\n                                <li>\n                                    Within 30 days following the termination of this EULA for any reason:\n                                    <ol type=\"a\">\n                                        <li>the User must pay to the Licensor any Charges in respect of Services provided to the User before the termination of this EULA and in respect of licences in effect before the termination of this EULA; and</li>\n                                        <li>the Licensor must refund to the User any Charges paid by the User to the Licensor in respect of Services that were to be (but are not) provided to the User after the termination of this EULA and in respect of licences that were to be (but are not) in effect after the termination of this EULA,</li>\n                                    </ol>\n                                    without prejudice to the parties' other legal rights.\n                                </li>\n                                <li>For the avoidance of doubt, the licences of the Software in this EULA shall terminate upon the termination of this EULA; and, accordingly, the User must immediately cease to use the Software upon the termination of this EULA.</li>\n                                <li>\n                                    Within 10 Business Days following the termination of this EULA, the User must:\n                                    <ol type=\"a\">\n                                        <li>return to the Licensor or dispose of as the Licensor may instruct all media in its possession or control containing the Software; and</li>\n                                        <li>irrevocably delete from all computer systems in its possession or control all copies of the Software.</li>\n                                    </ol>\n                                </li>\n                            </ol>\n                        </li>\n                        <li>\n                            General\n                            <ol>\n                                <li>No breach of any provision of this EULA shall be waived except with the express written consent of the party not in breach.</li>\n                                <li>If any provision of this EULA is determined by any court or other competent authority to be unlawful and/or unenforceable, the other provisions of this EULA will continue in effect. If any unlawful and/or unenforceable provision would be lawful or enforceable if part of it were deleted, that part will be deemed to be deleted, and the rest of the provision will continue in effect (unless that would contradict the clear intention of the parties, in which case the entirety of the relevant provision will be deemed to be deleted).</li>\n                                <li>This EULA may not be varied except by a written document signed by or on behalf of each of the parties.</li>\n                                <li>The User hereby agrees that the Licensor may assign the Licensor's contractual rights and obligations under this EULA to any successor to all or a substantial part of the business of the Licensor from time to time. The User must not without the prior written consent of the Licensor assign, transfer or otherwise deal with any of the User's contractual rights or obligations under this EULA.</li>\n                                <li>This EULA is made for the benefit of the parties, and is not intended to benefit any third party or be enforceable by any third party. The rights of the parties to terminate, rescind, or agree any amendment, waiver, variation or settlement under or relating to this EULA are not subject to the consent of any third party.</li>\n                                <li>Subject to Clause 14.1, this EULA shall constitute the entire agreement between the parties in relation to the subject matter of this EULA, and shall supersede all previous agreements, arrangements and understandings between the parties in respect of that subject matter.</li>\n                                <li>This EULA shall be governed by and construed in accordance with the laws of the British Virgin Isles.</li>\n                                <li>The courts of the British Virgin Isles shall have exclusive jurisdiction to adjudicate any dispute arising under or in connection with this EULA.</li>\n                            </ol>\n                        </li>\n                        <li>\n                            <ol>\n                                <li>\n                                    In this EULA, a reference to a statute or statutory provision includes a reference to:\n                                    <ol type=\"a\">\n                                        <li>that statute or statutory provision as modified, consolidated and/or re-enacted from time to time; and</li>\n                                        <li>any subordinate legislation made under that statute or statutory provision.</li>\n                                    </ol>\n                                </li>\n                                <li>The Clause headings do not affect the interpretation of this EULA.</li>\n                                <li>References in this EULA to \"calendar months\" are to the 12 named periods (January, February and so on) into which a year is divided.</li>\n                                <li>In this EULA, general words shall not be given a restrictive interpretation by reason of being preceded or followed by words indicating a particular class of acts, matters or things.</li>\n                            </ol>\n                        </li>\n                    </ol>\n                </div>\n                <p>By proceeding, you accept the above EULA agreement as well as the <a href=\"/terms-and-conditions.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">Terms &amp; Conditions</a> and <a href=\"/privacy-policy.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a>.</p>\n                <button disabled={!scrollBottom} onClick={this.handleAgreement}>\n                    <p>Accept &amp; Continue</p>\n                </button>\n            </div>\n        );\n    }\n\n    private readonly handleScroll = (e: React.UIEvent<HTMLDivElement>): void => {\n        const bottom = e.currentTarget.scrollHeight - e.currentTarget.scrollTop <= e.currentTarget.clientHeight + 30;\n        if (bottom) {\n            this.setState({ scrollBottom: true });\n        }\n    }\n\n    private readonly handleAgreement = (): void => {\n        this.props.actions.agreeToTerms({ agreedToTerms: true });\n        this.props.actions.clearPopup();\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        agreeToTerms,\n        clearPopup,\n    }, dispatch)\n});\n\ninterface Props extends ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n    scrollBottom: boolean;\n}\n\nconst TermsPopup = connect(null, mapDispatchToProps)(TermsPopupClass);\n\nexport const newTermsPopup = (onCancelAction: () => void): SetPopupPayload => ({\n    popup: <TermsPopup />,\n    dismissible: false,\n    onCancel: onCancelAction,\n});\n","import * as React from \"react\";\n\nimport Web3 from \"web3\";\n\nimport { connect, ConnectedReturnType } from \"react-redux\"; // Custom typings\nimport { Redirect, Route, RouteComponentProps, Router, withRouter } from \"react-router-dom\";\nimport { bindActionCreators, Dispatch } from \"redux\";\n\nimport { setAlert } from \"../actions/alert/alertActions\";\nimport { clearPopup, setPopup } from \"../actions/popup/popupActions\";\nimport { login, logout, storeURL } from \"../actions/trader/accountActions\";\nimport { _captureBackgroundException_, _captureInteractionException_ } from \"../lib/errors\";\nimport { history } from \"../lib/history\";\nimport { getInjectedWeb3Provider } from \"../lib/wallets/web3browser\";\nimport { includesAddress } from \"../lib/web3\";\nimport { Alert, AlertType, ApplicationData } from \"../reducers/types\";\nimport { Alerts } from \"./Alerts\";\nimport { BackgroundTasks } from \"./BackgroundTasks\";\nimport { _catch_ } from \"./ErrorBoundary\";\nimport { Balances } from \"./pages/Balances\";\nimport { Exchange } from \"./pages/Exchange\";\nimport { Home } from \"./pages/Home\";\nimport { LoggingOut } from \"./pages/LoggingOut\";\nimport { Orders } from \"./pages/Orders\";\nimport { Popup } from \"./Popup\";\nimport { newTermsPopup } from \"./popups/TermsPopup\";\n\n// Scroll restoration based on https://reacttraining.com/react-router/web/guides/scroll-restoration\nconst ScrollToTop = withRouter(\n    // tslint:disable-next-line:no-any\n    class ScrollToTopWithoutRouter extends React.Component<RouteComponentProps<any>> {\n        // tslint:disable-next-line:no-any\n        public componentDidUpdate(prevProps: Readonly<RouteComponentProps<any>>): void {\n            if (this.props.location !== prevProps.location) {\n                window.scrollTo(0, 0);\n            }\n        }\n\n        /**\n         * The main render function.\n         * @dev Should have minimal computation, loops and anonymous functions.\n         */\n        public render(): React.ReactNode {\n            return <></>;\n        }\n    }\n);\n\n/**\n * App is the main visual component responsible for displaying different routes\n * and running background app loops\n */\nclass AppClass extends React.Component<Props, State> {\n\n    public constructor(props: Props, context: object) {\n        super(props, context);\n        this.state = {\n            checkingReLogin: false,\n        };\n    }\n\n    public async componentDidMount(): Promise<void> {\n        const { agreedToTerms, sdk } = this.props;\n\n        this.setState({ checkingReLogin: true });\n\n        // Check if user was logged-in already\n        const loggedIn = await this.handleReLogin();\n        if (!loggedIn) {\n            await this.props.actions.logout(sdk, { reload: false });\n        }\n        this.setState({ checkingReLogin: false });\n\n        if (!agreedToTerms) {\n            this.props.actions.setPopup(newTermsPopup(this.props.actions.clearPopup));\n        }\n    }\n\n    /**\n     * withAccount restricts a component to rendering only if the user is logged\n     * in.\n     */\n    public withAccount = <T extends React.ComponentClass | React.StatelessComponent>(component: T): React.ComponentClass | React.StatelessComponent => {\n        const { address } = this.props;\n        const { checkingReLogin } = this.state;\n\n        // Show a loading spinner if retrieving the web3 instance is taking a\n        // while (for example, when requesting MetaMask access)\n        if (checkingReLogin) {\n            return () => <LoggingOut />;\n        }\n\n        if (!address) {\n            const pathname = window.location.pathname;\n            if (pathname !== \"/\" && pathname !== \"/loading\") {\n                this.props.actions.setAlert({\n                    alert: new Alert({ message: \"You are not logged in. Please select your wallet to continue\", alertType: AlertType.Warning })\n                });\n                this.props.actions.storeURL(pathname);\n            }\n\n            return () => <Redirect to=\"/\" />;\n        }\n\n        return component;\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        return (\n            <Router history={history}>\n                <div className=\"app\">\n                    {_catch_(<BackgroundTasks />)}\n                    <ScrollToTop />\n                    <Route path=\"/\" exact component={Home} />\n                    <Route path=\"/exchange\" component={this.withAccount(Exchange)} />\n                    <Route path=\"/orders\" component={this.withAccount(Orders)} />\n                    <Route path=\"/balances\" component={this.withAccount(Balances)} />\n                    <Route path=\"/loading\" component={LoggingOut} />\n                    {_catch_(<Alerts />)}\n                    {_catch_(<Popup />)}\n                </div>\n            </Router>\n        );\n    }\n\n    /**\n     * handleReLogin checks if a user's previous logged-in session can be\n     * recovered. If it can't such as for keystore wallets and hardware wallets,\n     * it logs the user out.\n     */\n    private readonly handleReLogin = async (): Promise<boolean> => {\n        const { address, actions, sdk, url, seenMigrationMap } = this.props;\n        if (address) {\n            let provider;\n            try {\n                provider = await getInjectedWeb3Provider();\n            } catch (error) {\n                // Injected Web3 request was denied\n                return false;\n            }\n\n            const included = await includesAddress(new Web3(provider), address);\n            if (included) {\n                // These are repeated in login, but the page will log-out if the\n                // address is not available immediately\n                sdk.updateProvider(provider);\n                sdk.setAddress(address);\n\n                const seenMigration = seenMigrationMap.get(address, false);\n\n                await actions.login(sdk, provider, address, seenMigration, { redirect: false, url });\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n}\n\nconst mapStateToProps = (state: ApplicationData) => ({\n    address: state.trader.address,\n    agreedToTerms: state.trader.agreedToTerms,\n    seenMigrationMap: state.trader.seenMigrationMap,\n    sdk: state.sdk.sdk,\n    url: state.trader.url,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        clearPopup,\n        login,\n        logout,\n        setAlert,\n        setPopup,\n        storeURL,\n    }, dispatch)\n});\n\ninterface Props extends ReturnType<typeof mapStateToProps>, ConnectedReturnType<typeof mapDispatchToProps> {\n}\n\ninterface State {\n    /**\n     * When the page is first loaded, the component checks the user\n     * can be logged in automatically. While this is happening, we show a\n     * spinner based on if checkingReLogin is true or not.\n     */\n    checkingReLogin: boolean;\n}\n\nexport const App = connect(mapStateToProps, mapDispatchToProps)(AppClass);\n","import { combineReducers } from \"redux\";\n\nimport { alertReducer } from \"./alert/alertReducer\";\nimport { balancesReducer } from \"./balances/balancesReducer\";\nimport { inputsReducer } from \"./inputs/inputsReducer\";\nimport { marketReducer } from \"./market/marketReducer\";\nimport { hiddenBookReducer } from \"./orderbook/hiddenBookReducer\";\nimport { traderBookReducer } from \"./orderbook/traderBookReducer\";\nimport { popupReducer } from \"./popup/popupReducer\";\nimport { sdkReducer } from \"./sdk/sdkReducer\";\nimport { traderReducer } from \"./trader/traderReducer\";\n\nimport { ApplicationData } from \"./types\";\n\nexport const rootReducer = combineReducers<ApplicationData>({\n    alert: alertReducer,\n    balanceHistory: balancesReducer,\n    hiddenBook: hiddenBookReducer,\n    inputs: inputsReducer,\n    marketPrices: marketReducer,\n    popup: popupReducer,\n    traderBook: traderBookReducer,\n    trader: traderReducer,\n    sdk: sdkReducer,\n});\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as alertActions from \"../../actions/alert/alertActions\";\nimport * as pendingAlertActions from \"../../actions/alert/pendingAlertActions\";\n\nimport { Alert, AlertData } from \"../../reducers/types\";\n\ntype AlertAction = ActionType<typeof alertActions>;\ntype PendingAlertAction = ActionType<typeof pendingAlertActions>;\n\nexport const alertReducer = (state: AlertData = new AlertData(), action: AlertAction | PendingAlertAction) => {\n    switch (action.type) {\n        case getType(alertActions.setAlert):\n            return state.set(\"alert\", action.payload.alert);\n        case getType(alertActions.clearAlert):\n            return state.set(\"alert\", new Alert({ message: \"\" }));\n        case getType(pendingAlertActions.addPendingAlert):\n            const { id, method } = action.payload;\n            return state.set(\"pendingAlerts\", state.pendingAlerts.set(id, method));\n        case getType(pendingAlertActions.removePendingAlerts):\n            const { ids } = action.payload;\n            let pendingAlerts = state.pendingAlerts;\n            for (const alertID of ids) {\n                pendingAlerts = pendingAlerts.delete(alertID);\n            }\n\n            return state.set(\"pendingAlerts\", pendingAlerts);\n\n        default:\n            return state;\n    }\n};\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as balancesActions from \"../../actions/balances/balancesActions\";\n\nimport { BalanceHistory } from \"../../reducers/types\";\n\ntype BalancesAction = ActionType<typeof balancesActions>;\n\nexport const balancesReducer = (state: BalanceHistory = new BalanceHistory(), action: BalancesAction) => {\n    switch (action.type) {\n        case getType(balancesActions.storeBalanceActions):\n            let balanceHistory = state.balanceHistory;\n\n            action.payload.map((balanceAction) => {\n                balanceHistory = balanceHistory.set(balanceAction.txHash, balanceAction);\n            });\n\n            // updateIndex is incremented to ensure that the BalanceHistory is\n            // re-rendered.\n            return state\n                .set(\"balanceHistory\", balanceHistory)\n                .set(\"updateIndex\", state.updateIndex + 1);\n        default:\n            return state;\n    }\n};\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as hiddenBookActions from \"../../actions/orderbook/hiddenBookActions\";\n\nimport { HiddenBookData } from \"../../reducers/types\";\n\ntype HiddenBookAction = ActionType<typeof hiddenBookActions>;\n\nexport const hiddenBookReducer = (state: HiddenBookData = new HiddenBookData(), action: HiddenBookAction) => {\n    switch (action.type) {\n        case getType(hiddenBookActions.setHiddenOrders):\n            return state.set(\"hiddenOrders\", action.payload.hiddenOrders);\n        default:\n            return state;\n    }\n};\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as inputsActions from \"../../actions/inputs/inputsActions\";\n\nimport { InputsData } from \"../../reducers/types\";\n\ntype InputsAction = ActionType<typeof inputsActions>;\n\nexport const inputsReducer = (state: InputsData = new InputsData(), action: InputsAction) => {\n    switch (action.type) {\n        case getType(inputsActions.setMarket):\n            return state.set(\"market\", action.payload.market);\n        case getType(inputsActions.setOrder):\n            return state.set(\"orderInputs\", action.payload.orderInputs);\n        default:\n            return state;\n    }\n};\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as marketActions from \"../../actions/market/marketActions\";\n\nimport { MarketPrice, MarketPriceData } from \"../../reducers/types\";\n\ntype MarketAction = ActionType<typeof marketActions>;\n\nexport const marketReducer = (state: MarketPriceData = new MarketPriceData(), action: MarketAction) => {\n    switch (action.type) {\n        case getType(marketActions.updatePrices):\n            const { price, percentChange } = action.payload;\n            const marketPrice: MarketPrice = { price, percentChange };\n            return state.set(\"marketPrices\", state.marketPrices.set(action.payload.pair, marketPrice));\n        default:\n            return state;\n    }\n};\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as popupActions from \"../../actions/popup/popupActions\";\n\nimport { PopupData, PopupDetails } from \"../../reducers/types\";\n\ntype PopupAction = ActionType<typeof popupActions>;\n\nexport const popupReducer = (state: PopupData = new PopupData(), action: PopupAction) => {\n    switch (action.type) {\n        case getType(popupActions.setPopup):\n            document.documentElement.classList.add(\"noscroll\");\n\n            const stackItem: PopupDetails = {\n                popup: action.payload.popup,\n                dismissible: action.payload.dismissible !== false,\n                onCancel: action.payload.onCancel,\n            };\n\n            return state.set(\"stack\", state.stack.push(stackItem));\n        case getType(popupActions.clearPopup):\n            document.documentElement.classList.remove(\"noscroll\");\n            return state.set(\"stack\", state.stack.pop());\n        default:\n            return state;\n    }\n};\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as traderBookActions from \"../../actions/orderbook/traderBookActions\";\n\nimport { TraderBookData } from \"../../reducers/types\";\nimport { TraderOrderRecord } from \"../../reducers/typesSdk\";\n\ntype TraderBookAction = ActionType<typeof traderBookActions>;\n\nexport const traderBookReducer = (state: TraderBookData = new TraderBookData(), action: TraderBookAction) => {\n    switch (action.type) {\n        case getType(traderBookActions.addOrders):\n            const toAdd = action.payload;\n            let traderOrders = state.traderOrders;\n            toAdd.map((traderOrder: TraderOrderRecord) => {\n                traderOrders = traderOrders.set(traderOrder.id, traderOrder);\n            });\n            return state.set(\"traderOrders\", traderOrders);\n        case getType(traderBookActions.updateOrderStatus):\n            let order = state.traderOrders.get(action.payload.orderID, undefined);\n            if (!order) {\n                return state;\n            }\n            order = order.set(\"status\", action.payload.orderStatus);\n            return state.set(\"traderOrders\", state.traderOrders.set(order.id, order));\n        case getType(traderBookActions.updateOrderCancelling):\n            return state.set(\"cancelling\", state.cancelling.set(action.payload.orderID, action.payload.orderCancelling));\n        default:\n            return state;\n    }\n};\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as atomicActions from \"../../actions/settlement/atomicActions\";\nimport * as accountActions from \"../../actions/trader/accountActions\";\nimport * as balanceActions from \"../../actions/trader/balanceActions\";\nimport * as migrationActions from \"../../actions/trader/migrationActions\";\nimport * as termsActions from \"../../actions/trader/termsActions\";\nimport * as walletActions from \"../../actions/trader/walletActions\";\n\nimport { TraderData } from \"../../reducers/types\";\n\ntype AccountAction = ActionType<typeof accountActions>;\ntype TermsAction = ActionType<typeof termsActions>;\ntype MigrationActions = ActionType<typeof migrationActions>;\ntype BalanceAction = ActionType<typeof balanceActions>;\ntype WalletAction = ActionType<typeof walletActions>;\ntype AtomicAction = ActionType<typeof atomicActions>;\n\nexport const traderReducer = (state: TraderData = new TraderData(), action: AccountAction | TermsAction | MigrationActions | BalanceAction | WalletAction | AtomicAction) => {\n    switch (action.type) {\n        case getType(accountActions.storeAddress):\n            return state.set(\"address\", action.payload);\n        case getType(accountActions.storeURL):\n            return state.set(\"url\", action.payload);\n\n        // Legacy balances\n        case getType(balanceActions.updateLegacyBalance):\n            return state.set(\"legacyBalances\", state.legacyBalances.set(action.payload.token, action.payload.balance));\n        case getType(balanceActions.updateLegacyBalances):\n            return state.set(\"legacyBalances\", action.payload.balances);\n\n        // Legacy usable balances\n        case getType(balanceActions.updateUsableLegacyBalance):\n            return state.set(\"usableLegacyBalances\", state.usableLegacyBalances.set(action.payload.token, action.payload.usableBalance));\n        case getType(balanceActions.updateUsableLegacyBalances):\n            return state.set(\"usableLegacyBalances\", action.payload.usableBalances);\n\n        // Account balance\n        case getType(balanceActions.updateAccountLegacyBalance):\n            return state.set(\"accountLegacyBalances\", state.accountLegacyBalances.set(action.payload.token, action.payload.accountBalance));\n        case getType(balanceActions.updateAccountLegacyBalances):\n            return state.set(\"accountLegacyBalances\", action.payload.accountBalances);\n\n        // Usable Atomic Action\n        case getType(balanceActions.updateUsableAtomicBalances):\n            return state.set(\"usableAtomicBalances\", action.payload.usableAtomicBalances);\n\n        // Atomic Balance\n        case getType(balanceActions.updateAtomicBalances):\n            return state.set(\"atomicBalances\", action.payload.atomicBalances);\n        case getType(balanceActions.updateAtomicAddresses):\n            return state.set(\"atomicAddresses\", action.payload.atomicAddresses);\n        case getType(atomicActions.updateAtomConnectionStatus):\n            return state.set(\"atomConnectionStatus\", action.payload.atomConnectionStatus);\n\n        // Terms\n        case getType(termsActions.agreeToTerms):\n            return state.set(\"agreedToTerms\", action.payload.agreedToTerms);\n\n        // Migration\n        case getType(migrationActions.seenMigration):\n            return state.set(\"seenMigrationMap\", state.seenMigrationMap.set(action.payload.address, action.payload.seenMigration));\n\n        // Wallet\n        case getType(walletActions.storeWallet):\n            return state.set(\"wallet\", action.payload.wallet);\n\n        default:\n            return state;\n    }\n};\n","import { ActionType, getType } from \"typesafe-actions\";\n\nimport * as sdkActions from \"../../actions/sdk/sdkActions\";\n\nimport { SDKData } from \"../../reducers/types\";\n\ntype SDKAction = ActionType<typeof sdkActions>;\n\nexport const sdkReducer = (state: SDKData = new SDKData(), action: SDKAction) => {\n    switch (action.type) {\n        case getType(sdkActions.storeSDK):\n            console.assert(action.payload.sdk !== undefined);\n            window.sdk = action.payload.sdk;\n            return state.set(\"sdk\", action.payload.sdk);\n        case getType(sdkActions.storeSDKData):\n            return state\n                .set(\"supportedTokens\", action.payload.supportedTokens)\n                .set(\"supportedAtomicTokens\", action.payload.supportedAtomicTokens)\n                .set(\"darknodeFeePercent\", action.payload.darknodeFeePercent)\n                .set(\"wrappingFeePercent\", action.payload.wrappingFeePercent)\n                .set(\"minEthTradeVolume\", action.payload.minEthTradeVolume)\n                .set(\"supportedMarkets\", action.payload.supportedMarkets);\n        default:\n            return state;\n    }\n};\n","import storage from \"redux-persist/lib/storage\";\n\nimport { createTransform, PersistConfig } from \"redux-persist\";\n\nimport { _captureBackgroundException_ } from \"../lib/errors\";\nimport { ApplicationData, TraderData } from \"../reducers/types\";\n\n// Local Storage:\n\nconst traderTransform = createTransform<TraderData, string>(\n    (inboundState: TraderData, key: string): string => {\n        try {\n            return inboundState.serialize();\n        } catch (error) {\n            console.error(`Error serializing ${key} (${JSON.stringify(inboundState)}): ${error}`);\n            _captureBackgroundException_(error, { description: \"Error serializing local storage\" });\n            throw error;\n        }\n    },\n    (outboundState: string, key: string): TraderData => {\n        try {\n            return new TraderData().deserialize(outboundState);\n        } catch (error) {\n            console.error(`Error deserializing ${key} (${JSON.stringify(outboundState)}): ${error}`);\n            _captureBackgroundException_(error, { description: \"Error deserializing local storage\" });\n            throw error;\n        }\n    },\n    { whitelist: [\"trader\"] as Array<keyof ApplicationData>, },\n);\n\nexport const persistConfig: PersistConfig = {\n    storage,\n    key: \"root\",\n    whitelist: [\"trader\"] as Array<keyof ApplicationData>,\n    transforms: [traderTransform],\n};\n","import thunk from \"redux-thunk\";\n\nimport { Action, applyMiddleware, createStore, Middleware, Reducer } from \"redux\";\nimport { PersistConfig, persistReducer, persistStore } from \"redux-persist\";\n\nimport { rootReducer } from \"../reducers/rootReducer\";\nimport { persistConfig } from \"./persistConfig\";\n\nconst middlewares: Middleware[] = [\n    thunk,\n];\n\n// Log Redux actions (only in development)\nif (process.env.NODE_ENV === \"development\") {\n    // middlewares.push(createLogger({ collapsed: true }));\n}\n\n// Workaround createStore not liking type of persistReducer\nconst typedPersistReducer = <S, A extends Action>(config: PersistConfig, reducer: Reducer<S, A>) => {\n    return persistReducer<S | undefined, A>(\n        config,\n        reducer\n    );\n};\n\nconst persistedReducer = typedPersistReducer(persistConfig, rootReducer);\n\nexport const configureStore = () => {\n    const store = createStore(\n        persistedReducer,\n        applyMiddleware(...middlewares),\n    );\n    const persistor = persistStore(store);\n\n    return { store, persistor };\n};\n","import * as Sentry from \"@sentry/browser\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport RenExSDK, { NetworkData } from \"@renex/renex\";\nimport Web3 from \"web3\";\n\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { HttpProvider } from \"web3/providers\";\n\nimport { App } from \"./components/App\";\nimport { _catch_ } from \"./components/ErrorBoundary\";\nimport { configureStore } from \"./store/configureStore\";\n\nexport const { store, persistor } = configureStore();\n\nimport \"./index.scss\";\n\ninterface EthereumProvider extends HttpProvider {\n    enable(): Promise<void>;\n}\n\ndeclare global {\n    interface Window {\n        web3: Web3 | undefined;\n        ethereum: EthereumProvider | undefined;\n        API: string;\n        NETWORK: NetworkData;\n        INFURA_KEY: string;\n        WYRE_KEY: string;\n        KYBER_KEY: string;\n        SENTRY_DSN: string;\n        sdk: RenExSDK;\n        RENEX_VERSION: string;\n    }\n}\n\n// Initialize Sentry error logging\nSentry.init({\n    dsn: window.SENTRY_DSN,\n    release: window.RENEX_VERSION,\n    environment: (process.env.NODE_ENV === \"development\") ? \"local\" : window.NETWORK.network,\n});\n\nSentry.configureScope((scope) => {\n    scope.setExtra(\"loggedIn\", false);\n});\n\nReactDOM.render(\n    _catch_(<Provider store={store}>\n        <PersistGate loading={null} persistor={persistor}>\n            <App />\n        </PersistGate>\n    </Provider>),\n    document.getElementById(\"root\") as HTMLElement\n);\n","var map = {\n\t\"./btc.svg\": 793,\n\t\"./dgx.svg\": 794,\n\t\"./eth.svg\": 795,\n\t\"./omg.svg\": 796,\n\t\"./ren.svg\": 797,\n\t\"./tusd.svg\": 798,\n\t\"./wbtc.png\": 799,\n\t\"./wbtc.svg\": 800,\n\t\"./zrx.svg\": 801\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 79;","module.exports = __webpack_public_path__ + \"static/media/btc.dd58cd55.svg\";","module.exports = __webpack_public_path__ + \"static/media/dgx.09966c0f.svg\";","module.exports = __webpack_public_path__ + \"static/media/eth.ac24c334.svg\";","module.exports = __webpack_public_path__ + \"static/media/omg.cbd0e5e9.svg\";","module.exports = __webpack_public_path__ + \"static/media/ren.05a00b3b.svg\";","module.exports = __webpack_public_path__ + \"static/media/tusd.c377a1ca.svg\";","module.exports = __webpack_public_path__ + \"static/media/wbtc.a81a823b.png\";","module.exports = __webpack_public_path__ + \"static/media/wbtc.8122efc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/zrx.7ede344d.svg\";"],"sourceRoot":""}